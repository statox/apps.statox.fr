import{aX as o,ag as S,u as y,k as h,o as _,a0 as n,aY as x,aZ as C,n as E,v as b}from"./CbdQCwiJ.js";function V(e,l,a=l){var d=new WeakSet;o(e,"input",async r=>{var f=r?e.defaultValue:e.value;if(f=u(e)?t(f):f,a(f),n!==null&&d.add(n),await S(),f!==(f=l())){var v=e.selectionStart,s=e.selectionEnd;e.value=f??"",s!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(s,e.value.length))}}),(_&&e.defaultValue!==e.value||y(l)==null&&e.value)&&(a(u(e)?t(e.value):e.value),n!==null&&d.add(n)),h(()=>{var r=l();if(e===document.activeElement){var f=x??n;if(d.has(f))return}u(e)&&r===t(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const k=new Set;function q(e,l,a,d,r=d){var f=a.getAttribute("type")==="checkbox",v=e;let s=!1;if(l!==null)for(var g of l)v=v[g]??=[];v.push(a),o(a,"change",()=>{var c=a.__value;f&&(c=m(v,c,a.checked)),r(c)},()=>r(f?[]:null)),h(()=>{var c=d();if(_&&a.defaultChecked!==a.checked){s=!0;return}f?(c=c||[],a.checked=c.includes(a.__value)):a.checked=C(a.__value,c)}),E(()=>{var c=v.indexOf(a);c!==-1&&v.splice(c,1)}),k.has(v)||(k.add(v),b(()=>{v.sort((c,i)=>c.compareDocumentPosition(i)===4?-1:1),k.delete(v)})),b(()=>{if(s){var c;if(f)c=m(v,c,a.checked);else{var i=v.find(w=>w.checked);c=i?.__value}r(c)}})}function B(e,l,a=l){o(e,"change",d=>{var r=d?e.defaultChecked:e.checked;a(r)}),(_&&e.defaultChecked!==e.checked||y(l)==null)&&a(e.checked),h(()=>{var d=l();e.checked=!!d})}function m(e,l,a){for(var d=new Set,r=0;r<e.length;r+=1)e[r].checked&&d.add(e[r].__value);return a||d.delete(l),Array.from(d)}function u(e){var l=e.type;return l==="number"||l==="range"}function t(e){return e===""?null:+e}function D(e,l,a=l){o(e,"change",()=>{a(e.files)}),_&&e.files&&a(e.files),h(()=>{e.files=l()})}export{q as a,V as b,B as c,D as d};
