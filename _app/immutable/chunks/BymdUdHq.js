import{V as Y,Y as G,o as l,q as K,aI as b,al as O,am as P,R as U,an as k,a2 as C,aJ as y,aA as D,A as H,_ as o,v as V,J as Z,aC as L,aK as R,aL as S,a5 as g,ao as p,a3 as I,y as j}from"./CojBt_Mh.js";const A=0,c=1,N=2;function B(q,w,n,T,_){l&&K();var s=q,x=Y(),J=g,a=C,t,r,f,v=x?D(void 0):H(void 0,!1,!1),d=x?D(void 0):H(void 0,!1,!1),h=!1;function u(e,i){h=!0,i&&(L(E),R(E),S(J));try{e===A&&n&&(t?p(t):t=o(()=>n(s))),e===c&&T&&(r?p(r):r=o(()=>T(s,v))),e===N&&_&&(f?p(f):f=o(()=>_(s,d))),e!==A&&t&&I(t,()=>t=null),e!==c&&r&&I(r,()=>r=null),e!==N&&f&&I(f,()=>f=null)}finally{i&&(S(null),R(null),L(null),j())}}var E=G(()=>{if(a===(a=w()))return;let e=l&&b(a)===(s.data===O);if(e&&(s=P(),U(s),k(!1),e=!0),b(a)){var i=a;h=!1,i.then(m=>{i===a&&(y(v,m),u(c,!0))},m=>{if(i===a&&(y(d,m),u(N,!0),!_))throw d.v}),l?n&&(t=o(()=>n(s))):V(()=>{h||u(A,!0)})}else y(v,a),u(c,!1);return e&&k(!0),()=>a=C});l&&(s=Z)}export{B as a};
