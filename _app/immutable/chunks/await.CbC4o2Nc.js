import{E as U,F as Z,j as m,k as j,Q as F,R as h,G as c,q as L,U as E,H as P,c as T,m as H,T as q,V as w,W as A,X as p,Y as y,f as Q,Z as R}from"./index-client.CflxByDC.js";const x=0,l=1,I=2;function W(C,D,n,N,o){m&&j();var i=C,b=U(),G=R,a=E,r,s,t,_=(b?T:H)(void 0),v=(b?T:H)(void 0),d=!1;function u(e,f){d=!0,f&&(q(k),w(k),A(G));try{e===x&&n&&(r?p(r):r=c(()=>n(i))),e===l&&N&&(s?p(s):s=c(()=>N(i,_))),e===I&&o&&(t?p(t):t=c(()=>o(i,v))),e!==x&&r&&y(r,()=>r=null),e!==l&&s&&y(s,()=>s=null),e!==I&&t&&y(t,()=>t=null)}finally{f&&(A(null),w(null),q(null),Q())}}var k=Z(()=>{if(a!==(a=D())){if(F(a)){var e=a;d=!1,e.then(f=>{e===a&&(h(_,f),u(l,!0))},f=>{if(e===a&&(h(v,f),u(I,!0),!o))throw v.v}),m?n&&(r=c(()=>n(i))):L(()=>{d||u(x,!0)})}else h(_,a),u(l,!1);return()=>a=E}});m&&(i=P)}export{W as a};
