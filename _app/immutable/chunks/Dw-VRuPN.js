import{aM as A,I as S,J as n,K as g,aN as p,N as w,P as B,O as D,Q as c,T as O,ax as v,a8 as T,ac as E,aO as P,aP as R,aQ as H,aR as L,A as M,aS as Q}from"./DgoBSJc-.js";import{B as q}from"./BSQypeNZ.js";const b=0,_=1;function K(m,k,y,r,l){n&&g();var N=A(),t=Q,i=N?T(t):E(t,!1,!1),o=N?T(t):E(t,!1,!1),a=new q(m);S(()=>{var u=k(),h=!1;let I=n&&p(u)===(m.data===w);if(I&&(B(D()),c(!1)),p(u)){var x=P(),d=!1;const s=e=>{if(!h){d=!0,x(!1),R.ensure(),n&&c(!1);try{e()}finally{H(),L||M()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(_,r&&(f=>r(f,i)))})},e=>{s(()=>{if(v(o,e),a.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?a.ensure(b,y):O(()=>{d||s(()=>{a.ensure(b,y)})})}else v(i,u),a.ensure(_,r&&(s=>r(s,i)));return I&&c(!0),()=>{h=!0}})}export{K as a};
