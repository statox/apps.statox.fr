var T=Object.defineProperty;var b=(r,e,t)=>e in r?T(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var _=(r,e,t)=>b(r,typeof e!="symbol"?e+"":e,t);import{a as A}from"./public.FeUBmDTS.js";import{g as E}from"./SvelteToast.svelte_svelte_type_style_lang.Cb6bDeUm.js";import{s as C,e as f,t as I,a as M,c as u,b as p,d as P,f as m,g as S,m as h,N as g,i as $,h as d,j,n as w}from"./scheduler.BljvbZn4.js";import{S as q,i as z}from"./index.BkauvWu_.js";const U=async r=>{const{path:e}=r;if(!e.length||e[0]!=="/")throw new Error("Malformed path");const t=new Headers;if(t.set("Content-Type","application/json"),r.authorize){const a=await E();t.set("Authorization",`Bearer ${a}`)}const s=await fetch(`${A}${e}`,{method:"GET",mode:"cors",headers:t});if(s.status<200||s.status>=300){let a;try{a=await s.text()}catch{a="could not parse server error message"}throw new k(s.status,a)}return s.json()};class k extends Error{constructor(t,s){super(s);_(this,"code");this.code=t}}const H=async r=>{const{path:e,data:t}=r;if(!e.length||e[0]!=="/")throw new Error("Malformed path");const s=await E(),a=JSON.stringify(t),o=await fetch(`${A}${e}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:a});if(o.status<200||o.status>=300){let c;try{c=await o.text()}catch{c="could not parse server error message"}throw new k(o.status,c)}return o.json()};function y(r){let e,t=r[0].message+"",s;return{c(){e=f("div"),s=I(t),this.h()},l(a){e=u(a,"DIV",{class:!0});var o=p(e);s=P(o,t),o.forEach(m),this.h()},h(){h(e,"class","message svelte-17ommya")},m(a,o){$(a,e,o),d(e,s)},p(a,o){o&1&&t!==(t=a[0].message+"")&&j(s,t)},d(a){a&&m(e)}}}function B(r){let e,t,s=r[0].header+"",a,o,c,n=r[0].message&&y(r);return{c(){e=f("div"),t=f("div"),a=I(s),o=M(),n&&n.c(),this.h()},l(i){e=u(i,"DIV",{class:!0});var l=p(e);t=u(l,"DIV",{class:!0});var v=p(t);a=P(v,s),v.forEach(m),o=S(l),n&&n.l(l),l.forEach(m),this.h()},h(){h(t,"class","header svelte-17ommya"),h(e,"class",c=g("container "+r[0].level)+" svelte-17ommya")},m(i,l){$(i,e,l),d(e,t),d(t,a),d(e,o),n&&n.m(e,null)},p(i,[l]){l&1&&s!==(s=i[0].header+"")&&j(a,s),i[0].message?n?n.p(i,l):(n=y(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),l&1&&c!==(c=g("container "+i[0].level)+" svelte-17ommya")&&h(e,"class",c)},i:w,o:w,d(i){i&&m(e),n&&n.d()}}}function D(r,e,t){let{item:s}=e;return r.$$set=a=>{"item"in a&&t(0,s=a.item)},[s]}class J extends q{constructor(e){super(),z(this,e,D,B,C,{item:0})}}export{k as A,J as M,H as a,U as r};
