import{P as i}from"./CELBgAxi.js";class n extends Error{code;constructor(r,c){super(c),this.code=r}}const a=async e=>{const{path:r}=e;if(!r.length||r[0]!=="/")throw new Error("Malformed path");const c=new Headers;c.set("Content-Type","application/json");const s=await fetch(`${i}${r}`,{method:"GET",mode:"cors",credentials:"include",headers:c});if(s.status<200||s.status>=300){let o;try{o=await s.text()}catch{o="could not parse server error message"}throw new n(s.status,o)}return s.json()},t=async e=>{const{path:r,data:c}=e;if(!r.length||r[0]!=="/")throw new Error("Malformed path");const s=JSON.stringify(c),o=await fetch(`${i}${r}`,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:s});if(o.status<200||o.status>=300){let h;try{h=await o.text()}catch{h="could not parse server error message"}throw new n(o.status,h)}return o.json()},d={auth:{login:e=>t({path:"/auth/login",data:e}),logout:()=>t({path:"/auth/logout",data:{}}),me:()=>t({path:"/auth/me",data:{}})},chords:{addLinkVisit:e=>t({path:"/chords/addLinkVisit",data:e}),checkLinks:()=>a({path:"/chords/checkLinks"}),getAll:()=>a({path:"/chords/getAll"}),getLinksVisitsCount:()=>a({path:"/chords/getLinksVisitsCount"}),updateAll:e=>t({path:"/chords/updateAll",data:e})},clipboard:{addEntry:e=>t({path:"/clipboard/addEntry",data:e}),deleteEntry:e=>t({path:"/clipboard/deleteEntry",data:e}),getAllEntries:()=>a({path:"/clipboard/getAllEntries"}),getPublicEntries:()=>a({path:"/clipboard/getPublicEntries"})},cookbook:{addRecipe:e=>t({path:"/cookbook/addRecipe",data:e}),listRecipes:()=>a({path:"/cookbook/listRecipes"}),listIngedients:()=>a({path:"/cookbook/listIngredients"}),getRecipes:e=>t({path:"/cookbook/getRecipe",data:{recipeId:e}})},gravitrips:{getNewGame:()=>a({path:"/gravitrips/getNewGame"})},homeTracker:{getEphemerides:()=>a({path:"/homeTracker/getEphemerides"}),getSensorsDataForDashboard:()=>a({path:"/homeTracker/getSensorsDataForDashboard"}),getWeatherForecast:()=>a({path:"/homeTracker/getWeatherForecast"}),histogramData:e=>t({path:"/homeTracker/histogramData",data:e}),histogramDataPublic:e=>t({path:"/homeTracker/histogramDataPublic",data:e}),updateSensorMetadata:e=>t({path:"/homeTracker/updateSensorMetadata",data:e})},personalTracker:{upload:e=>t({path:"/personalTracker/upload",data:e}),getAll:()=>a({path:"/personalTracker/getAll"})},reactor:{getEntriesForPublic:()=>a({path:"/reactor/getEntriesForPublic"})},webWatchers:{createWatcher:e=>t({path:"/webWatcher/createWatcher",data:e}),deleteWatcher:e=>t({path:"/webWatcher/deleteWatcher",data:e}),getAllWatchers:()=>a({path:"/webWatcher/getAllWatchers"}),toggleWatcherEnabled:e=>t({path:"/webWatcher/toggleWatcherEnabled",data:e})}};export{n as A,d as c};
