import{R as w,u as g,r as h,h as _,Y as s,aU as x,aV as C,t as E,q as m}from"./B0UlURnY.js";import{c as u}from"./xAPHX074.js";function A(e,l,a=l){var d=w(),f=new WeakSet;u(e,"input",v=>{var r=v?e.defaultValue:e.value;if(r=t(e)?b(r):r,a(r),s!==null&&f.add(s),d&&r!==(r=l())){var o=e.selectionStart,n=e.selectionEnd;e.value=r??"",n!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(n,e.value.length))}}),(_&&e.defaultValue!==e.value||g(l)==null&&e.value)&&(a(t(e)?b(e.value):e.value),s!==null&&f.add(s)),h(()=>{var v=l();if(e===document.activeElement){var r=x??s;if(f.has(r))return}t(e)&&v===b(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}const k=new Set;function B(e,l,a,d,f=d){var v=a.getAttribute("type")==="checkbox",r=e;let o=!1;if(l!==null)for(var n of l)r=r[n]??=[];r.push(a),u(a,"change",()=>{var c=a.__value;v&&(c=y(r,c,a.checked)),f(c)},()=>f(v?[]:null)),h(()=>{var c=d();if(_&&a.defaultChecked!==a.checked){o=!0;return}v?(c=c||[],a.checked=c.includes(a.__value)):a.checked=C(a.__value,c)}),E(()=>{var c=r.indexOf(a);c!==-1&&r.splice(c,1)}),k.has(r)||(k.add(r),m(()=>{r.sort((c,i)=>c.compareDocumentPosition(i)===4?-1:1),k.delete(r)})),m(()=>{if(o){var c;if(v)c=y(r,c,a.checked);else{var i=r.find(S=>S.checked);c=i?.__value}f(c)}})}function D(e,l,a=l){u(e,"change",d=>{var f=d?e.defaultChecked:e.checked;a(f)}),(_&&e.defaultChecked!==e.checked||g(l)==null)&&a(e.checked),h(()=>{var d=l();e.checked=!!d})}function y(e,l,a){for(var d=new Set,f=0;f<e.length;f+=1)e[f].checked&&d.add(e[f].__value);return a||d.delete(l),Array.from(d)}function t(e){var l=e.type;return l==="number"||l==="range"}function b(e){return e===""?null:+e}function M(e,l,a=l){u(e,"change",()=>{a(e.files)}),_&&e.files&&a(e.files),h(()=>{e.files=l()})}export{B as a,A as b,D as c,M as d};
