import{aK as g,Q as w,R as n,S as x,aL as I,V as A,X as B,W as D,Y as c,$ as L,at as v,ae as E,J as T,aM as R,aN as H,aO as M,aP as O,z as P,aQ as Q}from"./D6WCIunz.js";import{B as Y}from"./DLdDGDPK.js";const b=0,_=1;function G(m,k,y,r,l){n&&x();var h=g(),t=Q,i=h?E(t):T(t,!1,!1),o=h?E(t):T(t,!1,!1),a=new Y(m);w(()=>{var u=k(),N=!1;let d=n&&I(u)===(m.data===A);if(d&&(B(D()),c(!1)),I(u)){var S=R(),p=!1;const s=e=>{if(!N){p=!0,S(!1),H.ensure(),n&&c(!1);try{e()}finally{M(),O||P()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(_,r&&(f=>r(f,i)))})},e=>{s(()=>{if(v(o,e),a.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?a.ensure(b,y):L(()=>{p||s(()=>{a.ensure(b,y)})})}else v(i,u),a.ensure(_,r&&(s=>r(s,i)));return d&&c(!0),()=>{N=!0}})}export{G as a};
