import{D as r}from"./DTyfSRsR.js";import{P as h}from"./CELBgAxi.js";import{s as b}from"./BgJCQexd.js";import{r as c,a as l}from"./DTRCIxyi.js";const p=t=>{const s=r.now(),d=r.fromSeconds(t.creationDateUnix).toRelative({style:"short"})||"N/A",u=t.creationDateUnix+t.ttl,i=r.fromSeconds(u),a=i.diffNow("seconds").get("seconds"),o=i.diff(s).rescale(),e=[];o.years>0?(e.push("years"),e.push("months")):o.months>0?e.push("months"):o.days>0?e.push("days"):o.hours>0?(e.push("hours"),e.push("minutes")):o.minutes?e.push("minutes"):e.push("seconds");const f=o.shiftTo(...e).mapUnits(m=>Math.ceil(m)).toHuman();let n="not_soon";return i<s?n="expired":a<60*60?n="very_soon":a<60*60*24&&(n="soon"),{...t,formatedCreationDate:d,formatedExpirationDate:f,expirationStatus:n}},E=async()=>(await c({path:"/clipboard/getPublicEntries"})).map(s=>p(s)),g=async()=>(await c({path:"/clipboard/getAllEntries"})).map(s=>p(s)),w=async t=>{const s=h+"/clipboard/addEntry";if(t.file){await b.post(s).withCredentials().field("name",t.name).field("content",t.content).field("ttlSeconds",t.ttlSeconds).field("isPublic",t.isPublic).attach("file",t.file);return}return l({path:"/clipboard/addEntry",data:t})},C=t=>l({path:"/clipboard/deleteEntry",data:{name:t}});export{E as a,C as d,g,w as u};
