import{a as f}from"./CvVDCATZ.js";import{w}from"./DqykZqCX.js";const s=624,y=397,l=32,u=31,x=4294967295<<u>>>0,S=4294967295>>>l-u>>>0,p=2567483615,_=11,g=7,z=15,A=18,M=2636928640,b=4022730752,U=1812433253,$=(t,r)=>{t.state_array[0]=r;for(let a=1;a<s;a++)r=Math.imul(U,r^r>>>l-2)+a>>>0,t.state_array[a]=r;t.state_index=0},d=t=>{let r=t.state_index,a=r-(s-1);a<0&&(a+=s);let n=t.state_array[r]&x|t.state_array[a]&S,i=n>>>1;n&1&&(i^=p),a=r-(s-y),a<0&&(a+=s),n=(t.state_array[a]^i)>>>0,t.state_array[r++]=n,r>=s&&(r=0),t.state_index=r;let o=n^n>>>_;return o=o^o<<g&M,o=o^o<<z&b,(o^o>>>A)>>>0},k=t=>d(t)/4294967296;class v{#t;#r;constructor(){this.#r={state_array:[],state_index:0},this.#t=!1}initialize(r){$(this.#r,r),this.#t=!0}randomInt(){if(!this.#t)throw new Error("State not initialized");return d(this.#r)}random(){if(!this.#t)throw new Error("State not initialized");return k(this.#r)}}const e=new v,c=w(),h=f.auth.me,R=async(t,r)=>{await f.auth.login({username:t,password:r}),await m()},T=async()=>{await f.auth.logout(),await m()},m=async()=>{try{c.set(await h())}catch{c.set(void 0)}},j=async()=>{try{const t=await h();c.set(t)}catch{c.set(void 0)}},B=(t,r)=>r?r.user.scopes.includes("admin")?!0:r.user.scopes.includes(t):!1,C=t=>t.split("").reduce((r,a,n)=>r+(n+1)*a.charCodeAt(0),1),F=t=>{if(!t)return"#990000";const r=C(t);e.initialize(r);const a=Math.floor(e.random()*255).toString(16).padStart(2,"0"),n=Math.floor(e.random()*255).toString(16).padStart(2,"0"),i=Math.floor(e.random()*255).toString(16).padStart(2,"0");return`#${a}${n}${i}`};export{m as a,T as b,j as c,F as d,B as i,R as l,c as u};
