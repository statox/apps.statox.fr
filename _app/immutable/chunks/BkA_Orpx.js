import{D as r}from"./DTyfSRsR.js";import{P as h}from"./CpX8xF_L.js";import"./C_9RhL28.js";import{r as l,a as c}from"./Cp0cevRc.js";import{s as b}from"./BgJCQexd.js";const p=t=>{const s=r.now(),u=r.fromSeconds(t.creationDateUnix).toRelative({style:"short"})||"N/A",d=t.creationDateUnix+t.ttl,o=r.fromSeconds(d),a=o.diffNow("seconds").get("seconds"),i=o.diff(s).rescale(),e=[];i.years>0?(e.push("years"),e.push("months")):i.months>0?e.push("months"):i.days>0?e.push("days"):i.hours>0?(e.push("hours"),e.push("minutes")):i.minutes?e.push("minutes"):e.push("seconds");const f=i.shiftTo(...e).mapUnits(m=>Math.ceil(m)).toHuman();let n="not_soon";return o<s?n="expired":a<60*60?n="very_soon":a<60*60*24&&(n="soon"),{...t,formatedCreationDate:u,formatedExpirationDate:f,expirationStatus:n}},E=async()=>(await l({path:"/clipboard/getPublicEntries"})).map(s=>p(s)),U=async()=>(await l({path:"/clipboard/getAllEntries"})).map(s=>p(s)),g=async t=>{const s=h+"/clipboard/addEntry";if(t.file){await b.post(s).withCredentials().field("name",t.name).field("content",t.content).field("ttlSeconds",t.ttlSeconds).field("isPublic",t.isPublic).attach("file",t.file);return}return c({path:"/clipboard/addEntry",data:t,isUnauthenticatedCall:!0})},w=t=>c({path:"/clipboard/deleteEntry",data:{name:t},isUnauthenticatedCall:!0});export{E as a,w as d,U as g,g as u};
