import{c as f}from"./DPSdUY9Q.js";import{w}from"./DqykZqCX.js";const s=624,g=397,l=32,d=31,y=4294967295<<d>>>0,x=4294967295>>>l-d>>>0,_=2567483615,p=11,S=7,z=15,A=18,M=2636928640,b=4022730752,v=1812433253,U=(t,r)=>{t.state_array[0]=r;for(let o=1;o<s;o++)r=Math.imul(v,r^r>>>l-2)+o>>>0,t.state_array[o]=r;t.state_index=0},u=t=>{let r=t.state_index,o=r-(s-1);o<0&&(o+=s);let n=t.state_array[r]&y|t.state_array[o]&x,e=n>>>1;n&1&&(e^=_),o=r-(s-g),o<0&&(o+=s),n=(t.state_array[o]^e)>>>0,t.state_array[r++]=n,r>=s&&(r=0),t.state_index=r;let a=n^n>>>p;return a=a^a<<S&M,a=a^a<<z&b,(a^a>>>A)>>>0},$=t=>u(t)/4294967296;class k{#t;#r;constructor(){this.#r={state_array:[],state_index:0},this.#t=!1}initialize(r){U(this.#r,r),this.#t=!0}randomInt(){if(!this.#t)throw new Error("State not initialized");return u(this.#r)}random(){if(!this.#t)throw new Error("State not initialized");return $(this.#r)}}const c=new k,i=w(),h=f.auth.me,R=async(t,r)=>{await f.auth.login({username:t,password:r}),await m()},T=async()=>{await f.auth.logout({}),await m()},m=async()=>{try{const t=await h({});t.status==="logged_in"?i.set(t):i.set(void 0)}catch{i.set(void 0)}},j=async()=>{try{const t=await h({});t.status==="logged_in"?i.set(t):i.set(void 0)}catch{i.set(void 0)}},B=(t,r)=>r?r.user.scopes.includes("admin")?!0:r.user.scopes.includes(t):!1,C=t=>t.split("").reduce((r,o,n)=>r+(n+1)*o.charCodeAt(0),1),F=t=>{if(!t)return"#990000";const r=C(t);c.initialize(r);const o=Math.floor(c.random()*255).toString(16).padStart(2,"0"),n=Math.floor(c.random()*255).toString(16).padStart(2,"0"),e=Math.floor(c.random()*255).toString(16).padStart(2,"0");return`#${o}${n}${e}`};export{m as a,T as b,j as c,F as d,B as i,R as l,i as u};
