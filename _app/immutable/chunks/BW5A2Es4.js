import{Q as U,T as Y,h as c,a as G,a3 as A,a4 as P,a5 as Q,O as V,a6 as k,W as D,a7 as y,a8 as H,m as S,V as o,q as W,I as Z,a9 as q,aa as w,ab as C,Y as g,ac as I,U as T,c as j}from"./Cv-zmWGa.js";const p=0,l=1,N=2;function B(L,O,n,b,_){c&&G();var r=L,x=U(),R=g,a=D,s,t,f,v=(x?H:S)(void 0),d=(x?H:S)(void 0),h=!1;function u(e,i){h=!0,i&&(q(E),w(E),C(R));try{e===p&&n&&(s?I(s):s=o(()=>n(r))),e===l&&b&&(t?I(t):t=o(()=>b(r,v))),e===N&&_&&(f?I(f):f=o(()=>_(r,d))),e!==p&&s&&T(s,()=>s=null),e!==l&&t&&T(t,()=>t=null),e!==N&&f&&T(f,()=>f=null)}finally{i&&(C(null),w(null),q(null),j())}}var E=Y(()=>{if(a===(a=O()))return;let e=c&&A(a)===(r.data===P);if(e&&(r=Q(),V(r),k(!1),e=!0),A(a)){var i=a;h=!1,i.then(m=>{i===a&&(y(v,m),u(l,!0))},m=>{if(i===a&&(y(d,m),u(N,!0),!_))throw d.v}),c?n&&(s=o(()=>n(r))):W(()=>{h||u(p,!0)})}else y(v,a),u(l,!1);return e&&k(!0),()=>a=D});c&&(r=Z)}export{B as a};
