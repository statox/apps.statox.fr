import{P as Ut}from"./CELBgAxi.js";import{g as yn}from"./CE1G-McA.js";class on extends Error{code;constructor(r,f){super(f),this.code=r}}const pe=async e=>{const{path:r}=e;if(!r.length||r[0]!=="/")throw new Error("Malformed path");const f=new Headers;f.set("Content-Type","application/json");const n=await fetch(`${Ut}${r}`,{method:"GET",mode:"cors",credentials:"include",headers:f});if(n.status<200||n.status>=300){let u;try{u=await n.text()}catch{u="could not parse server error message"}throw new on(n.status,u)}return n.json()},ue=async e=>{const{path:r,data:f}=e;if(!r.length||r[0]!=="/")throw new Error("Malformed path");const n=JSON.stringify(f),u=await fetch(`${Ut}${r}`,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:n});if(u.status<200||u.status>=300){let i;try{i=await u.text()}catch{i="could not parse server error message"}throw new on(u.status,i)}return u.json()},Os={auth:{login:e=>ue({path:"/auth/login",data:e}),logout:()=>ue({path:"/auth/logout",data:{}}),me:()=>ue({path:"/auth/me",data:{}})},chords:{addLinkVisit:e=>ue({path:"/chords/addLinkVisit",data:e}),checkLinks:()=>pe({path:"/chords/checkLinks"}),getAll:()=>pe({path:"/chords/getAll"}),getLinksVisitsCount:()=>pe({path:"/chords/getLinksVisitsCount"}),updateAll:e=>ue({path:"/chords/updateAll",data:e})},cookbook:{addRecipe:e=>ue({path:"/cookbook/addRecipe",data:e}),listRecipes:()=>pe({path:"/cookbook/listRecipes"}),listIngedients:()=>pe({path:"/cookbook/listIngredients"}),getRecipe:e=>ue({path:"/cookbook/getRecipe",data:e})},gravitrips:{getNewGame:()=>pe({path:"/gravitrips/getNewGame"})},homeTracker:{getEphemerides:()=>pe({path:"/homeTracker/getEphemerides"}),getSensorsDataForDashboard:()=>pe({path:"/homeTracker/getSensorsDataForDashboard"}),getWeatherForecast:()=>pe({path:"/homeTracker/getWeatherForecast"}),histogramData:e=>ue({path:"/homeTracker/histogramData",data:e}),histogramDataPublic:e=>ue({path:"/homeTracker/histogramDataPublic",data:e}),updateSensorMetadata:e=>ue({path:"/homeTracker/updateSensorMetadata",data:e})},personalTracker:{upload:e=>ue({path:"/personalTracker/upload",data:e}),getAll:()=>pe({path:"/personalTracker/getAll"})},reactor:{getEntriesForPublic:()=>pe({path:"/reactor/getEntriesForPublic"})},webWatchers:{createWatcher:e=>ue({path:"/webWatcher/createWatcher",data:e}),deleteWatcher:e=>ue({path:"/webWatcher/deleteWatcher",data:e}),getAllWatchers:()=>pe({path:"/webWatcher/getAllWatchers"}),toggleWatcherEnabled:e=>ue({path:"/webWatcher/toggleWatcherEnabled",data:e})}};var Ce={exports:{}},jt={},_e={},Ee={},Tt={},Ot={},Rt={},Ht;function _t(){return Ht||(Ht=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class f extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=f;class n extends r{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((s,l)=>`${s}${l}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((s,l)=>(l instanceof f&&(s[l.str]=(s[l.str]||0)+1),s),{})}}e._Code=n,e.nil=new n("");function u(a,...t){const s=[a[0]];let l=0;for(;l<t.length;)d(s,t[l]),s.push(a[++l]);return new n(s)}e._=u;const i=new n("+");function m(a,...t){const s=[S(a[0])];let l=0;for(;l<t.length;)s.push(i),d(s,t[l]),s.push(i,S(a[++l]));return y(s),new n(s)}e.str=m;function d(a,t){t instanceof n?a.push(...t._items):t instanceof f?a.push(t):a.push(P(t))}e.addCodeArg=d;function y(a){let t=1;for(;t<a.length-1;){if(a[t]===i){const s=v(a[t-1],a[t+1]);if(s!==void 0){a.splice(t-1,3,s);continue}a[t++]="+"}t++}}function v(a,t){if(t==='""')return a;if(a==='""')return t;if(typeof a=="string")return t instanceof f||a[a.length-1]!=='"'?void 0:typeof t!="string"?`${a.slice(0,-1)}${t}"`:t[0]==='"'?a.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(a instanceof f))return`"${a}${t.slice(1)}`}function _(a,t){return t.emptyStr()?a:a.emptyStr()?t:m`${a}${t}`}e.strConcat=_;function P(a){return typeof a=="number"||typeof a=="boolean"||a===null?a:S(Array.isArray(a)?a.join(","):a)}function k(a){return new n(S(a))}e.stringify=k;function S(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=S;function w(a){return typeof a=="string"&&e.IDENTIFIER.test(a)?new n(`.${a}`):u`[${a}]`}e.getProperty=w;function g(a){if(typeof a=="string"&&e.IDENTIFIER.test(a))return new n(`${a}`);throw new Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}e.getEsmExportName=g;function o(a){return new n(a.toString())}e.regexpCode=o}(Rt)),Rt}var Nt={},Jt;function Bt(){return Jt||(Jt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=_t();class f extends Error{constructor(v){super(`CodeGen: "code" for ${v} not defined`),this.value=v.value}}var n;(function(y){y[y.Started=0]="Started",y[y.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class u{constructor({prefixes:v,parent:_}={}){this._names={},this._prefixes=v,this._parent=_}toName(v){return v instanceof r.Name?v:this.name(v)}name(v){return new r.Name(this._newName(v))}_newName(v){const _=this._names[v]||this._nameGroup(v);return`${v}${_.index++}`}_nameGroup(v){var _,P;if(!((P=(_=this._parent)===null||_===void 0?void 0:_._prefixes)===null||P===void 0)&&P.has(v)||this._prefixes&&!this._prefixes.has(v))throw new Error(`CodeGen: prefix "${v}" is not allowed in this scope`);return this._names[v]={prefix:v,index:0}}}e.Scope=u;class i extends r.Name{constructor(v,_){super(_),this.prefix=v}setValue(v,{property:_,itemIndex:P}){this.value=v,this.scopePath=(0,r._)`.${new r.Name(_)}[${P}]`}}e.ValueScopeName=i;const m=(0,r._)`\n`;class d extends u{constructor(v){super(v),this._values={},this._scope=v.scope,this.opts={...v,_n:v.lines?m:r.nil}}get(){return this._scope}name(v){return new i(v,this._newName(v))}value(v,_){var P;if(_.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const k=this.toName(v),{prefix:S}=k,w=(P=_.key)!==null&&P!==void 0?P:_.ref;let g=this._values[S];if(g){const t=g.get(w);if(t)return t}else g=this._values[S]=new Map;g.set(w,k);const o=this._scope[S]||(this._scope[S]=[]),a=o.length;return o[a]=_.ref,k.setValue(_,{property:S,itemIndex:a}),k}getValue(v,_){const P=this._values[v];if(P)return P.get(_)}scopeRefs(v,_=this._values){return this._reduceValues(_,P=>{if(P.scopePath===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return(0,r._)`${v}${P.scopePath}`})}scopeCode(v=this._values,_,P){return this._reduceValues(v,k=>{if(k.value===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return k.value.code},_,P)}_reduceValues(v,_,P={},k){let S=r.nil;for(const w in v){const g=v[w];if(!g)continue;const o=P[w]=P[w]||new Map;g.forEach(a=>{if(o.has(a))return;o.set(a,n.Started);let t=_(a);if(t){const s=this.opts.es5?e.varKinds.var:e.varKinds.const;S=(0,r._)`${S}${s} ${a} = ${t};${this.opts._n}`}else if(t=k?.(a))S=(0,r._)`${S}${t}${this.opts._n}`;else throw new f(a);o.set(a,n.Completed)})}return S}}e.ValueScope=d}(Nt)),Nt}var Xt;function J(){return Xt||(Xt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=_t(),f=Bt();var n=_t();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var u=Bt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return u.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return u.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return u.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return u.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class i{optimizeNodes(){return this}optimizeNames(c,$){return this}}class m extends i{constructor(c,$,N){super(),this.varKind=c,this.name=$,this.rhs=N}render({es5:c,_n:$}){const N=c?f.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${N} ${this.name}${V};`+$}optimizeNames(c,$){if(c[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,c,$)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class d extends i{constructor(c,$,N){super(),this.lhs=c,this.rhs=$,this.sideEffects=N}render({_n:c}){return`${this.lhs} = ${this.rhs};`+c}optimizeNames(c,$){if(!(this.lhs instanceof r.Name&&!c[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,c,$),this}get names(){const c=this.lhs instanceof r.Name?{}:{...this.lhs.names};return z(c,this.rhs)}}class y extends d{constructor(c,$,N,V){super(c,N,V),this.op=$}render({_n:c}){return`${this.lhs} ${this.op}= ${this.rhs};`+c}}class v extends i{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`${this.label}:`+c}}class _ extends i{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`break${this.label?` ${this.label}`:""};`+c}}class P extends i{constructor(c){super(),this.error=c}render({_n:c}){return`throw ${this.error};`+c}get names(){return this.error.names}}class k extends i{constructor(c){super(),this.code=c}render({_n:c}){return`${this.code};`+c}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(c,$){return this.code=Q(this.code,c,$),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class S extends i{constructor(c=[]){super(),this.nodes=c}render(c){return this.nodes.reduce(($,N)=>$+N.render(c),"")}optimizeNodes(){const{nodes:c}=this;let $=c.length;for(;$--;){const N=c[$].optimizeNodes();Array.isArray(N)?c.splice($,1,...N):N?c[$]=N:c.splice($,1)}return c.length>0?this:void 0}optimizeNames(c,$){const{nodes:N}=this;let V=N.length;for(;V--;){const L=N[V];L.optimizeNames(c,$)||(te(c,L.names),N.splice(V,1))}return N.length>0?this:void 0}get names(){return this.nodes.reduce((c,$)=>K(c,$.names),{})}}class w extends S{render(c){return"{"+c._n+super.render(c)+"}"+c._n}}class g extends S{}class o extends w{}o.kind="else";class a extends w{constructor(c,$){super($),this.condition=c}render(c){let $=`if(${this.condition})`+super.render(c);return this.else&&($+="else "+this.else.render(c)),$}optimizeNodes(){super.optimizeNodes();const c=this.condition;if(c===!0)return this.nodes;let $=this.else;if($){const N=$.optimizeNodes();$=this.else=Array.isArray(N)?new o(N):N}if($)return c===!1?$ instanceof a?$:$.nodes:this.nodes.length?this:new a(ye(c),$ instanceof a?[$]:$.nodes);if(!(c===!1||!this.nodes.length))return this}optimizeNames(c,$){var N;if(this.else=(N=this.else)===null||N===void 0?void 0:N.optimizeNames(c,$),!!(super.optimizeNames(c,$)||this.else))return this.condition=Q(this.condition,c,$),this}get names(){const c=super.names;return z(c,this.condition),this.else&&K(c,this.else.names),c}}a.kind="if";class t extends w{}t.kind="for";class s extends t{constructor(c){super(),this.iteration=c}render(c){return`for(${this.iteration})`+super.render(c)}optimizeNames(c,$){if(super.optimizeNames(c,$))return this.iteration=Q(this.iteration,c,$),this}get names(){return K(super.names,this.iteration.names)}}class l extends t{constructor(c,$,N,V){super(),this.varKind=c,this.name=$,this.from=N,this.to=V}render(c){const $=c.es5?f.varKinds.var:this.varKind,{name:N,from:V,to:L}=this;return`for(${$} ${N}=${V}; ${N}<${L}; ${N}++)`+super.render(c)}get names(){const c=z(super.names,this.from);return z(c,this.to)}}class h extends t{constructor(c,$,N,V){super(),this.loop=c,this.varKind=$,this.name=N,this.iterable=V}render(c){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(c)}optimizeNames(c,$){if(super.optimizeNames(c,$))return this.iterable=Q(this.iterable,c,$),this}get names(){return K(super.names,this.iterable.names)}}class p extends w{constructor(c,$,N){super(),this.name=c,this.args=$,this.async=N}render(c){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(c)}}p.kind="func";class b extends S{render(c){return"return "+super.render(c)}}b.kind="return";class R extends w{render(c){let $="try"+super.render(c);return this.catch&&($+=this.catch.render(c)),this.finally&&($+=this.finally.render(c)),$}optimizeNodes(){var c,$;return super.optimizeNodes(),(c=this.catch)===null||c===void 0||c.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(c,$){var N,V;return super.optimizeNames(c,$),(N=this.catch)===null||N===void 0||N.optimizeNames(c,$),(V=this.finally)===null||V===void 0||V.optimizeNames(c,$),this}get names(){const c=super.names;return this.catch&&K(c,this.catch.names),this.finally&&K(c,this.finally.names),c}}class C extends w{constructor(c){super(),this.error=c}render(c){return`catch(${this.error})`+super.render(c)}}C.kind="catch";class M extends w{render(c){return"finally"+super.render(c)}}M.kind="finally";class U{constructor(c,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=c,this._scope=new f.Scope({parent:c}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(c){return this._scope.name(c)}scopeName(c){return this._extScope.name(c)}scopeValue(c,$){const N=this._extScope.value(c,$);return(this._values[N.prefix]||(this._values[N.prefix]=new Set)).add(N),N}getScopeValue(c,$){return this._extScope.getValue(c,$)}scopeRefs(c){return this._extScope.scopeRefs(c,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(c,$,N,V){const L=this._scope.toName($);return N!==void 0&&V&&(this._constants[L.str]=N),this._leafNode(new m(c,L,N)),L}const(c,$,N){return this._def(f.varKinds.const,c,$,N)}let(c,$,N){return this._def(f.varKinds.let,c,$,N)}var(c,$,N){return this._def(f.varKinds.var,c,$,N)}assign(c,$,N){return this._leafNode(new d(c,$,N))}add(c,$){return this._leafNode(new y(c,e.operators.ADD,$))}code(c){return typeof c=="function"?c():c!==r.nil&&this._leafNode(new k(c)),this}object(...c){const $=["{"];for(const[N,V]of c)$.length>1&&$.push(","),$.push(N),(N!==V||this.opts.es5)&&($.push(":"),(0,r.addCodeArg)($,V));return $.push("}"),new r._Code($)}if(c,$,N){if(this._blockNode(new a(c)),$&&N)this.code($).else().code(N).endIf();else if($)this.code($).endIf();else if(N)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(c){return this._elseNode(new a(c))}else(){return this._elseNode(new o)}endIf(){return this._endBlockNode(a,o)}_for(c,$){return this._blockNode(c),$&&this.code($).endFor(),this}for(c,$){return this._for(new s(c),$)}forRange(c,$,N,V,L=this.opts.es5?f.varKinds.var:f.varKinds.let){const Z=this._scope.toName(c);return this._for(new l(L,Z,$,N),()=>V(Z))}forOf(c,$,N,V=f.varKinds.const){const L=this._scope.toName(c);if(this.opts.es5){const Z=$ instanceof r.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,r._)`${Z}.length`,X=>{this.var(L,(0,r._)`${Z}[${X}]`),N(L)})}return this._for(new h("of",V,L,$),()=>N(L))}forIn(c,$,N,V=this.opts.es5?f.varKinds.var:f.varKinds.const){if(this.opts.ownProperties)return this.forOf(c,(0,r._)`Object.keys(${$})`,N);const L=this._scope.toName(c);return this._for(new h("in",V,L,$),()=>N(L))}endFor(){return this._endBlockNode(t)}label(c){return this._leafNode(new v(c))}break(c){return this._leafNode(new _(c))}return(c){const $=new b;if(this._blockNode($),this.code(c),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(c,$,N){if(!$&&!N)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new R;if(this._blockNode(V),this.code(c),$){const L=this.name("e");this._currNode=V.catch=new C(L),$(L)}return N&&(this._currNode=V.finally=new M,this.code(N)),this._endBlockNode(C,M)}throw(c){return this._leafNode(new P(c))}block(c,$){return this._blockStarts.push(this._nodes.length),c&&this.code(c).endBlock($),this}endBlock(c){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const N=this._nodes.length-$;if(N<0||c!==void 0&&N!==c)throw new Error(`CodeGen: wrong number of nodes: ${N} vs ${c} expected`);return this._nodes.length=$,this}func(c,$=r.nil,N,V){return this._blockNode(new p(c,$,N)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(p)}optimize(c=1){for(;c-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(c){return this._currNode.nodes.push(c),this}_blockNode(c){this._currNode.nodes.push(c),this._nodes.push(c)}_endBlockNode(c,$){const N=this._currNode;if(N instanceof c||$&&N instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${c.kind}/${$.kind}`:c.kind}"`)}_elseNode(c){const $=this._currNode;if(!($ instanceof a))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=c,this}get _root(){return this._nodes[0]}get _currNode(){const c=this._nodes;return c[c.length-1]}set _currNode(c){const $=this._nodes;$[$.length-1]=c}}e.CodeGen=U;function K(O,c){for(const $ in c)O[$]=(O[$]||0)+(c[$]||0);return O}function z(O,c){return c instanceof r._CodeOrName?K(O,c.names):O}function Q(O,c,$){if(O instanceof r.Name)return N(O);if(!V(O))return O;return new r._Code(O._items.reduce((L,Z)=>(Z instanceof r.Name&&(Z=N(Z)),Z instanceof r._Code?L.push(...Z._items):L.push(Z),L),[]));function N(L){const Z=$[L.str];return Z===void 0||c[L.str]!==1?L:(delete c[L.str],Z)}function V(L){return L instanceof r._Code&&L._items.some(Z=>Z instanceof r.Name&&c[Z.str]===1&&$[Z.str]!==void 0)}}function te(O,c){for(const $ in c)O[$]=(O[$]||0)-(c[$]||0)}function ye(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,r._)`!${q(O)}`}e.not=ye;const ge=j(e.operators.AND);function ee(...O){return O.reduce(ge)}e.and=ee;const $e=j(e.operators.OR);function D(...O){return O.reduce($e)}e.or=D;function j(O){return(c,$)=>c===r.nil?$:$===r.nil?c:(0,r._)`${q(c)} ${O} ${q($)}`}function q(O){return O instanceof r.Name?O:(0,r._)`(${O})`}}(Ot)),Ot}var G={},Qt;function Y(){if(Qt)return G;Qt=1,Object.defineProperty(G,"__esModule",{value:!0}),G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const e=J(),r=_t();function f(h){const p={};for(const b of h)p[b]=!0;return p}G.toHash=f;function n(h,p){return typeof p=="boolean"?p:Object.keys(p).length===0?!0:(u(h,p),!i(p,h.self.RULES.all))}G.alwaysValidSchema=n;function u(h,p=h.schema){const{opts:b,self:R}=h;if(!b.strictSchema||typeof p=="boolean")return;const C=R.RULES.keywords;for(const M in p)C[M]||l(h,`unknown keyword: "${M}"`)}G.checkUnknownRules=u;function i(h,p){if(typeof h=="boolean")return!h;for(const b in h)if(p[b])return!0;return!1}G.schemaHasRules=i;function m(h,p){if(typeof h=="boolean")return!h;for(const b in h)if(b!=="$ref"&&p.all[b])return!0;return!1}G.schemaHasRulesButRef=m;function d({topSchemaRef:h,schemaPath:p},b,R,C){if(!C){if(typeof b=="number"||typeof b=="boolean")return b;if(typeof b=="string")return(0,e._)`${b}`}return(0,e._)`${h}${p}${(0,e.getProperty)(R)}`}G.schemaRefOrVal=d;function y(h){return P(decodeURIComponent(h))}G.unescapeFragment=y;function v(h){return encodeURIComponent(_(h))}G.escapeFragment=v;function _(h){return typeof h=="number"?`${h}`:h.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=_;function P(h){return h.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=P;function k(h,p){if(Array.isArray(h))for(const b of h)p(b);else p(h)}G.eachItem=k;function S({mergeNames:h,mergeToName:p,mergeValues:b,resultToName:R}){return(C,M,U,K)=>{const z=U===void 0?M:U instanceof e.Name?(M instanceof e.Name?h(C,M,U):p(C,M,U),U):M instanceof e.Name?(p(C,U,M),M):b(M,U);return K===e.Name&&!(z instanceof e.Name)?R(C,z):z}}G.mergeEvaluated={props:S({mergeNames:(h,p,b)=>h.if((0,e._)`${b} !== true && ${p} !== undefined`,()=>{h.if((0,e._)`${p} === true`,()=>h.assign(b,!0),()=>h.assign(b,(0,e._)`${b} || {}`).code((0,e._)`Object.assign(${b}, ${p})`))}),mergeToName:(h,p,b)=>h.if((0,e._)`${b} !== true`,()=>{p===!0?h.assign(b,!0):(h.assign(b,(0,e._)`${b} || {}`),g(h,b,p))}),mergeValues:(h,p)=>h===!0?!0:{...h,...p},resultToName:w}),items:S({mergeNames:(h,p,b)=>h.if((0,e._)`${b} !== true && ${p} !== undefined`,()=>h.assign(b,(0,e._)`${p} === true ? true : ${b} > ${p} ? ${b} : ${p}`)),mergeToName:(h,p,b)=>h.if((0,e._)`${b} !== true`,()=>h.assign(b,p===!0?!0:(0,e._)`${b} > ${p} ? ${b} : ${p}`)),mergeValues:(h,p)=>h===!0?!0:Math.max(h,p),resultToName:(h,p)=>h.var("items",p)})};function w(h,p){if(p===!0)return h.var("props",!0);const b=h.var("props",(0,e._)`{}`);return p!==void 0&&g(h,b,p),b}G.evaluatedPropsToName=w;function g(h,p,b){Object.keys(b).forEach(R=>h.assign((0,e._)`${p}${(0,e.getProperty)(R)}`,!0))}G.setEvaluated=g;const o={};function a(h,p){return h.scopeValue("func",{ref:p,code:o[p.code]||(o[p.code]=new r._Code(p.code))})}G.useFunc=a;var t;(function(h){h[h.Num=0]="Num",h[h.Str=1]="Str"})(t||(G.Type=t={}));function s(h,p,b){if(h instanceof e.Name){const R=p===t.Num;return b?R?(0,e._)`"[" + ${h} + "]"`:(0,e._)`"['" + ${h} + "']"`:R?(0,e._)`"/" + ${h}`:(0,e._)`"/" + ${h}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return b?(0,e.getProperty)(h).toString():"/"+_(h)}G.getErrorPath=s;function l(h,p,b=h.opts.strictSchema){if(b){if(p=`strict mode: ${p}`,b===!0)throw new Error(p);h.self.logger.warn(p)}}return G.checkStrictMode=l,G}var De={},Yt;function Pe(){if(Yt)return De;Yt=1,Object.defineProperty(De,"__esModule",{value:!0});const e=J(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return De.default=r,De}var Zt;function bt(){return Zt||(Zt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=J(),f=Y(),n=Pe();e.keywordError={message:({keyword:o})=>(0,r.str)`must pass "${o}" keyword validation`},e.keyword$DataError={message:({keyword:o,schemaType:a})=>a?(0,r.str)`"${o}" keyword must be ${a} ($data)`:(0,r.str)`"${o}" keyword is invalid ($data)`};function u(o,a=e.keywordError,t,s){const{it:l}=o,{gen:h,compositeRule:p,allErrors:b}=l,R=P(o,a,t);s??(p||b)?y(h,R):v(l,(0,r._)`[${R}]`)}e.reportError=u;function i(o,a=e.keywordError,t){const{it:s}=o,{gen:l,compositeRule:h,allErrors:p}=s,b=P(o,a,t);y(l,b),h||p||v(s,n.default.vErrors)}e.reportExtraError=i;function m(o,a){o.assign(n.default.errors,a),o.if((0,r._)`${n.default.vErrors} !== null`,()=>o.if(a,()=>o.assign((0,r._)`${n.default.vErrors}.length`,a),()=>o.assign(n.default.vErrors,null)))}e.resetErrorsCount=m;function d({gen:o,keyword:a,schemaValue:t,data:s,errsCount:l,it:h}){if(l===void 0)throw new Error("ajv implementation error");const p=o.name("err");o.forRange("i",l,n.default.errors,b=>{o.const(p,(0,r._)`${n.default.vErrors}[${b}]`),o.if((0,r._)`${p}.instancePath === undefined`,()=>o.assign((0,r._)`${p}.instancePath`,(0,r.strConcat)(n.default.instancePath,h.errorPath))),o.assign((0,r._)`${p}.schemaPath`,(0,r.str)`${h.errSchemaPath}/${a}`),h.opts.verbose&&(o.assign((0,r._)`${p}.schema`,t),o.assign((0,r._)`${p}.data`,s))})}e.extendErrors=d;function y(o,a){const t=o.const("err",a);o.if((0,r._)`${n.default.vErrors} === null`,()=>o.assign(n.default.vErrors,(0,r._)`[${t}]`),(0,r._)`${n.default.vErrors}.push(${t})`),o.code((0,r._)`${n.default.errors}++`)}function v(o,a){const{gen:t,validateName:s,schemaEnv:l}=o;l.$async?t.throw((0,r._)`new ${o.ValidationError}(${a})`):(t.assign((0,r._)`${s}.errors`,a),t.return(!1))}const _={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function P(o,a,t){const{createErrors:s}=o.it;return s===!1?(0,r._)`{}`:k(o,a,t)}function k(o,a,t={}){const{gen:s,it:l}=o,h=[S(l,t),w(o,t)];return g(o,a,h),s.object(...h)}function S({errorPath:o},{instancePath:a}){const t=a?(0,r.str)`${o}${(0,f.getErrorPath)(a,f.Type.Str)}`:o;return[n.default.instancePath,(0,r.strConcat)(n.default.instancePath,t)]}function w({keyword:o,it:{errSchemaPath:a}},{schemaPath:t,parentSchema:s}){let l=s?a:(0,r.str)`${a}/${o}`;return t&&(l=(0,r.str)`${l}${(0,f.getErrorPath)(t,f.Type.Str)}`),[_.schemaPath,l]}function g(o,{params:a,message:t},s){const{keyword:l,data:h,schemaValue:p,it:b}=o,{opts:R,propertyName:C,topSchemaRef:M,schemaPath:U}=b;s.push([_.keyword,l],[_.params,typeof a=="function"?a(o):a||(0,r._)`{}`]),R.messages&&s.push([_.message,typeof t=="function"?t(o):t]),R.verbose&&s.push([_.schema,p],[_.parentSchema,(0,r._)`${M}${U}`],[n.default.data,h]),C&&s.push([_.propertyName,C])}}(Tt)),Tt}var xt;function gn(){if(xt)return Ee;xt=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.boolOrEmptySchema=Ee.topBoolOrEmptySchema=void 0;const e=bt(),r=J(),f=Pe(),n={message:"boolean schema is false"};function u(d){const{gen:y,schema:v,validateName:_}=d;v===!1?m(d,!1):typeof v=="object"&&v.$async===!0?y.return(f.default.data):(y.assign((0,r._)`${_}.errors`,null),y.return(!0))}Ee.topBoolOrEmptySchema=u;function i(d,y){const{gen:v,schema:_}=d;_===!1?(v.var(y,!1),m(d)):v.var(y,!0)}Ee.boolOrEmptySchema=i;function m(d,y){const{gen:v,data:_}=d,P={gen:v,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:d};(0,e.reportError)(P,n,void 0,y)}return Ee}var ae={},Se={},er;function cn(){if(er)return Se;er=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.getRules=Se.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],r=new Set(e);function f(u){return typeof u=="string"&&r.has(u)}Se.isJSONType=f;function n(){const u={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...u,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},u.number,u.string,u.array,u.object],post:{rules:[]},all:{},keywords:{}}}return Se.getRules=n,Se}var ve={},tr;function un(){if(tr)return ve;tr=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.shouldUseRule=ve.shouldUseGroup=ve.schemaHasRulesForType=void 0;function e({schema:n,self:u},i){const m=u.RULES.types[i];return m&&m!==!0&&r(n,m)}ve.schemaHasRulesForType=e;function r(n,u){return u.rules.some(i=>f(n,i))}ve.shouldUseGroup=r;function f(n,u){var i;return n[u.keyword]!==void 0||((i=u.definition.implements)===null||i===void 0?void 0:i.some(m=>n[m]!==void 0))}return ve.shouldUseRule=f,ve}var rr;function vt(){if(rr)return ae;rr=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.reportTypeError=ae.checkDataTypes=ae.checkDataType=ae.coerceAndCheckDataType=ae.getJSONTypes=ae.getSchemaTypes=ae.DataType=void 0;const e=cn(),r=un(),f=bt(),n=J(),u=Y();var i;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(i||(ae.DataType=i={}));function m(t){const s=d(t.type);if(s.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!s.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&s.push("null")}return s}ae.getSchemaTypes=m;function d(t){const s=Array.isArray(t)?t:t?[t]:[];if(s.every(e.isJSONType))return s;throw new Error("type must be JSONType or JSONType[]: "+s.join(","))}ae.getJSONTypes=d;function y(t,s){const{gen:l,data:h,opts:p}=t,b=_(s,p.coerceTypes),R=s.length>0&&!(b.length===0&&s.length===1&&(0,r.schemaHasRulesForType)(t,s[0]));if(R){const C=w(s,h,p.strictNumbers,i.Wrong);l.if(C,()=>{b.length?P(t,s,b):o(t)})}return R}ae.coerceAndCheckDataType=y;const v=new Set(["string","number","integer","boolean","null"]);function _(t,s){return s?t.filter(l=>v.has(l)||s==="array"&&l==="array"):[]}function P(t,s,l){const{gen:h,data:p,opts:b}=t,R=h.let("dataType",(0,n._)`typeof ${p}`),C=h.let("coerced",(0,n._)`undefined`);b.coerceTypes==="array"&&h.if((0,n._)`${R} == 'object' && Array.isArray(${p}) && ${p}.length == 1`,()=>h.assign(p,(0,n._)`${p}[0]`).assign(R,(0,n._)`typeof ${p}`).if(w(s,p,b.strictNumbers),()=>h.assign(C,p))),h.if((0,n._)`${C} !== undefined`);for(const U of l)(v.has(U)||U==="array"&&b.coerceTypes==="array")&&M(U);h.else(),o(t),h.endIf(),h.if((0,n._)`${C} !== undefined`,()=>{h.assign(p,C),k(t,C)});function M(U){switch(U){case"string":h.elseIf((0,n._)`${R} == "number" || ${R} == "boolean"`).assign(C,(0,n._)`"" + ${p}`).elseIf((0,n._)`${p} === null`).assign(C,(0,n._)`""`);return;case"number":h.elseIf((0,n._)`${R} == "boolean" || ${p} === null
              || (${R} == "string" && ${p} && ${p} == +${p})`).assign(C,(0,n._)`+${p}`);return;case"integer":h.elseIf((0,n._)`${R} === "boolean" || ${p} === null
              || (${R} === "string" && ${p} && ${p} == +${p} && !(${p} % 1))`).assign(C,(0,n._)`+${p}`);return;case"boolean":h.elseIf((0,n._)`${p} === "false" || ${p} === 0 || ${p} === null`).assign(C,!1).elseIf((0,n._)`${p} === "true" || ${p} === 1`).assign(C,!0);return;case"null":h.elseIf((0,n._)`${p} === "" || ${p} === 0 || ${p} === false`),h.assign(C,null);return;case"array":h.elseIf((0,n._)`${R} === "string" || ${R} === "number"
              || ${R} === "boolean" || ${p} === null`).assign(C,(0,n._)`[${p}]`)}}}function k({gen:t,parentData:s,parentDataProperty:l},h){t.if((0,n._)`${s} !== undefined`,()=>t.assign((0,n._)`${s}[${l}]`,h))}function S(t,s,l,h=i.Correct){const p=h===i.Correct?n.operators.EQ:n.operators.NEQ;let b;switch(t){case"null":return(0,n._)`${s} ${p} null`;case"array":b=(0,n._)`Array.isArray(${s})`;break;case"object":b=(0,n._)`${s} && typeof ${s} == "object" && !Array.isArray(${s})`;break;case"integer":b=R((0,n._)`!(${s} % 1) && !isNaN(${s})`);break;case"number":b=R();break;default:return(0,n._)`typeof ${s} ${p} ${t}`}return h===i.Correct?b:(0,n.not)(b);function R(C=n.nil){return(0,n.and)((0,n._)`typeof ${s} == "number"`,C,l?(0,n._)`isFinite(${s})`:n.nil)}}ae.checkDataType=S;function w(t,s,l,h){if(t.length===1)return S(t[0],s,l,h);let p;const b=(0,u.toHash)(t);if(b.array&&b.object){const R=(0,n._)`typeof ${s} != "object"`;p=b.null?R:(0,n._)`!${s} || ${R}`,delete b.null,delete b.array,delete b.object}else p=n.nil;b.number&&delete b.integer;for(const R in b)p=(0,n.and)(p,S(R,s,l,h));return p}ae.checkDataTypes=w;const g={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:s})=>typeof t=="string"?(0,n._)`{type: ${t}}`:(0,n._)`{type: ${s}}`};function o(t){const s=a(t);(0,f.reportError)(s,g)}ae.reportTypeError=o;function a(t){const{gen:s,data:l,schema:h}=t,p=(0,u.schemaRefOrVal)(t,h,"type");return{gen:s,keyword:"type",data:l,schema:h.type,schemaCode:p,schemaValue:p,parentSchema:h,params:{},it:t}}return ae}var Ne={},nr;function _n(){if(nr)return Ne;nr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.assignDefaults=void 0;const e=J(),r=Y();function f(u,i){const{properties:m,items:d}=u.schema;if(i==="object"&&m)for(const y in m)n(u,y,m[y].default);else i==="array"&&Array.isArray(d)&&d.forEach((y,v)=>n(u,v,y.default))}Ne.assignDefaults=f;function n(u,i,m){const{gen:d,compositeRule:y,data:v,opts:_}=u;if(m===void 0)return;const P=(0,e._)`${v}${(0,e.getProperty)(i)}`;if(y){(0,r.checkStrictMode)(u,`default is ignored for: ${P}`);return}let k=(0,e._)`${P} === undefined`;_.useDefaults==="empty"&&(k=(0,e._)`${k} || ${P} === null || ${P} === ""`),d.if(k,(0,e._)`${P} = ${(0,e.stringify)(m)}`)}return Ne}var he={},x={},sr;function me(){if(sr)return x;sr=1,Object.defineProperty(x,"__esModule",{value:!0}),x.validateUnion=x.validateArray=x.usePattern=x.callValidateCode=x.schemaProperties=x.allSchemaProperties=x.noPropertyInData=x.propertyInData=x.isOwnProperty=x.hasPropFunc=x.reportMissingProp=x.checkMissingProp=x.checkReportMissingProp=void 0;const e=J(),r=Y(),f=Pe(),n=Y();function u(t,s){const{gen:l,data:h,it:p}=t;l.if(_(l,h,s,p.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${s}`},!0),t.error()})}x.checkReportMissingProp=u;function i({gen:t,data:s,it:{opts:l}},h,p){return(0,e.or)(...h.map(b=>(0,e.and)(_(t,s,b,l.ownProperties),(0,e._)`${p} = ${b}`)))}x.checkMissingProp=i;function m(t,s){t.setParams({missingProperty:s},!0),t.error()}x.reportMissingProp=m;function d(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}x.hasPropFunc=d;function y(t,s,l){return(0,e._)`${d(t)}.call(${s}, ${l})`}x.isOwnProperty=y;function v(t,s,l,h){const p=(0,e._)`${s}${(0,e.getProperty)(l)} !== undefined`;return h?(0,e._)`${p} && ${y(t,s,l)}`:p}x.propertyInData=v;function _(t,s,l,h){const p=(0,e._)`${s}${(0,e.getProperty)(l)} === undefined`;return h?(0,e.or)(p,(0,e.not)(y(t,s,l))):p}x.noPropertyInData=_;function P(t){return t?Object.keys(t).filter(s=>s!=="__proto__"):[]}x.allSchemaProperties=P;function k(t,s){return P(s).filter(l=>!(0,r.alwaysValidSchema)(t,s[l]))}x.schemaProperties=k;function S({schemaCode:t,data:s,it:{gen:l,topSchemaRef:h,schemaPath:p,errorPath:b},it:R},C,M,U){const K=U?(0,e._)`${t}, ${s}, ${h}${p}`:s,z=[[f.default.instancePath,(0,e.strConcat)(f.default.instancePath,b)],[f.default.parentData,R.parentData],[f.default.parentDataProperty,R.parentDataProperty],[f.default.rootData,f.default.rootData]];R.opts.dynamicRef&&z.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);const Q=(0,e._)`${K}, ${l.object(...z)}`;return M!==e.nil?(0,e._)`${C}.call(${M}, ${Q})`:(0,e._)`${C}(${Q})`}x.callValidateCode=S;const w=(0,e._)`new RegExp`;function g({gen:t,it:{opts:s}},l){const h=s.unicodeRegExp?"u":"",{regExp:p}=s.code,b=p(l,h);return t.scopeValue("pattern",{key:b.toString(),ref:b,code:(0,e._)`${p.code==="new RegExp"?w:(0,n.useFunc)(t,p)}(${l}, ${h})`})}x.usePattern=g;function o(t){const{gen:s,data:l,keyword:h,it:p}=t,b=s.name("valid");if(p.allErrors){const C=s.let("valid",!0);return R(()=>s.assign(C,!1)),C}return s.var(b,!0),R(()=>s.break()),b;function R(C){const M=s.const("len",(0,e._)`${l}.length`);s.forRange("i",0,M,U=>{t.subschema({keyword:h,dataProp:U,dataPropType:r.Type.Num},b),s.if((0,e.not)(b),C)})}}x.validateArray=o;function a(t){const{gen:s,schema:l,keyword:h,it:p}=t;if(!Array.isArray(l))throw new Error("ajv implementation error");if(l.some(M=>(0,r.alwaysValidSchema)(p,M))&&!p.opts.unevaluated)return;const R=s.let("valid",!1),C=s.name("_valid");s.block(()=>l.forEach((M,U)=>{const K=t.subschema({keyword:h,schemaProp:U,compositeRule:!0},C);s.assign(R,(0,e._)`${R} || ${C}`),t.mergeValidEvaluated(K,C)||s.if((0,e.not)(R))})),t.result(R,()=>t.reset(),()=>t.error(!0))}return x.validateUnion=a,x}var ar;function vn(){if(ar)return he;ar=1,Object.defineProperty(he,"__esModule",{value:!0}),he.validateKeywordUsage=he.validSchemaType=he.funcKeywordCode=he.macroKeywordCode=void 0;const e=J(),r=Pe(),f=me(),n=bt();function u(k,S){const{gen:w,keyword:g,schema:o,parentSchema:a,it:t}=k,s=S.macro.call(t.self,o,a,t),l=v(w,g,s);t.opts.validateSchema!==!1&&t.self.validateSchema(s,!0);const h=w.name("valid");k.subschema({schema:s,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${g}`,topSchemaRef:l,compositeRule:!0},h),k.pass(h,()=>k.error(!0))}he.macroKeywordCode=u;function i(k,S){var w;const{gen:g,keyword:o,schema:a,parentSchema:t,$data:s,it:l}=k;y(l,S);const h=!s&&S.compile?S.compile.call(l.self,a,t,l):S.validate,p=v(g,o,h),b=g.let("valid");k.block$data(b,R),k.ok((w=S.valid)!==null&&w!==void 0?w:b);function R(){if(S.errors===!1)U(),S.modifying&&m(k),K(()=>k.error());else{const z=S.async?C():M();S.modifying&&m(k),K(()=>d(k,z))}}function C(){const z=g.let("ruleErrs",null);return g.try(()=>U((0,e._)`await `),Q=>g.assign(b,!1).if((0,e._)`${Q} instanceof ${l.ValidationError}`,()=>g.assign(z,(0,e._)`${Q}.errors`),()=>g.throw(Q))),z}function M(){const z=(0,e._)`${p}.errors`;return g.assign(z,null),U(e.nil),z}function U(z=S.async?(0,e._)`await `:e.nil){const Q=l.opts.passContext?r.default.this:r.default.self,te=!("compile"in S&&!s||S.schema===!1);g.assign(b,(0,e._)`${z}${(0,f.callValidateCode)(k,p,Q,te)}`,S.modifying)}function K(z){var Q;g.if((0,e.not)((Q=S.valid)!==null&&Q!==void 0?Q:b),z)}}he.funcKeywordCode=i;function m(k){const{gen:S,data:w,it:g}=k;S.if(g.parentData,()=>S.assign(w,(0,e._)`${g.parentData}[${g.parentDataProperty}]`))}function d(k,S){const{gen:w}=k;w.if((0,e._)`Array.isArray(${S})`,()=>{w.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${S} : ${r.default.vErrors}.concat(${S})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,n.extendErrors)(k)},()=>k.error())}function y({schemaEnv:k},S){if(S.async&&!k.$async)throw new Error("async keyword in sync schema")}function v(k,S,w){if(w===void 0)throw new Error(`keyword "${S}" failed to compile`);return k.scopeValue("keyword",typeof w=="function"?{ref:w}:{ref:w,code:(0,e.stringify)(w)})}function _(k,S,w=!1){return!S.length||S.some(g=>g==="array"?Array.isArray(k):g==="object"?k&&typeof k=="object"&&!Array.isArray(k):typeof k==g||w&&typeof k>"u")}he.validSchemaType=_;function P({schema:k,opts:S,self:w,errSchemaPath:g},o,a){if(Array.isArray(o.keyword)?!o.keyword.includes(a):o.keyword!==a)throw new Error("ajv implementation error");const t=o.dependencies;if(t?.some(s=>!Object.prototype.hasOwnProperty.call(k,s)))throw new Error(`parent schema must have dependencies of ${a}: ${t.join(",")}`);if(o.validateSchema&&!o.validateSchema(k[a])){const l=`keyword "${a}" value is invalid at path "${g}": `+w.errorsText(o.validateSchema.errors);if(S.validateSchema==="log")w.logger.error(l);else throw new Error(l)}}return he.validateKeywordUsage=P,he}var be={},or;function bn(){if(or)return be;or=1,Object.defineProperty(be,"__esModule",{value:!0}),be.extendSubschemaMode=be.extendSubschemaData=be.getSubschema=void 0;const e=J(),r=Y();function f(i,{keyword:m,schemaProp:d,schema:y,schemaPath:v,errSchemaPath:_,topSchemaRef:P}){if(m!==void 0&&y!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(m!==void 0){const k=i.schema[m];return d===void 0?{schema:k,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(m)}`,errSchemaPath:`${i.errSchemaPath}/${m}`}:{schema:k[d],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(m)}${(0,e.getProperty)(d)}`,errSchemaPath:`${i.errSchemaPath}/${m}/${(0,r.escapeFragment)(d)}`}}if(y!==void 0){if(v===void 0||_===void 0||P===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:y,schemaPath:v,topSchemaRef:P,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')}be.getSubschema=f;function n(i,m,{dataProp:d,dataPropType:y,data:v,dataTypes:_,propertyName:P}){if(v!==void 0&&d!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:k}=m;if(d!==void 0){const{errorPath:w,dataPathArr:g,opts:o}=m,a=k.let("data",(0,e._)`${m.data}${(0,e.getProperty)(d)}`,!0);S(a),i.errorPath=(0,e.str)`${w}${(0,r.getErrorPath)(d,y,o.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${d}`,i.dataPathArr=[...g,i.parentDataProperty]}if(v!==void 0){const w=v instanceof e.Name?v:k.let("data",v,!0);S(w),P!==void 0&&(i.propertyName=P)}_&&(i.dataTypes=_);function S(w){i.data=w,i.dataLevel=m.dataLevel+1,i.dataTypes=[],m.definedProperties=new Set,i.parentData=m.data,i.dataNames=[...m.dataNames,w]}}be.extendSubschemaData=n;function u(i,{jtdDiscriminator:m,jtdMetadata:d,compositeRule:y,createErrors:v,allErrors:_}){y!==void 0&&(i.compositeRule=y),v!==void 0&&(i.createErrors=v),_!==void 0&&(i.allErrors=_),i.jtdDiscriminator=m,i.jtdMetadata=d}return be.extendSubschemaMode=u,be}var oe={},It,ir;function dn(){return ir||(ir=1,It=function e(r,f){if(r===f)return!0;if(r&&f&&typeof r=="object"&&typeof f=="object"){if(r.constructor!==f.constructor)return!1;var n,u,i;if(Array.isArray(r)){if(n=r.length,n!=f.length)return!1;for(u=n;u--!==0;)if(!e(r[u],f[u]))return!1;return!0}if(r.constructor===RegExp)return r.source===f.source&&r.flags===f.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===f.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===f.toString();if(i=Object.keys(r),n=i.length,n!==Object.keys(f).length)return!1;for(u=n;u--!==0;)if(!Object.prototype.hasOwnProperty.call(f,i[u]))return!1;for(u=n;u--!==0;){var m=i[u];if(!e(r[m],f[m]))return!1}return!0}return r!==r&&f!==f}),It}var qt={exports:{}},cr;function $n(){if(cr)return qt.exports;cr=1;var e=qt.exports=function(n,u,i){typeof u=="function"&&(i=u,u={}),i=u.cb||i;var m=typeof i=="function"?i:i.pre||function(){},d=i.post||function(){};r(u,m,d,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function r(n,u,i,m,d,y,v,_,P,k){if(m&&typeof m=="object"&&!Array.isArray(m)){u(m,d,y,v,_,P,k);for(var S in m){var w=m[S];if(Array.isArray(w)){if(S in e.arrayKeywords)for(var g=0;g<w.length;g++)r(n,u,i,w[g],d+"/"+S+"/"+g,y,d,S,m,g)}else if(S in e.propsKeywords){if(w&&typeof w=="object")for(var o in w)r(n,u,i,w[o],d+"/"+S+"/"+f(o),y,d,S,m,o)}else(S in e.keywords||n.allKeys&&!(S in e.skipKeywords))&&r(n,u,i,w,d+"/"+S,y,d,S,m)}i(m,d,y,v,_,P,k)}}function f(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return qt.exports}var ur;function $t(){if(ur)return oe;ur=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.getSchemaRefs=oe.resolveUrl=oe.normalizeId=oe._getFullPath=oe.getFullPath=oe.inlineRef=void 0;const e=Y(),r=dn(),f=$n(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function u(g,o=!0){return typeof g=="boolean"?!0:o===!0?!m(g):o?d(g)<=o:!1}oe.inlineRef=u;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function m(g){for(const o in g){if(i.has(o))return!0;const a=g[o];if(Array.isArray(a)&&a.some(m)||typeof a=="object"&&m(a))return!0}return!1}function d(g){let o=0;for(const a in g){if(a==="$ref")return 1/0;if(o++,!n.has(a)&&(typeof g[a]=="object"&&(0,e.eachItem)(g[a],t=>o+=d(t)),o===1/0))return 1/0}return o}function y(g,o="",a){a!==!1&&(o=P(o));const t=g.parse(o);return v(g,t)}oe.getFullPath=y;function v(g,o){return g.serialize(o).split("#")[0]+"#"}oe._getFullPath=v;const _=/#\/?$/;function P(g){return g?g.replace(_,""):""}oe.normalizeId=P;function k(g,o,a){return a=P(a),g.resolve(o,a)}oe.resolveUrl=k;const S=/^[a-z_][-a-z0-9._]*$/i;function w(g,o){if(typeof g=="boolean")return{};const{schemaId:a,uriResolver:t}=this.opts,s=P(g[a]||o),l={"":s},h=y(t,s,!1),p={},b=new Set;return f(g,{allKeys:!0},(M,U,K,z)=>{if(z===void 0)return;const Q=h+U;let te=l[z];typeof M[a]=="string"&&(te=ye.call(this,M[a])),ge.call(this,M.$anchor),ge.call(this,M.$dynamicAnchor),l[U]=te;function ye(ee){const $e=this.opts.uriResolver.resolve;if(ee=P(te?$e(te,ee):ee),b.has(ee))throw C(ee);b.add(ee);let D=this.refs[ee];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?R(M,D.schema,ee):ee!==P(Q)&&(ee[0]==="#"?(R(M,p[ee],ee),p[ee]=M):this.refs[ee]=Q),ee}function ge(ee){if(typeof ee=="string"){if(!S.test(ee))throw new Error(`invalid anchor "${ee}"`);ye.call(this,`#${ee}`)}}}),p;function R(M,U,K){if(U!==void 0&&!r(M,U))throw C(K)}function C(M){return new Error(`reference "${M}" resolves to more than one schema`)}}return oe.getSchemaRefs=w,oe}var dr;function wt(){if(dr)return _e;dr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.getData=_e.KeywordCxt=_e.validateFunctionCode=void 0;const e=gn(),r=vt(),f=un(),n=vt(),u=_n(),i=vn(),m=bn(),d=J(),y=Pe(),v=$t(),_=Y(),P=bt();function k(E){if(h(E)&&(b(E),l(E))){o(E);return}S(E,()=>(0,e.topBoolOrEmptySchema)(E))}_e.validateFunctionCode=k;function S({gen:E,validateName:T,schema:I,schemaEnv:A,opts:F},H){F.code.es5?E.func(T,(0,d._)`${y.default.data}, ${y.default.valCxt}`,A.$async,()=>{E.code((0,d._)`"use strict"; ${t(I,F)}`),g(E,F),E.code(H)}):E.func(T,(0,d._)`${y.default.data}, ${w(F)}`,A.$async,()=>E.code(t(I,F)).code(H))}function w(E){return(0,d._)`{${y.default.instancePath}="", ${y.default.parentData}, ${y.default.parentDataProperty}, ${y.default.rootData}=${y.default.data}${E.dynamicRef?(0,d._)`, ${y.default.dynamicAnchors}={}`:d.nil}}={}`}function g(E,T){E.if(y.default.valCxt,()=>{E.var(y.default.instancePath,(0,d._)`${y.default.valCxt}.${y.default.instancePath}`),E.var(y.default.parentData,(0,d._)`${y.default.valCxt}.${y.default.parentData}`),E.var(y.default.parentDataProperty,(0,d._)`${y.default.valCxt}.${y.default.parentDataProperty}`),E.var(y.default.rootData,(0,d._)`${y.default.valCxt}.${y.default.rootData}`),T.dynamicRef&&E.var(y.default.dynamicAnchors,(0,d._)`${y.default.valCxt}.${y.default.dynamicAnchors}`)},()=>{E.var(y.default.instancePath,(0,d._)`""`),E.var(y.default.parentData,(0,d._)`undefined`),E.var(y.default.parentDataProperty,(0,d._)`undefined`),E.var(y.default.rootData,y.default.data),T.dynamicRef&&E.var(y.default.dynamicAnchors,(0,d._)`{}`)})}function o(E){const{schema:T,opts:I,gen:A}=E;S(E,()=>{I.$comment&&T.$comment&&z(E),M(E),A.let(y.default.vErrors,null),A.let(y.default.errors,0),I.unevaluated&&a(E),R(E),Q(E)})}function a(E){const{gen:T,validateName:I}=E;E.evaluated=T.const("evaluated",(0,d._)`${I}.evaluated`),T.if((0,d._)`${E.evaluated}.dynamicProps`,()=>T.assign((0,d._)`${E.evaluated}.props`,(0,d._)`undefined`)),T.if((0,d._)`${E.evaluated}.dynamicItems`,()=>T.assign((0,d._)`${E.evaluated}.items`,(0,d._)`undefined`))}function t(E,T){const I=typeof E=="object"&&E[T.schemaId];return I&&(T.code.source||T.code.process)?(0,d._)`/*# sourceURL=${I} */`:d.nil}function s(E,T){if(h(E)&&(b(E),l(E))){p(E,T);return}(0,e.boolOrEmptySchema)(E,T)}function l({schema:E,self:T}){if(typeof E=="boolean")return!E;for(const I in E)if(T.RULES.all[I])return!0;return!1}function h(E){return typeof E.schema!="boolean"}function p(E,T){const{schema:I,gen:A,opts:F}=E;F.$comment&&I.$comment&&z(E),U(E),K(E);const H=A.const("_errs",y.default.errors);R(E,H),A.var(T,(0,d._)`${H} === ${y.default.errors}`)}function b(E){(0,_.checkUnknownRules)(E),C(E)}function R(E,T){if(E.opts.jtd)return ye(E,[],!1,T);const I=(0,r.getSchemaTypes)(E.schema),A=(0,r.coerceAndCheckDataType)(E,I);ye(E,I,!A,T)}function C(E){const{schema:T,errSchemaPath:I,opts:A,self:F}=E;T.$ref&&A.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(T,F.RULES)&&F.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function M(E){const{schema:T,opts:I}=E;T.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,_.checkStrictMode)(E,"default is ignored in the schema root")}function U(E){const T=E.schema[E.opts.schemaId];T&&(E.baseId=(0,v.resolveUrl)(E.opts.uriResolver,E.baseId,T))}function K(E){if(E.schema.$async&&!E.schemaEnv.$async)throw new Error("async schema in sync schema")}function z({gen:E,schemaEnv:T,schema:I,errSchemaPath:A,opts:F}){const H=I.$comment;if(F.$comment===!0)E.code((0,d._)`${y.default.self}.logger.log(${H})`);else if(typeof F.$comment=="function"){const ne=(0,d.str)`${A}/$comment`,fe=E.scopeValue("root",{ref:T.root});E.code((0,d._)`${y.default.self}.opts.$comment(${H}, ${ne}, ${fe}.schema)`)}}function Q(E){const{gen:T,schemaEnv:I,validateName:A,ValidationError:F,opts:H}=E;I.$async?T.if((0,d._)`${y.default.errors} === 0`,()=>T.return(y.default.data),()=>T.throw((0,d._)`new ${F}(${y.default.vErrors})`)):(T.assign((0,d._)`${A}.errors`,y.default.vErrors),H.unevaluated&&te(E),T.return((0,d._)`${y.default.errors} === 0`))}function te({gen:E,evaluated:T,props:I,items:A}){I instanceof d.Name&&E.assign((0,d._)`${T}.props`,I),A instanceof d.Name&&E.assign((0,d._)`${T}.items`,A)}function ye(E,T,I,A){const{gen:F,schema:H,data:ne,allErrors:fe,opts:ie,self:ce}=E,{RULES:se}=ce;if(H.$ref&&(ie.ignoreKeywordsWithRef||!(0,_.schemaHasRulesButRef)(H,se))){F.block(()=>V(E,"$ref",se.all.$ref.definition));return}ie.jtd||ee(E,T),F.block(()=>{for(const le of se.rules)je(le);je(se.post)});function je(le){(0,f.shouldUseGroup)(H,le)&&(le.type?(F.if((0,n.checkDataType)(le.type,ne,ie.strictNumbers)),ge(E,le),T.length===1&&T[0]===le.type&&I&&(F.else(),(0,n.reportTypeError)(E)),F.endIf()):ge(E,le),fe||F.if((0,d._)`${y.default.errors} === ${A||0}`))}}function ge(E,T){const{gen:I,schema:A,opts:{useDefaults:F}}=E;F&&(0,u.assignDefaults)(E,T.type),I.block(()=>{for(const H of T.rules)(0,f.shouldUseRule)(A,H)&&V(E,H.keyword,H.definition,T.type)})}function ee(E,T){E.schemaEnv.meta||!E.opts.strictTypes||($e(E,T),E.opts.allowUnionTypes||D(E,T),j(E,E.dataTypes))}function $e(E,T){if(T.length){if(!E.dataTypes.length){E.dataTypes=T;return}T.forEach(I=>{O(E.dataTypes,I)||$(E,`type "${I}" not allowed by context "${E.dataTypes.join(",")}"`)}),c(E,T)}}function D(E,T){T.length>1&&!(T.length===2&&T.includes("null"))&&$(E,"use allowUnionTypes to allow union type keyword")}function j(E,T){const I=E.self.RULES.all;for(const A in I){const F=I[A];if(typeof F=="object"&&(0,f.shouldUseRule)(E.schema,F)){const{type:H}=F.definition;H.length&&!H.some(ne=>q(T,ne))&&$(E,`missing type "${H.join(",")}" for keyword "${A}"`)}}}function q(E,T){return E.includes(T)||T==="number"&&E.includes("integer")}function O(E,T){return E.includes(T)||T==="integer"&&E.includes("number")}function c(E,T){const I=[];for(const A of E.dataTypes)O(T,A)?I.push(A):T.includes("integer")&&A==="number"&&I.push("integer");E.dataTypes=I}function $(E,T){const I=E.schemaEnv.baseId+E.errSchemaPath;T+=` at "${I}" (strictTypes)`,(0,_.checkStrictMode)(E,T,E.opts.strictTypes)}class N{constructor(T,I,A){if((0,i.validateKeywordUsage)(T,I,A),this.gen=T.gen,this.allErrors=T.allErrors,this.keyword=A,this.data=T.data,this.schema=T.schema[A],this.$data=I.$data&&T.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(T,this.schema,A,this.$data),this.schemaType=I.schemaType,this.parentSchema=T.schema,this.params={},this.it=T,this.def=I,this.$data)this.schemaCode=T.gen.const("vSchema",X(this.$data,T));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${A} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=T.gen.const("_errs",y.default.errors))}result(T,I,A){this.failResult((0,d.not)(T),I,A)}failResult(T,I,A){this.gen.if(T),A?A():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(T,I){this.failResult((0,d.not)(T),void 0,I)}fail(T){if(T===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(T),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(T){if(!this.$data)return this.fail(T);const{schemaCode:I}=this;this.fail((0,d._)`${I} !== undefined && (${(0,d.or)(this.invalid$data(),T)})`)}error(T,I,A){if(I){this.setParams(I),this._error(T,A),this.setParams({});return}this._error(T,A)}_error(T,I){(T?P.reportExtraError:P.reportError)(this,this.def.error,I)}$dataError(){(0,P.reportError)(this,this.def.$dataError||P.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,P.resetErrorsCount)(this.gen,this.errsCount)}ok(T){this.allErrors||this.gen.if(T)}setParams(T,I){I?Object.assign(this.params,T):this.params=T}block$data(T,I,A=d.nil){this.gen.block(()=>{this.check$data(T,A),I()})}check$data(T=d.nil,I=d.nil){if(!this.$data)return;const{gen:A,schemaCode:F,schemaType:H,def:ne}=this;A.if((0,d.or)((0,d._)`${F} === undefined`,I)),T!==d.nil&&A.assign(T,!0),(H.length||ne.validateSchema)&&(A.elseIf(this.invalid$data()),this.$dataError(),T!==d.nil&&A.assign(T,!1)),A.else()}invalid$data(){const{gen:T,schemaCode:I,schemaType:A,def:F,it:H}=this;return(0,d.or)(ne(),fe());function ne(){if(A.length){if(!(I instanceof d.Name))throw new Error("ajv implementation error");const ie=Array.isArray(A)?A:[A];return(0,d._)`${(0,n.checkDataTypes)(ie,I,H.opts.strictNumbers,n.DataType.Wrong)}`}return d.nil}function fe(){if(F.validateSchema){const ie=T.scopeValue("validate$data",{ref:F.validateSchema});return(0,d._)`!${ie}(${I})`}return d.nil}}subschema(T,I){const A=(0,m.getSubschema)(this.it,T);(0,m.extendSubschemaData)(A,this.it,T),(0,m.extendSubschemaMode)(A,T);const F={...this.it,...A,items:void 0,props:void 0};return s(F,I),F}mergeEvaluated(T,I){const{it:A,gen:F}=this;A.opts.unevaluated&&(A.props!==!0&&T.props!==void 0&&(A.props=_.mergeEvaluated.props(F,T.props,A.props,I)),A.items!==!0&&T.items!==void 0&&(A.items=_.mergeEvaluated.items(F,T.items,A.items,I)))}mergeValidEvaluated(T,I){const{it:A,gen:F}=this;if(A.opts.unevaluated&&(A.props!==!0||A.items!==!0))return F.if(I,()=>this.mergeEvaluated(T,d.Name)),!0}}_e.KeywordCxt=N;function V(E,T,I,A){const F=new N(E,I,T);"code"in I?I.code(F,A):F.$data&&I.validate?(0,i.funcKeywordCode)(F,I):"macro"in I?(0,i.macroKeywordCode)(F,I):(I.compile||I.validate)&&(0,i.funcKeywordCode)(F,I)}const L=/^\/(?:[^~]|~0|~1)*$/,Z=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function X(E,{dataLevel:T,dataNames:I,dataPathArr:A}){let F,H;if(E==="")return y.default.rootData;if(E[0]==="/"){if(!L.test(E))throw new Error(`Invalid JSON-pointer: ${E}`);F=E,H=y.default.rootData}else{const ce=Z.exec(E);if(!ce)throw new Error(`Invalid JSON-pointer: ${E}`);const se=+ce[1];if(F=ce[2],F==="#"){if(se>=T)throw new Error(ie("property/index",se));return A[T-se]}if(se>T)throw new Error(ie("data",se));if(H=I[T-se],!F)return H}let ne=H;const fe=F.split("/");for(const ce of fe)ce&&(H=(0,d._)`${H}${(0,d.getProperty)((0,_.unescapeJsonPointer)(ce))}`,ne=(0,d._)`${ne} && ${H}`);return ne;function ie(ce,se){return`Cannot access ${ce} ${se} levels up, current level is ${T}`}}return _e.getData=X,_e}var Ae={},lr;function Ft(){if(lr)return Ae;lr=1,Object.defineProperty(Ae,"__esModule",{value:!0});class e extends Error{constructor(f){super("validation failed"),this.errors=f,this.ajv=this.validation=!0}}return Ae.default=e,Ae}var Me={},pr;function Pt(){if(pr)return Me;pr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=$t();class r extends Error{constructor(n,u,i,m){super(m||`can't resolve reference ${i} from id ${u}`),this.missingRef=(0,e.resolveUrl)(n,u,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Me.default=r,Me}var de={},fr;function Lt(){if(fr)return de;fr=1,Object.defineProperty(de,"__esModule",{value:!0}),de.resolveSchema=de.getCompilingSchema=de.resolveRef=de.compileSchema=de.SchemaEnv=void 0;const e=J(),r=Ft(),f=Pe(),n=$t(),u=Y(),i=wt();class m{constructor(a){var t;this.refs={},this.dynamicAnchors={};let s;typeof a.schema=="object"&&(s=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=(t=a.baseId)!==null&&t!==void 0?t:(0,n.normalizeId)(s?.[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=s?.$async,this.refs={}}}de.SchemaEnv=m;function d(o){const a=_.call(this,o);if(a)return a;const t=(0,n.getFullPath)(this.opts.uriResolver,o.root.baseId),{es5:s,lines:l}=this.opts.code,{ownProperties:h}=this.opts,p=new e.CodeGen(this.scope,{es5:s,lines:l,ownProperties:h});let b;o.$async&&(b=p.scopeValue("Error",{ref:r.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const R=p.scopeName("validate");o.validateName=R;const C={gen:p,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:p.scopeValue("schema",this.opts.code.source===!0?{ref:o.schema,code:(0,e.stringify)(o.schema)}:{ref:o.schema}),validateName:R,ValidationError:b,schema:o.schema,schemaEnv:o,rootId:t,baseId:o.baseId||t,schemaPath:e.nil,errSchemaPath:o.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(o),(0,i.validateFunctionCode)(C),p.optimize(this.opts.code.optimize);const U=p.toString();M=`${p.scopeRefs(f.default.scope)}return ${U}`,this.opts.code.process&&(M=this.opts.code.process(M,o));const z=new Function(`${f.default.self}`,`${f.default.scope}`,M)(this,this.scope.get());if(this.scope.value(R,{ref:z}),z.errors=null,z.schema=o.schema,z.schemaEnv=o,o.$async&&(z.$async=!0),this.opts.code.source===!0&&(z.source={validateName:R,validateCode:U,scopeValues:p._values}),this.opts.unevaluated){const{props:Q,items:te}=C;z.evaluated={props:Q instanceof e.Name?void 0:Q,items:te instanceof e.Name?void 0:te,dynamicProps:Q instanceof e.Name,dynamicItems:te instanceof e.Name},z.source&&(z.source.evaluated=(0,e.stringify)(z.evaluated))}return o.validate=z,o}catch(U){throw delete o.validate,delete o.validateName,M&&this.logger.error("Error compiling schema, function code:",M),U}finally{this._compilations.delete(o)}}de.compileSchema=d;function y(o,a,t){var s;t=(0,n.resolveUrl)(this.opts.uriResolver,a,t);const l=o.refs[t];if(l)return l;let h=k.call(this,o,t);if(h===void 0){const p=(s=o.localRefs)===null||s===void 0?void 0:s[t],{schemaId:b}=this.opts;p&&(h=new m({schema:p,schemaId:b,root:o,baseId:a}))}if(h!==void 0)return o.refs[t]=v.call(this,h)}de.resolveRef=y;function v(o){return(0,n.inlineRef)(o.schema,this.opts.inlineRefs)?o.schema:o.validate?o:d.call(this,o)}function _(o){for(const a of this._compilations)if(P(a,o))return a}de.getCompilingSchema=_;function P(o,a){return o.schema===a.schema&&o.root===a.root&&o.baseId===a.baseId}function k(o,a){let t;for(;typeof(t=this.refs[a])=="string";)a=t;return t||this.schemas[a]||S.call(this,o,a)}function S(o,a){const t=this.opts.uriResolver.parse(a),s=(0,n._getFullPath)(this.opts.uriResolver,t);let l=(0,n.getFullPath)(this.opts.uriResolver,o.baseId,void 0);if(Object.keys(o.schema).length>0&&s===l)return g.call(this,t,o);const h=(0,n.normalizeId)(s),p=this.refs[h]||this.schemas[h];if(typeof p=="string"){const b=S.call(this,o,p);return typeof b?.schema!="object"?void 0:g.call(this,t,b)}if(typeof p?.schema=="object"){if(p.validate||d.call(this,p),h===(0,n.normalizeId)(a)){const{schema:b}=p,{schemaId:R}=this.opts,C=b[R];return C&&(l=(0,n.resolveUrl)(this.opts.uriResolver,l,C)),new m({schema:b,schemaId:R,root:o,baseId:l})}return g.call(this,t,p)}}de.resolveSchema=S;const w=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(o,{baseId:a,schema:t,root:s}){var l;if(((l=o.fragment)===null||l===void 0?void 0:l[0])!=="/")return;for(const b of o.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const R=t[(0,u.unescapeFragment)(b)];if(R===void 0)return;t=R;const C=typeof t=="object"&&t[this.opts.schemaId];!w.has(b)&&C&&(a=(0,n.resolveUrl)(this.opts.uriResolver,a,C))}let h;if(typeof t!="boolean"&&t.$ref&&!(0,u.schemaHasRulesButRef)(t,this.RULES)){const b=(0,n.resolveUrl)(this.opts.uriResolver,a,t.$ref);h=S.call(this,s,b)}const{schemaId:p}=this.opts;if(h=h||new m({schema:t,schemaId:p,root:s,baseId:a}),h.schema!==h.root.schema)return h}return de}const wn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Pn="Meta-schema for $data reference (JSON AnySchema extension proposal)",En="object",Sn=["$data"],kn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},jn=!1,Tn={$id:wn,description:Pn,type:En,required:Sn,properties:kn,additionalProperties:jn};var Ve={},Ie={exports:{}},Ct,hr;function On(){return hr||(hr=1,Ct={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Ct}var Dt,mr;function Rn(){if(mr)return Dt;mr=1;const{HEX:e}=On(),r=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function f(g){if(d(g,".")<3)return{host:g,isIPV4:!1};const o=g.match(r)||[],[a]=o;return a?{host:m(a,"."),isIPV4:!0}:{host:g,isIPV4:!1}}function n(g,o=!1){let a="",t=!0;for(const s of g){if(e[s]===void 0)return;s!=="0"&&t===!0&&(t=!1),t||(a+=s)}return o&&a.length===0&&(a="0"),a}function u(g){let o=0;const a={error:!1,address:"",zone:""},t=[],s=[];let l=!1,h=!1,p=!1;function b(){if(s.length){if(l===!1){const R=n(s);if(R!==void 0)t.push(R);else return a.error=!0,!1}s.length=0}return!0}for(let R=0;R<g.length;R++){const C=g[R];if(!(C==="["||C==="]"))if(C===":"){if(h===!0&&(p=!0),!b())break;if(o++,t.push(":"),o>7){a.error=!0;break}R-1>=0&&g[R-1]===":"&&(h=!0);continue}else if(C==="%"){if(!b())break;l=!0}else{s.push(C);continue}}return s.length&&(l?a.zone=s.join(""):p?t.push(s.join("")):t.push(n(s))),a.address=t.join(""),a}function i(g){if(d(g,":")<2)return{host:g,isIPV6:!1};const o=u(g);if(o.error)return{host:g,isIPV6:!1};{let a=o.address,t=o.address;return o.zone&&(a+="%"+o.zone,t+="%25"+o.zone),{host:a,escapedHost:t,isIPV6:!0}}}function m(g,o){let a="",t=!0;const s=g.length;for(let l=0;l<s;l++){const h=g[l];h==="0"&&t?(l+1<=s&&g[l+1]===o||l+1===s)&&(a+=h,t=!1):(h===o?t=!0:t=!1,a+=h)}return a}function d(g,o){let a=0;for(let t=0;t<g.length;t++)g[t]===o&&a++;return a}const y=/^\.\.?\//u,v=/^\/\.(?:\/|$)/u,_=/^\/\.\.(?:\/|$)/u,P=/^\/?(?:.|\n)*?(?=\/|$)/u;function k(g){const o=[];for(;g.length;)if(g.match(y))g=g.replace(y,"");else if(g.match(v))g=g.replace(v,"/");else if(g.match(_))g=g.replace(_,"/"),o.pop();else if(g==="."||g==="..")g="";else{const a=g.match(P);if(a){const t=a[0];g=g.slice(t.length),o.push(t)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function S(g,o){const a=o!==!0?escape:unescape;return g.scheme!==void 0&&(g.scheme=a(g.scheme)),g.userinfo!==void 0&&(g.userinfo=a(g.userinfo)),g.host!==void 0&&(g.host=a(g.host)),g.path!==void 0&&(g.path=a(g.path)),g.query!==void 0&&(g.query=a(g.query)),g.fragment!==void 0&&(g.fragment=a(g.fragment)),g}function w(g){const o=[];if(g.userinfo!==void 0&&(o.push(g.userinfo),o.push("@")),g.host!==void 0){let a=unescape(g.host);const t=f(a);if(t.isIPV4)a=t.host;else{const s=i(t.host);s.isIPV6===!0?a=`[${s.escapedHost}]`:a=g.host}o.push(a)}return(typeof g.port=="number"||typeof g.port=="string")&&(o.push(":"),o.push(String(g.port))),o.length?o.join(""):void 0}return Dt={recomposeAuthority:w,normalizeComponentEncoding:S,removeDotSegments:k,normalizeIPv4:f,normalizeIPv6:i,stringArrayToHexStripped:n},Dt}var At,yr;function Nn(){if(yr)return At;yr=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function f(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function n(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function u(t){const s=String(t.scheme).toLowerCase()==="https";return(t.port===(s?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function i(t){return t.secure=f(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function m(t){if((t.port===(f(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[s,l]=t.resourceName.split("?");t.path=s&&s!=="/"?s:void 0,t.query=l,t.resourceName=void 0}return t.fragment=void 0,t}function d(t,s){if(!t.path)return t.error="URN can not be parsed",t;const l=t.path.match(r);if(l){const h=s.scheme||t.scheme||"urn";t.nid=l[1].toLowerCase(),t.nss=l[2];const p=`${h}:${s.nid||t.nid}`,b=a[p];t.path=void 0,b&&(t=b.parse(t,s))}else t.error=t.error||"URN can not be parsed.";return t}function y(t,s){const l=s.scheme||t.scheme||"urn",h=t.nid.toLowerCase(),p=`${l}:${s.nid||h}`,b=a[p];b&&(t=b.serialize(t,s));const R=t,C=t.nss;return R.path=`${h||s.nid}:${C}`,s.skipEscape=!0,R}function v(t,s){const l=t;return l.uuid=l.nss,l.nss=void 0,!s.tolerant&&(!l.uuid||!e.test(l.uuid))&&(l.error=l.error||"UUID is not valid."),l}function _(t){const s=t;return s.nss=(t.uuid||"").toLowerCase(),s}const P={scheme:"http",domainHost:!0,parse:n,serialize:u},k={scheme:"https",domainHost:P.domainHost,parse:n,serialize:u},S={scheme:"ws",domainHost:!0,parse:i,serialize:m},w={scheme:"wss",domainHost:S.domainHost,parse:S.parse,serialize:S.serialize},a={http:P,https:k,ws:S,wss:w,urn:{scheme:"urn",parse:d,serialize:y,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:v,serialize:_,skipNormalize:!0}};return At=a,At}var gr;function In(){if(gr)return Ie.exports;gr=1;const{normalizeIPv6:e,normalizeIPv4:r,removeDotSegments:f,recomposeAuthority:n,normalizeComponentEncoding:u}=Rn(),i=Nn();function m(o,a){return typeof o=="string"?o=_(w(o,a),a):typeof o=="object"&&(o=w(_(o,a),a)),o}function d(o,a,t){const s=Object.assign({scheme:"null"},t),l=y(w(o,s),w(a,s),s,!0);return _(l,{...s,skipEscape:!0})}function y(o,a,t,s){const l={};return s||(o=w(_(o,t),t),a=w(_(a,t),t)),t=t||{},!t.tolerant&&a.scheme?(l.scheme=a.scheme,l.userinfo=a.userinfo,l.host=a.host,l.port=a.port,l.path=f(a.path||""),l.query=a.query):(a.userinfo!==void 0||a.host!==void 0||a.port!==void 0?(l.userinfo=a.userinfo,l.host=a.host,l.port=a.port,l.path=f(a.path||""),l.query=a.query):(a.path?(a.path.charAt(0)==="/"?l.path=f(a.path):((o.userinfo!==void 0||o.host!==void 0||o.port!==void 0)&&!o.path?l.path="/"+a.path:o.path?l.path=o.path.slice(0,o.path.lastIndexOf("/")+1)+a.path:l.path=a.path,l.path=f(l.path)),l.query=a.query):(l.path=o.path,a.query!==void 0?l.query=a.query:l.query=o.query),l.userinfo=o.userinfo,l.host=o.host,l.port=o.port),l.scheme=o.scheme),l.fragment=a.fragment,l}function v(o,a,t){return typeof o=="string"?(o=unescape(o),o=_(u(w(o,t),!0),{...t,skipEscape:!0})):typeof o=="object"&&(o=_(u(o,!0),{...t,skipEscape:!0})),typeof a=="string"?(a=unescape(a),a=_(u(w(a,t),!0),{...t,skipEscape:!0})):typeof a=="object"&&(a=_(u(a,!0),{...t,skipEscape:!0})),o.toLowerCase()===a.toLowerCase()}function _(o,a){const t={host:o.host,scheme:o.scheme,userinfo:o.userinfo,port:o.port,path:o.path,query:o.query,nid:o.nid,nss:o.nss,uuid:o.uuid,fragment:o.fragment,reference:o.reference,resourceName:o.resourceName,secure:o.secure,error:""},s=Object.assign({},a),l=[],h=i[(s.scheme||t.scheme||"").toLowerCase()];h&&h.serialize&&h.serialize(t,s),t.path!==void 0&&(s.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),s.reference!=="suffix"&&t.scheme&&l.push(t.scheme,":");const p=n(t);if(p!==void 0&&(s.reference!=="suffix"&&l.push("//"),l.push(p),t.path&&t.path.charAt(0)!=="/"&&l.push("/")),t.path!==void 0){let b=t.path;!s.absolutePath&&(!h||!h.absolutePath)&&(b=f(b)),p===void 0&&(b=b.replace(/^\/\//u,"/%2F")),l.push(b)}return t.query!==void 0&&l.push("?",t.query),t.fragment!==void 0&&l.push("#",t.fragment),l.join("")}const P=Array.from({length:127},(o,a)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(a)));function k(o){let a=0;for(let t=0,s=o.length;t<s;++t)if(a=o.charCodeAt(t),a>126||P[a])return!0;return!1}const S=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function w(o,a){const t=Object.assign({},a),s={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},l=o.indexOf("%")!==-1;let h=!1;t.reference==="suffix"&&(o=(t.scheme?t.scheme+":":"")+"//"+o);const p=o.match(S);if(p){if(s.scheme=p[1],s.userinfo=p[3],s.host=p[4],s.port=parseInt(p[5],10),s.path=p[6]||"",s.query=p[7],s.fragment=p[8],isNaN(s.port)&&(s.port=p[5]),s.host){const R=r(s.host);if(R.isIPV4===!1){const C=e(R.host);s.host=C.host.toLowerCase(),h=C.isIPV6}else s.host=R.host,h=!0}s.scheme===void 0&&s.userinfo===void 0&&s.host===void 0&&s.port===void 0&&s.query===void 0&&!s.path?s.reference="same-document":s.scheme===void 0?s.reference="relative":s.fragment===void 0?s.reference="absolute":s.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==s.reference&&(s.error=s.error||"URI is not a "+t.reference+" reference.");const b=i[(t.scheme||s.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!b||!b.unicodeSupport)&&s.host&&(t.domainHost||b&&b.domainHost)&&h===!1&&k(s.host))try{s.host=URL.domainToASCII(s.host.toLowerCase())}catch(R){s.error=s.error||"Host's domain name can not be converted to ASCII: "+R}(!b||b&&!b.skipNormalize)&&(l&&s.scheme!==void 0&&(s.scheme=unescape(s.scheme)),l&&s.host!==void 0&&(s.host=unescape(s.host)),s.path&&(s.path=escape(unescape(s.path))),s.fragment&&(s.fragment=encodeURI(decodeURIComponent(s.fragment)))),b&&b.parse&&b.parse(s,t)}else s.error=s.error||"URI can not be parsed.";return s}const g={SCHEMES:i,normalize:m,resolve:d,resolveComponents:y,equal:v,serialize:_,parse:w};return Ie.exports=g,Ie.exports.default=g,Ie.exports.fastUri=g,Ie.exports}var _r;function qn(){if(_r)return Ve;_r=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=In();return e.code='require("ajv/dist/runtime/uri").default',Ve.default=e,Ve}var vr;function Cn(){return vr||(vr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=wt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var f=J();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});const n=Ft(),u=Pt(),i=cn(),m=Lt(),d=J(),y=$t(),v=vt(),_=Y(),P=Tn,k=qn(),S=(D,j)=>new RegExp(D,j);S.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),o={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},a={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function s(D){var j,q,O,c,$,N,V,L,Z,X,E,T,I,A,F,H,ne,fe,ie,ce,se,je,le,Et,St;const Re=D.strict,kt=(j=D.code)===null||j===void 0?void 0:j.optimize,Kt=kt===!0||kt===void 0?1:kt||0,Gt=(O=(q=D.code)===null||q===void 0?void 0:q.regExp)!==null&&O!==void 0?O:S,mn=(c=D.uriResolver)!==null&&c!==void 0?c:k.default;return{strictSchema:(N=($=D.strictSchema)!==null&&$!==void 0?$:Re)!==null&&N!==void 0?N:!0,strictNumbers:(L=(V=D.strictNumbers)!==null&&V!==void 0?V:Re)!==null&&L!==void 0?L:!0,strictTypes:(X=(Z=D.strictTypes)!==null&&Z!==void 0?Z:Re)!==null&&X!==void 0?X:"log",strictTuples:(T=(E=D.strictTuples)!==null&&E!==void 0?E:Re)!==null&&T!==void 0?T:"log",strictRequired:(A=(I=D.strictRequired)!==null&&I!==void 0?I:Re)!==null&&A!==void 0?A:!1,code:D.code?{...D.code,optimize:Kt,regExp:Gt}:{optimize:Kt,regExp:Gt},loopRequired:(F=D.loopRequired)!==null&&F!==void 0?F:t,loopEnum:(H=D.loopEnum)!==null&&H!==void 0?H:t,meta:(ne=D.meta)!==null&&ne!==void 0?ne:!0,messages:(fe=D.messages)!==null&&fe!==void 0?fe:!0,inlineRefs:(ie=D.inlineRefs)!==null&&ie!==void 0?ie:!0,schemaId:(ce=D.schemaId)!==null&&ce!==void 0?ce:"$id",addUsedSchema:(se=D.addUsedSchema)!==null&&se!==void 0?se:!0,validateSchema:(je=D.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(le=D.validateFormats)!==null&&le!==void 0?le:!0,unicodeRegExp:(Et=D.unicodeRegExp)!==null&&Et!==void 0?Et:!0,int32range:(St=D.int32range)!==null&&St!==void 0?St:!0,uriResolver:mn}}class l{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...s(j)};const{es5:q,lines:O}=this.opts.code;this.scope=new d.ValueScope({scope:{},prefixes:g,es5:q,lines:O}),this.logger=K(j.logger);const c=j.validateFormats;j.validateFormats=!1,this.RULES=(0,i.getRules)(),h.call(this,o,j,"NOT SUPPORTED"),h.call(this,a,j,"DEPRECATED","warn"),this._metaOpts=M.call(this),j.formats&&R.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&C.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),b.call(this),j.validateFormats=c}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:q,schemaId:O}=this.opts;let c=P;O==="id"&&(c={...P},c.id=c.$id,delete c.$id),q&&j&&this.addMetaSchema(c,c[O],!1)}defaultMeta(){const{meta:j,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[q]||j:void 0}validate(j,q){let O;if(typeof j=="string"){if(O=this.getSchema(j),!O)throw new Error(`no schema with key or ref "${j}"`)}else O=this.compile(j);const c=O(q);return"$async"in O||(this.errors=O.errors),c}compile(j,q){const O=this._addSchema(j,q);return O.validate||this._compileSchemaEnv(O)}compileAsync(j,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return c.call(this,j,q);async function c(X,E){await $.call(this,X.$schema);const T=this._addSchema(X,E);return T.validate||N.call(this,T)}async function $(X){X&&!this.getSchema(X)&&await c.call(this,{$ref:X},!0)}async function N(X){try{return this._compileSchemaEnv(X)}catch(E){if(!(E instanceof u.default))throw E;return V.call(this,E),await L.call(this,E.missingSchema),N.call(this,X)}}function V({missingSchema:X,missingRef:E}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${E} cannot be resolved`)}async function L(X){const E=await Z.call(this,X);this.refs[X]||await $.call(this,E.$schema),this.refs[X]||this.addSchema(E,X,q)}async function Z(X){const E=this._loading[X];if(E)return E;try{return await(this._loading[X]=O(X))}finally{delete this._loading[X]}}}addSchema(j,q,O,c=this.opts.validateSchema){if(Array.isArray(j)){for(const N of j)this.addSchema(N,void 0,O,c);return this}let $;if(typeof j=="object"){const{schemaId:N}=this.opts;if($=j[N],$!==void 0&&typeof $!="string")throw new Error(`schema ${N} must be string`)}return q=(0,y.normalizeId)(q||$),this._checkUnique(q),this.schemas[q]=this._addSchema(j,O,q,c,!0),this}addMetaSchema(j,q,O=this.opts.validateSchema){return this.addSchema(j,q,!0,O),this}validateSchema(j,q){if(typeof j=="boolean")return!0;let O;if(O=j.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const c=this.validate(O,j);if(!c&&q){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return c}getSchema(j){let q;for(;typeof(q=p.call(this,j))=="string";)j=q;if(q===void 0){const{schemaId:O}=this.opts,c=new m.SchemaEnv({schema:{},schemaId:O});if(q=m.resolveSchema.call(this,c,j),!q)return;this.refs[j]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=p.call(this,j);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const q=j;this._cache.delete(q);let O=j[this.opts.schemaId];return O&&(O=(0,y.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const q of j)this.addKeyword(q);return this}addKeyword(j,q){let O;if(typeof j=="string")O=j,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=O);else if(typeof j=="object"&&q===void 0){if(q=j,O=q.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,O,q),!q)return(0,_.eachItem)(O,$=>te.call(this,$)),this;ge.call(this,q);const c={...q,type:(0,v.getJSONTypes)(q.type),schemaType:(0,v.getJSONTypes)(q.schemaType)};return(0,_.eachItem)(O,c.type.length===0?$=>te.call(this,$,c):$=>c.type.forEach(N=>te.call(this,$,c,N))),this}getKeyword(j){const q=this.RULES.all[j];return typeof q=="object"?q.definition:!!q}removeKeyword(j){const{RULES:q}=this;delete q.keywords[j],delete q.all[j];for(const O of q.rules){const c=O.rules.findIndex($=>$.keyword===j);c>=0&&O.rules.splice(c,1)}return this}addFormat(j,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[j]=q,this}errorsText(j=this.errors,{separator:q=", ",dataVar:O="data"}={}){return!j||j.length===0?"No errors":j.map(c=>`${O}${c.instancePath} ${c.message}`).reduce((c,$)=>c+q+$)}$dataMetaSchema(j,q){const O=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const c of q){const $=c.split("/").slice(1);let N=j;for(const V of $)N=N[V];for(const V in O){const L=O[V];if(typeof L!="object")continue;const{$data:Z}=L.definition,X=N[V];Z&&X&&(N[V]=$e(X))}}return j}_removeAllSchemas(j,q){for(const O in j){const c=j[O];(!q||q.test(O))&&(typeof c=="string"?delete j[O]:c&&!c.meta&&(this._cache.delete(c.schema),delete j[O]))}}_addSchema(j,q,O,c=this.opts.validateSchema,$=this.opts.addUsedSchema){let N;const{schemaId:V}=this.opts;if(typeof j=="object")N=j[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let L=this._cache.get(j);if(L!==void 0)return L;O=(0,y.normalizeId)(N||O);const Z=y.getSchemaRefs.call(this,j,O);return L=new m.SchemaEnv({schema:j,schemaId:V,meta:q,baseId:O,localRefs:Z}),this._cache.set(L.schema,L),$&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=L),c&&this.validateSchema(j,!0),L}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):m.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const q=this.opts;this.opts=this._metaOpts;try{m.compileSchema.call(this,j)}finally{this.opts=q}}}l.ValidationError=n.default,l.MissingRefError=u.default,e.default=l;function h(D,j,q,O="error"){for(const c in D){const $=c;$ in j&&this.logger[O](`${q}: option ${c}. ${D[$]}`)}}function p(D){return D=(0,y.normalizeId)(D),this.schemas[D]||this.refs[D]}function b(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const j in D)this.addSchema(D[j],j)}function R(){for(const D in this.opts.formats){const j=this.opts.formats[D];j&&this.addFormat(D,j)}}function C(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in D){const q=D[j];q.keyword||(q.keyword=j),this.addKeyword(q)}}function M(){const D={...this.opts};for(const j of w)delete D[j];return D}const U={log(){},warn(){},error(){}};function K(D){if(D===!1)return U;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(D,j){const{RULES:q}=this;if((0,_.eachItem)(D,O=>{if(q.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!z.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function te(D,j,q){var O;const c=j?.post;if(q&&c)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let N=c?$.post:$.rules.find(({type:L})=>L===q);if(N||(N={type:q,rules:[]},$.rules.push(N)),$.keywords[D]=!0,!j)return;const V={keyword:D,definition:{...j,type:(0,v.getJSONTypes)(j.type),schemaType:(0,v.getJSONTypes)(j.schemaType)}};j.before?ye.call(this,N,V,j.before):N.rules.push(V),$.all[D]=V,(O=j.implements)===null||O===void 0||O.forEach(L=>this.addKeyword(L))}function ye(D,j,q){const O=D.rules.findIndex(c=>c.keyword===q);O>=0?D.rules.splice(O,0,j):(D.rules.push(j),this.logger.warn(`rule ${q} is not defined`))}function ge(D){let{metaSchema:j}=D;j!==void 0&&(D.$data&&this.opts.$data&&(j=$e(j)),D.validateSchema=this.compile(j,!0))}const ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function $e(D){return{anyOf:[D,ee]}}}(jt)),jt}var Ue={},Fe={},Le={},br;function Dn(){if(br)return Le;br=1,Object.defineProperty(Le,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Le.default=e,Le}var we={},$r;function An(){if($r)return we;$r=1,Object.defineProperty(we,"__esModule",{value:!0}),we.callRef=we.getValidate=void 0;const e=Pt(),r=me(),f=J(),n=Pe(),u=Lt(),i=Y(),m={keyword:"$ref",schemaType:"string",code(v){const{gen:_,schema:P,it:k}=v,{baseId:S,schemaEnv:w,validateName:g,opts:o,self:a}=k,{root:t}=w;if((P==="#"||P==="#/")&&S===t.baseId)return l();const s=u.resolveRef.call(a,t,S,P);if(s===void 0)throw new e.default(k.opts.uriResolver,S,P);if(s instanceof u.SchemaEnv)return h(s);return p(s);function l(){if(w===t)return y(v,g,w,w.$async);const b=_.scopeValue("root",{ref:t});return y(v,(0,f._)`${b}.validate`,t,t.$async)}function h(b){const R=d(v,b);y(v,R,b,b.$async)}function p(b){const R=_.scopeValue("schema",o.code.source===!0?{ref:b,code:(0,f.stringify)(b)}:{ref:b}),C=_.name("valid"),M=v.subschema({schema:b,dataTypes:[],schemaPath:f.nil,topSchemaRef:R,errSchemaPath:P},C);v.mergeEvaluated(M),v.ok(C)}}};function d(v,_){const{gen:P}=v;return _.validate?P.scopeValue("validate",{ref:_.validate}):(0,f._)`${P.scopeValue("wrapper",{ref:_})}.validate`}we.getValidate=d;function y(v,_,P,k){const{gen:S,it:w}=v,{allErrors:g,schemaEnv:o,opts:a}=w,t=a.passContext?n.default.this:f.nil;k?s():l();function s(){if(!o.$async)throw new Error("async schema referenced by sync schema");const b=S.let("valid");S.try(()=>{S.code((0,f._)`await ${(0,r.callValidateCode)(v,_,t)}`),p(_),g||S.assign(b,!0)},R=>{S.if((0,f._)`!(${R} instanceof ${w.ValidationError})`,()=>S.throw(R)),h(R),g||S.assign(b,!1)}),v.ok(b)}function l(){v.result((0,r.callValidateCode)(v,_,t),()=>p(_),()=>h(_))}function h(b){const R=(0,f._)`${b}.errors`;S.assign(n.default.vErrors,(0,f._)`${n.default.vErrors} === null ? ${R} : ${n.default.vErrors}.concat(${R})`),S.assign(n.default.errors,(0,f._)`${n.default.vErrors}.length`)}function p(b){var R;if(!w.opts.unevaluated)return;const C=(R=P?.validate)===null||R===void 0?void 0:R.evaluated;if(w.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(w.props=i.mergeEvaluated.props(S,C.props,w.props));else{const M=S.var("props",(0,f._)`${b}.evaluated.props`);w.props=i.mergeEvaluated.props(S,M,w.props,f.Name)}if(w.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(w.items=i.mergeEvaluated.items(S,C.items,w.items));else{const M=S.var("items",(0,f._)`${b}.evaluated.items`);w.items=i.mergeEvaluated.items(S,M,w.items,f.Name)}}}return we.callRef=y,we.default=m,we}var wr;function Mn(){if(wr)return Fe;wr=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=Dn(),r=An(),f=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,r.default];return Fe.default=f,Fe}var We={},ze={},Pr;function Vn(){if(Pr)return ze;Pr=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=J(),r=e.operators,f={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},n={message:({keyword:i,schemaCode:m})=>(0,e.str)`must be ${f[i].okStr} ${m}`,params:({keyword:i,schemaCode:m})=>(0,e._)`{comparison: ${f[i].okStr}, limit: ${m}}`},u={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:n,code(i){const{keyword:m,data:d,schemaCode:y}=i;i.fail$data((0,e._)`${d} ${f[m].fail} ${y} || isNaN(${d})`)}};return ze.default=u,ze}var Ke={},Er;function Un(){if(Er)return Ke;Er=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e=J(),f={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:u,data:i,schemaCode:m,it:d}=n,y=d.opts.multipleOfPrecision,v=u.let("res"),_=y?(0,e._)`Math.abs(Math.round(${v}) - ${v}) > 1e-${y}`:(0,e._)`${v} !== parseInt(${v})`;n.fail$data((0,e._)`(${m} === 0 || (${v} = ${i}/${m}, ${_}))`)}};return Ke.default=f,Ke}var Ge={},He={},Sr;function Fn(){if(Sr)return He;Sr=1,Object.defineProperty(He,"__esModule",{value:!0});function e(r){const f=r.length;let n=0,u=0,i;for(;u<f;)n++,i=r.charCodeAt(u++),i>=55296&&i<=56319&&u<f&&(i=r.charCodeAt(u),(i&64512)===56320&&u++);return n}return He.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',He}var kr;function Ln(){if(kr)return Ge;kr=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=J(),r=Y(),f=Fn(),u={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:m}){const d=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${d} than ${m} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:m,data:d,schemaCode:y,it:v}=i,_=m==="maxLength"?e.operators.GT:e.operators.LT,P=v.opts.unicode===!1?(0,e._)`${d}.length`:(0,e._)`${(0,r.useFunc)(i.gen,f.default)}(${d})`;i.fail$data((0,e._)`${P} ${_} ${y}`)}};return Ge.default=u,Ge}var Je={},jr;function Wn(){if(jr)return Je;jr=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=me(),r=J(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:u})=>(0,r.str)`must match pattern "${u}"`,params:({schemaCode:u})=>(0,r._)`{pattern: ${u}}`},code(u){const{data:i,$data:m,schema:d,schemaCode:y,it:v}=u,_=v.opts.unicodeRegExp?"u":"",P=m?(0,r._)`(new RegExp(${y}, ${_}))`:(0,e.usePattern)(u,d);u.fail$data((0,r._)`!${P}.test(${i})`)}};return Je.default=n,Je}var Be={},Tr;function zn(){if(Tr)return Be;Tr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=J(),f={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:u}){const i=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${u} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:u,data:i,schemaCode:m}=n,d=u==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${i}).length ${d} ${m}`)}};return Be.default=f,Be}var Xe={},Or;function Kn(){if(Or)return Xe;Or=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=me(),r=J(),f=Y(),u={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,r.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,r._)`{missingProperty: ${i}}`},code(i){const{gen:m,schema:d,schemaCode:y,data:v,$data:_,it:P}=i,{opts:k}=P;if(!_&&d.length===0)return;const S=d.length>=k.loopRequired;if(P.allErrors?w():g(),k.strictRequired){const t=i.parentSchema.properties,{definedProperties:s}=i.it;for(const l of d)if(t?.[l]===void 0&&!s.has(l)){const h=P.schemaEnv.baseId+P.errSchemaPath,p=`required property "${l}" is not defined at "${h}" (strictRequired)`;(0,f.checkStrictMode)(P,p,P.opts.strictRequired)}}function w(){if(S||_)i.block$data(r.nil,o);else for(const t of d)(0,e.checkReportMissingProp)(i,t)}function g(){const t=m.let("missing");if(S||_){const s=m.let("valid",!0);i.block$data(s,()=>a(t,s)),i.ok(s)}else m.if((0,e.checkMissingProp)(i,d,t)),(0,e.reportMissingProp)(i,t),m.else()}function o(){m.forOf("prop",y,t=>{i.setParams({missingProperty:t}),m.if((0,e.noPropertyInData)(m,v,t,k.ownProperties),()=>i.error())})}function a(t,s){i.setParams({missingProperty:t}),m.forOf(t,y,()=>{m.assign(s,(0,e.propertyInData)(m,v,t,k.ownProperties)),m.if((0,r.not)(s),()=>{i.error(),m.break()})},r.nil)}}};return Xe.default=u,Xe}var Qe={},Rr;function Gn(){if(Rr)return Qe;Rr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=J(),f={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:u}){const i=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${u} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:u,data:i,schemaCode:m}=n,d=u==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${i}.length ${d} ${m}`)}};return Qe.default=f,Qe}var Ye={},Ze={},Nr;function Wt(){if(Nr)return Ze;Nr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=dn();return e.code='require("ajv/dist/runtime/equal").default',Ze.default=e,Ze}var Ir;function Hn(){if(Ir)return Ye;Ir=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=vt(),r=J(),f=Y(),n=Wt(),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:m,j:d}})=>(0,r.str)`must NOT have duplicate items (items ## ${d} and ${m} are identical)`,params:({params:{i:m,j:d}})=>(0,r._)`{i: ${m}, j: ${d}}`},code(m){const{gen:d,data:y,$data:v,schema:_,parentSchema:P,schemaCode:k,it:S}=m;if(!v&&!_)return;const w=d.let("valid"),g=P.items?(0,e.getSchemaTypes)(P.items):[];m.block$data(w,o,(0,r._)`${k} === false`),m.ok(w);function o(){const l=d.let("i",(0,r._)`${y}.length`),h=d.let("j");m.setParams({i:l,j:h}),d.assign(w,!0),d.if((0,r._)`${l} > 1`,()=>(a()?t:s)(l,h))}function a(){return g.length>0&&!g.some(l=>l==="object"||l==="array")}function t(l,h){const p=d.name("item"),b=(0,e.checkDataTypes)(g,p,S.opts.strictNumbers,e.DataType.Wrong),R=d.const("indices",(0,r._)`{}`);d.for((0,r._)`;${l}--;`,()=>{d.let(p,(0,r._)`${y}[${l}]`),d.if(b,(0,r._)`continue`),g.length>1&&d.if((0,r._)`typeof ${p} == "string"`,(0,r._)`${p} += "_"`),d.if((0,r._)`typeof ${R}[${p}] == "number"`,()=>{d.assign(h,(0,r._)`${R}[${p}]`),m.error(),d.assign(w,!1).break()}).code((0,r._)`${R}[${p}] = ${l}`)})}function s(l,h){const p=(0,f.useFunc)(d,n.default),b=d.name("outer");d.label(b).for((0,r._)`;${l}--;`,()=>d.for((0,r._)`${h} = ${l}; ${h}--;`,()=>d.if((0,r._)`${p}(${y}[${l}], ${y}[${h}])`,()=>{m.error(),d.assign(w,!1).break(b)})))}}};return Ye.default=i,Ye}var xe={},qr;function Jn(){if(qr)return xe;qr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=J(),r=Y(),f=Wt(),u={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:m,data:d,$data:y,schemaCode:v,schema:_}=i;y||_&&typeof _=="object"?i.fail$data((0,e._)`!${(0,r.useFunc)(m,f.default)}(${d}, ${v})`):i.fail((0,e._)`${_} !== ${d}`)}};return xe.default=u,xe}var et={},Cr;function Bn(){if(Cr)return et;Cr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=J(),r=Y(),f=Wt(),u={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:m,data:d,$data:y,schema:v,schemaCode:_,it:P}=i;if(!y&&v.length===0)throw new Error("enum must have non-empty array");const k=v.length>=P.opts.loopEnum;let S;const w=()=>S??(S=(0,r.useFunc)(m,f.default));let g;if(k||y)g=m.let("valid"),i.block$data(g,o);else{if(!Array.isArray(v))throw new Error("ajv implementation error");const t=m.const("vSchema",_);g=(0,e.or)(...v.map((s,l)=>a(t,l)))}i.pass(g);function o(){m.assign(g,!1),m.forOf("v",_,t=>m.if((0,e._)`${w()}(${d}, ${t})`,()=>m.assign(g,!0).break()))}function a(t,s){const l=v[s];return typeof l=="object"&&l!==null?(0,e._)`${w()}(${d}, ${t}[${s}])`:(0,e._)`${d} === ${l}`}}};return et.default=u,et}var Dr;function Xn(){if(Dr)return We;Dr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=Vn(),r=Un(),f=Ln(),n=Wn(),u=zn(),i=Kn(),m=Gn(),d=Hn(),y=Jn(),v=Bn(),_=[e.default,r.default,f.default,n.default,u.default,i.default,m.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},y.default,v.default];return We.default=_,We}var tt={},Te={},Ar;function ln(){if(Ar)return Te;Ar=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.validateAdditionalItems=void 0;const e=J(),r=Y(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:m,it:d}=i,{items:y}=m;if(!Array.isArray(y)){(0,r.checkStrictMode)(d,'"additionalItems" is ignored when "items" is not an array of schemas');return}u(i,y)}};function u(i,m){const{gen:d,schema:y,data:v,keyword:_,it:P}=i;P.items=!0;const k=d.const("len",(0,e._)`${v}.length`);if(y===!1)i.setParams({len:m.length}),i.pass((0,e._)`${k} <= ${m.length}`);else if(typeof y=="object"&&!(0,r.alwaysValidSchema)(P,y)){const w=d.var("valid",(0,e._)`${k} <= ${m.length}`);d.if((0,e.not)(w),()=>S(w)),i.ok(w)}function S(w){d.forRange("i",m.length,k,g=>{i.subschema({keyword:_,dataProp:g,dataPropType:r.Type.Num},w),P.allErrors||d.if((0,e.not)(w),()=>d.break())})}}return Te.validateAdditionalItems=u,Te.default=n,Te}var rt={},Oe={},Mr;function pn(){if(Mr)return Oe;Mr=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.validateTuple=void 0;const e=J(),r=Y(),f=me(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:m,it:d}=i;if(Array.isArray(m))return u(i,"additionalItems",m);d.items=!0,!(0,r.alwaysValidSchema)(d,m)&&i.ok((0,f.validateArray)(i))}};function u(i,m,d=i.schema){const{gen:y,parentSchema:v,data:_,keyword:P,it:k}=i;g(v),k.opts.unevaluated&&d.length&&k.items!==!0&&(k.items=r.mergeEvaluated.items(y,d.length,k.items));const S=y.name("valid"),w=y.const("len",(0,e._)`${_}.length`);d.forEach((o,a)=>{(0,r.alwaysValidSchema)(k,o)||(y.if((0,e._)`${w} > ${a}`,()=>i.subschema({keyword:P,schemaProp:a,dataProp:a},S)),i.ok(S))});function g(o){const{opts:a,errSchemaPath:t}=k,s=d.length,l=s===o.minItems&&(s===o.maxItems||o[m]===!1);if(a.strictTuples&&!l){const h=`"${P}" is ${s}-tuple, but minItems or maxItems/${m} are not specified or different at path "${t}"`;(0,r.checkStrictMode)(k,h,a.strictTuples)}}}return Oe.validateTuple=u,Oe.default=n,Oe}var Vr;function Qn(){if(Vr)return rt;Vr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=pn(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:f=>(0,e.validateTuple)(f,"items")};return rt.default=r,rt}var nt={},Ur;function Yn(){if(Ur)return nt;Ur=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=J(),r=Y(),f=me(),n=ln(),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:m}})=>(0,e.str)`must NOT have more than ${m} items`,params:({params:{len:m}})=>(0,e._)`{limit: ${m}}`},code(m){const{schema:d,parentSchema:y,it:v}=m,{prefixItems:_}=y;v.items=!0,!(0,r.alwaysValidSchema)(v,d)&&(_?(0,n.validateAdditionalItems)(m,_):m.ok((0,f.validateArray)(m)))}};return nt.default=i,nt}var st={},Fr;function Zn(){if(Fr)return st;Fr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=J(),r=Y(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:u,max:i}})=>i===void 0?(0,e.str)`must contain at least ${u} valid item(s)`:(0,e.str)`must contain at least ${u} and no more than ${i} valid item(s)`,params:({params:{min:u,max:i}})=>i===void 0?(0,e._)`{minContains: ${u}}`:(0,e._)`{minContains: ${u}, maxContains: ${i}}`},code(u){const{gen:i,schema:m,parentSchema:d,data:y,it:v}=u;let _,P;const{minContains:k,maxContains:S}=d;v.opts.next?(_=k===void 0?1:k,P=S):_=1;const w=i.const("len",(0,e._)`${y}.length`);if(u.setParams({min:_,max:P}),P===void 0&&_===0){(0,r.checkStrictMode)(v,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(P!==void 0&&_>P){(0,r.checkStrictMode)(v,'"minContains" > "maxContains" is always invalid'),u.fail();return}if((0,r.alwaysValidSchema)(v,m)){let s=(0,e._)`${w} >= ${_}`;P!==void 0&&(s=(0,e._)`${s} && ${w} <= ${P}`),u.pass(s);return}v.items=!0;const g=i.name("valid");P===void 0&&_===1?a(g,()=>i.if(g,()=>i.break())):_===0?(i.let(g,!0),P!==void 0&&i.if((0,e._)`${y}.length > 0`,o)):(i.let(g,!1),o()),u.result(g,()=>u.reset());function o(){const s=i.name("_valid"),l=i.let("count",0);a(s,()=>i.if(s,()=>t(l)))}function a(s,l){i.forRange("i",0,w,h=>{u.subschema({keyword:"contains",dataProp:h,dataPropType:r.Type.Num,compositeRule:!0},s),l()})}function t(s){i.code((0,e._)`${s}++`),P===void 0?i.if((0,e._)`${s} >= ${_}`,()=>i.assign(g,!0).break()):(i.if((0,e._)`${s} > ${P}`,()=>i.assign(g,!1).break()),_===1?i.assign(g,!0):i.if((0,e._)`${s} >= ${_}`,()=>i.assign(g,!0)))}}};return st.default=n,st}var Mt={},Lr;function xn(){return Lr||(Lr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=J(),f=Y(),n=me();e.error={message:({params:{property:y,depsCount:v,deps:_}})=>{const P=v===1?"property":"properties";return(0,r.str)`must have ${P} ${_} when property ${y} is present`},params:({params:{property:y,depsCount:v,deps:_,missingProperty:P}})=>(0,r._)`{property: ${y},
    missingProperty: ${P},
    depsCount: ${v},
    deps: ${_}}`};const u={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(y){const[v,_]=i(y);m(y,v),d(y,_)}};function i({schema:y}){const v={},_={};for(const P in y){if(P==="__proto__")continue;const k=Array.isArray(y[P])?v:_;k[P]=y[P]}return[v,_]}function m(y,v=y.schema){const{gen:_,data:P,it:k}=y;if(Object.keys(v).length===0)return;const S=_.let("missing");for(const w in v){const g=v[w];if(g.length===0)continue;const o=(0,n.propertyInData)(_,P,w,k.opts.ownProperties);y.setParams({property:w,depsCount:g.length,deps:g.join(", ")}),k.allErrors?_.if(o,()=>{for(const a of g)(0,n.checkReportMissingProp)(y,a)}):(_.if((0,r._)`${o} && (${(0,n.checkMissingProp)(y,g,S)})`),(0,n.reportMissingProp)(y,S),_.else())}}e.validatePropertyDeps=m;function d(y,v=y.schema){const{gen:_,data:P,keyword:k,it:S}=y,w=_.name("valid");for(const g in v)(0,f.alwaysValidSchema)(S,v[g])||(_.if((0,n.propertyInData)(_,P,g,S.opts.ownProperties),()=>{const o=y.subschema({keyword:k,schemaProp:g},w);y.mergeValidEvaluated(o,w)},()=>_.var(w,!0)),y.ok(w))}e.validateSchemaDeps=d,e.default=u}(Mt)),Mt}var at={},Wr;function es(){if(Wr)return at;Wr=1,Object.defineProperty(at,"__esModule",{value:!0});const e=J(),r=Y(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:u})=>(0,e._)`{propertyName: ${u.propertyName}}`},code(u){const{gen:i,schema:m,data:d,it:y}=u;if((0,r.alwaysValidSchema)(y,m))return;const v=i.name("valid");i.forIn("key",d,_=>{u.setParams({propertyName:_}),u.subschema({keyword:"propertyNames",data:_,dataTypes:["string"],propertyName:_,compositeRule:!0},v),i.if((0,e.not)(v),()=>{u.error(!0),y.allErrors||i.break()})}),u.ok(v)}};return at.default=n,at}var ot={},zr;function fn(){if(zr)return ot;zr=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=me(),r=J(),f=Pe(),n=Y(),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:m})=>(0,r._)`{additionalProperty: ${m.additionalProperty}}`},code(m){const{gen:d,schema:y,parentSchema:v,data:_,errsCount:P,it:k}=m;if(!P)throw new Error("ajv implementation error");const{allErrors:S,opts:w}=k;if(k.props=!0,w.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(k,y))return;const g=(0,e.allSchemaProperties)(v.properties),o=(0,e.allSchemaProperties)(v.patternProperties);a(),m.ok((0,r._)`${P} === ${f.default.errors}`);function a(){d.forIn("key",_,p=>{!g.length&&!o.length?l(p):d.if(t(p),()=>l(p))})}function t(p){let b;if(g.length>8){const R=(0,n.schemaRefOrVal)(k,v.properties,"properties");b=(0,e.isOwnProperty)(d,R,p)}else g.length?b=(0,r.or)(...g.map(R=>(0,r._)`${p} === ${R}`)):b=r.nil;return o.length&&(b=(0,r.or)(b,...o.map(R=>(0,r._)`${(0,e.usePattern)(m,R)}.test(${p})`))),(0,r.not)(b)}function s(p){d.code((0,r._)`delete ${_}[${p}]`)}function l(p){if(w.removeAdditional==="all"||w.removeAdditional&&y===!1){s(p);return}if(y===!1){m.setParams({additionalProperty:p}),m.error(),S||d.break();return}if(typeof y=="object"&&!(0,n.alwaysValidSchema)(k,y)){const b=d.name("valid");w.removeAdditional==="failing"?(h(p,b,!1),d.if((0,r.not)(b),()=>{m.reset(),s(p)})):(h(p,b),S||d.if((0,r.not)(b),()=>d.break()))}}function h(p,b,R){const C={keyword:"additionalProperties",dataProp:p,dataPropType:n.Type.Str};R===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),m.subschema(C,b)}}};return ot.default=i,ot}var it={},Kr;function ts(){if(Kr)return it;Kr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=wt(),r=me(),f=Y(),n=fn(),u={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:m,schema:d,parentSchema:y,data:v,it:_}=i;_.opts.removeAdditional==="all"&&y.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(_,n.default,"additionalProperties"));const P=(0,r.allSchemaProperties)(d);for(const o of P)_.definedProperties.add(o);_.opts.unevaluated&&P.length&&_.props!==!0&&(_.props=f.mergeEvaluated.props(m,(0,f.toHash)(P),_.props));const k=P.filter(o=>!(0,f.alwaysValidSchema)(_,d[o]));if(k.length===0)return;const S=m.name("valid");for(const o of k)w(o)?g(o):(m.if((0,r.propertyInData)(m,v,o,_.opts.ownProperties)),g(o),_.allErrors||m.else().var(S,!0),m.endIf()),i.it.definedProperties.add(o),i.ok(S);function w(o){return _.opts.useDefaults&&!_.compositeRule&&d[o].default!==void 0}function g(o){i.subschema({keyword:"properties",schemaProp:o,dataProp:o},S)}}};return it.default=u,it}var ct={},Gr;function rs(){if(Gr)return ct;Gr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=me(),r=J(),f=Y(),n=Y(),u={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:m,schema:d,data:y,parentSchema:v,it:_}=i,{opts:P}=_,k=(0,e.allSchemaProperties)(d),S=k.filter(l=>(0,f.alwaysValidSchema)(_,d[l]));if(k.length===0||S.length===k.length&&(!_.opts.unevaluated||_.props===!0))return;const w=P.strictSchema&&!P.allowMatchingProperties&&v.properties,g=m.name("valid");_.props!==!0&&!(_.props instanceof r.Name)&&(_.props=(0,n.evaluatedPropsToName)(m,_.props));const{props:o}=_;a();function a(){for(const l of k)w&&t(l),_.allErrors?s(l):(m.var(g,!0),s(l),m.if(g))}function t(l){for(const h in w)new RegExp(l).test(h)&&(0,f.checkStrictMode)(_,`property ${h} matches pattern ${l} (use allowMatchingProperties)`)}function s(l){m.forIn("key",y,h=>{m.if((0,r._)`${(0,e.usePattern)(i,l)}.test(${h})`,()=>{const p=S.includes(l);p||i.subschema({keyword:"patternProperties",schemaProp:l,dataProp:h,dataPropType:n.Type.Str},g),_.opts.unevaluated&&o!==!0?m.assign((0,r._)`${o}[${h}]`,!0):!p&&!_.allErrors&&m.if((0,r.not)(g),()=>m.break())})})}}};return ct.default=u,ct}var ut={},Hr;function ns(){if(Hr)return ut;Hr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=Y(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(f){const{gen:n,schema:u,it:i}=f;if((0,e.alwaysValidSchema)(i,u)){f.fail();return}const m=n.name("valid");f.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},m),f.failResult(m,()=>f.reset(),()=>f.error())},error:{message:"must NOT be valid"}};return ut.default=r,ut}var dt={},Jr;function ss(){if(Jr)return dt;Jr=1,Object.defineProperty(dt,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:me().validateUnion,error:{message:"must match a schema in anyOf"}};return dt.default=r,dt}var lt={},Br;function as(){if(Br)return lt;Br=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=J(),r=Y(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:u})=>(0,e._)`{passingSchemas: ${u.passing}}`},code(u){const{gen:i,schema:m,parentSchema:d,it:y}=u;if(!Array.isArray(m))throw new Error("ajv implementation error");if(y.opts.discriminator&&d.discriminator)return;const v=m,_=i.let("valid",!1),P=i.let("passing",null),k=i.name("_valid");u.setParams({passing:P}),i.block(S),u.result(_,()=>u.reset(),()=>u.error(!0));function S(){v.forEach((w,g)=>{let o;(0,r.alwaysValidSchema)(y,w)?i.var(k,!0):o=u.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},k),g>0&&i.if((0,e._)`${k} && ${_}`).assign(_,!1).assign(P,(0,e._)`[${P}, ${g}]`).else(),i.if(k,()=>{i.assign(_,!0),i.assign(P,g),o&&u.mergeEvaluated(o,e.Name)})})}}};return lt.default=n,lt}var pt={},Xr;function os(){if(Xr)return pt;Xr=1,Object.defineProperty(pt,"__esModule",{value:!0});const e=Y(),r={keyword:"allOf",schemaType:"array",code(f){const{gen:n,schema:u,it:i}=f;if(!Array.isArray(u))throw new Error("ajv implementation error");const m=n.name("valid");u.forEach((d,y)=>{if((0,e.alwaysValidSchema)(i,d))return;const v=f.subschema({keyword:"allOf",schemaProp:y},m);f.ok(m),f.mergeEvaluated(v)})}};return pt.default=r,pt}var ft={},Qr;function is(){if(Qr)return ft;Qr=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=J(),r=Y(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:m,parentSchema:d,it:y}=i;d.then===void 0&&d.else===void 0&&(0,r.checkStrictMode)(y,'"if" without "then" and "else" is ignored');const v=u(y,"then"),_=u(y,"else");if(!v&&!_)return;const P=m.let("valid",!0),k=m.name("_valid");if(S(),i.reset(),v&&_){const g=m.let("ifClause");i.setParams({ifClause:g}),m.if(k,w("then",g),w("else",g))}else v?m.if(k,w("then")):m.if((0,e.not)(k),w("else"));i.pass(P,()=>i.error(!0));function S(){const g=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},k);i.mergeEvaluated(g)}function w(g,o){return()=>{const a=i.subschema({keyword:g},k);m.assign(P,k),i.mergeValidEvaluated(a,P),o?m.assign(o,(0,e._)`${g}`):i.setParams({ifClause:g})}}}};function u(i,m){const d=i.schema[m];return d!==void 0&&!(0,r.alwaysValidSchema)(i,d)}return ft.default=n,ft}var ht={},Yr;function cs(){if(Yr)return ht;Yr=1,Object.defineProperty(ht,"__esModule",{value:!0});const e=Y(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:f,parentSchema:n,it:u}){n.if===void 0&&(0,e.checkStrictMode)(u,`"${f}" without "if" is ignored`)}};return ht.default=r,ht}var Zr;function us(){if(Zr)return tt;Zr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=ln(),r=Qn(),f=pn(),n=Yn(),u=Zn(),i=xn(),m=es(),d=fn(),y=ts(),v=rs(),_=ns(),P=ss(),k=as(),S=os(),w=is(),g=cs();function o(a=!1){const t=[_.default,P.default,k.default,S.default,w.default,g.default,m.default,d.default,i.default,y.default,v.default];return a?t.push(r.default,n.default):t.push(e.default,f.default),t.push(u.default),t}return tt.default=o,tt}var mt={},yt={},xr;function ds(){if(xr)return yt;xr=1,Object.defineProperty(yt,"__esModule",{value:!0});const e=J(),f={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,u){const{gen:i,data:m,$data:d,schema:y,schemaCode:v,it:_}=n,{opts:P,errSchemaPath:k,schemaEnv:S,self:w}=_;if(!P.validateFormats)return;d?g():o();function g(){const a=i.scopeValue("formats",{ref:w.formats,code:P.code.formats}),t=i.const("fDef",(0,e._)`${a}[${v}]`),s=i.let("fType"),l=i.let("format");i.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>i.assign(s,(0,e._)`${t}.type || "string"`).assign(l,(0,e._)`${t}.validate`),()=>i.assign(s,(0,e._)`"string"`).assign(l,t)),n.fail$data((0,e.or)(h(),p()));function h(){return P.strictSchema===!1?e.nil:(0,e._)`${v} && !${l}`}function p(){const b=S.$async?(0,e._)`(${t}.async ? await ${l}(${m}) : ${l}(${m}))`:(0,e._)`${l}(${m})`,R=(0,e._)`(typeof ${l} == "function" ? ${b} : ${l}.test(${m}))`;return(0,e._)`${l} && ${l} !== true && ${s} === ${u} && !${R}`}}function o(){const a=w.formats[y];if(!a){h();return}if(a===!0)return;const[t,s,l]=p(a);t===u&&n.pass(b());function h(){if(P.strictSchema===!1){w.logger.warn(R());return}throw new Error(R());function R(){return`unknown format "${y}" ignored in schema at path "${k}"`}}function p(R){const C=R instanceof RegExp?(0,e.regexpCode)(R):P.code.formats?(0,e._)`${P.code.formats}${(0,e.getProperty)(y)}`:void 0,M=i.scopeValue("formats",{key:y,ref:R,code:C});return typeof R=="object"&&!(R instanceof RegExp)?[R.type||"string",R.validate,(0,e._)`${M}.validate`]:["string",R,M]}function b(){if(typeof a=="object"&&!(a instanceof RegExp)&&a.async){if(!S.$async)throw new Error("async format in sync schema");return(0,e._)`await ${l}(${m})`}return typeof s=="function"?(0,e._)`${l}(${m})`:(0,e._)`${l}.test(${m})`}}}};return yt.default=f,yt}var en;function ls(){if(en)return mt;en=1,Object.defineProperty(mt,"__esModule",{value:!0});const r=[ds().default];return mt.default=r,mt}var ke={},tn;function ps(){return tn||(tn=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.contentVocabulary=ke.metadataVocabulary=void 0,ke.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],ke.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),ke}var rn;function fs(){if(rn)return Ue;rn=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=Mn(),r=Xn(),f=us(),n=ls(),u=ps(),i=[e.default,r.default,(0,f.default)(),n.default,u.metadataVocabulary,u.contentVocabulary];return Ue.default=i,Ue}var gt={},qe={},nn;function hs(){if(nn)return qe;nn=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.DiscrError=void 0;var e;return function(r){r.Tag="tag",r.Mapping="mapping"}(e||(qe.DiscrError=e={})),qe}var sn;function ms(){if(sn)return gt;sn=1,Object.defineProperty(gt,"__esModule",{value:!0});const e=J(),r=hs(),f=Lt(),n=Pt(),u=Y(),m={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:d,tagName:y}})=>d===r.DiscrError.Tag?`tag "${y}" must be string`:`value of tag "${y}" must be in oneOf`,params:({params:{discrError:d,tag:y,tagName:v}})=>(0,e._)`{error: ${d}, tag: ${v}, tagValue: ${y}}`},code(d){const{gen:y,data:v,schema:_,parentSchema:P,it:k}=d,{oneOf:S}=P;if(!k.opts.discriminator)throw new Error("discriminator: requires discriminator option");const w=_.propertyName;if(typeof w!="string")throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!S)throw new Error("discriminator: requires oneOf keyword");const g=y.let("valid",!1),o=y.const("tag",(0,e._)`${v}${(0,e.getProperty)(w)}`);y.if((0,e._)`typeof ${o} == "string"`,()=>a(),()=>d.error(!1,{discrError:r.DiscrError.Tag,tag:o,tagName:w})),d.ok(g);function a(){const l=s();y.if(!1);for(const h in l)y.elseIf((0,e._)`${o} === ${h}`),y.assign(g,t(l[h]));y.else(),d.error(!1,{discrError:r.DiscrError.Mapping,tag:o,tagName:w}),y.endIf()}function t(l){const h=y.name("valid"),p=d.subschema({keyword:"oneOf",schemaProp:l},h);return d.mergeEvaluated(p,e.Name),h}function s(){var l;const h={},p=R(P);let b=!0;for(let U=0;U<S.length;U++){let K=S[U];if(K?.$ref&&!(0,u.schemaHasRulesButRef)(K,k.self.RULES)){const Q=K.$ref;if(K=f.resolveRef.call(k.self,k.schemaEnv.root,k.baseId,Q),K instanceof f.SchemaEnv&&(K=K.schema),K===void 0)throw new n.default(k.opts.uriResolver,k.baseId,Q)}const z=(l=K?.properties)===null||l===void 0?void 0:l[w];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${w}"`);b=b&&(p||R(K)),C(z,U)}if(!b)throw new Error(`discriminator: "${w}" must be required`);return h;function R({required:U}){return Array.isArray(U)&&U.includes(w)}function C(U,K){if(U.const)M(U.const,K);else if(U.enum)for(const z of U.enum)M(z,K);else throw new Error(`discriminator: "properties/${w}" must have "const" or "enum"`)}function M(U,K){if(typeof U!="string"||U in h)throw new Error(`discriminator: "${w}" values must be unique strings`);h[U]=K}}}};return gt.default=m,gt}const ys="http://json-schema.org/draft-07/schema#",gs="http://json-schema.org/draft-07/schema#",_s="Core schema meta-schema",vs={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},bs=["object","boolean"],$s={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ws={$schema:ys,$id:gs,title:_s,definitions:vs,type:bs,properties:$s,default:!0};var an;function Ps(){return an||(an=1,function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const f=Cn(),n=fs(),u=ms(),i=ws,m=["/properties"],d="http://json-schema.org/draft-07/schema";class y extends f.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const w=this.opts.$data?this.$dataMetaSchema(i,m):i;this.addMetaSchema(w,d,!1),this.refs["http://json-schema.org/schema"]=d}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(d)?d:void 0)}}r.Ajv=y,e.exports=r=y,e.exports.Ajv=y,Object.defineProperty(r,"__esModule",{value:!0}),r.default=y;var v=wt();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return v.KeywordCxt}});var _=J();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var P=Ft();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return P.default}});var k=Pt();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return k.default}})}(Ce,Ce.exports)),Ce.exports}var Es=Ps();const Ss=yn(Es),W={auth_login_Input:{type:"object",required:["username","password"],additionalProperties:!1,properties:{username:{type:"string"},password:{type:"string"}}},auth_login_Output:{type:"object",properties:{},required:[],additionalProperties:!1},auth_logout_Input:{type:"object",required:[],additionalProperties:!1,properties:{}},auth_logout_Output:{type:"object",properties:{},required:[],additionalProperties:!1},auth_me_Input:{type:"object",required:[],additionalProperties:!1,properties:{}},auth_me_Output:{oneOf:[{type:"object",properties:{status:{type:"string",enum:["logged_out"]}},required:["status"],additionalProperties:!1},{type:"object",properties:{status:{type:"string",enum:["logged_in"]},user:{type:"object",properties:{id:{type:"number"},username:{type:"string"},scopes:{type:"array",items:{type:"string",enum:["admin","public","homeTracker"]}}},required:["id","username","scopes"],additionalProperties:!1}},required:["status","user"],additionalProperties:!1}]},chords_addLinkVisit_Input:{type:"object",required:["url"],additionalProperties:!1,properties:{url:{type:"string"}}},chords_addLinkVisit_Output:{type:"object",additionalProperties:!1},chords_checkLinks_Output:{type:"object",properties:{nbChecks:{type:"number"},nbSkipped:{type:"number"},nbFails:{type:"number"},timestamp:{type:"number"},fails:{type:"array",minItems:0,items:{type:"object",properties:{status:{type:"string"},chord:{type:"object"},error:{type:"object"}},required:["status"],additionalProperties:!1}}},required:["nbChecks","nbSkipped","nbFails","timestamp","fails"],additionalProperties:!1},chords_getAll_Output:{type:"array",items:{type:"object",properties:{artist:{type:"string"},title:{type:"string"},url:{type:"string"},creationDate:{type:"number"},tags:{type:"array",items:{type:"string"}}},required:["artist","title","url","creationDate","tags"]}},chords_getLinksVisitsCount_Output:{type:"array",items:{type:"object",properties:{url:{type:"string"},count:{type:"number"},lastAccessDateUnix:{type:"number"}},required:["url","count","lastAccessDateUnix"],additionalProperties:!1}},chords_updateAll_Input:{type:"object",required:["chords"],additionalProperties:!1,properties:{chords:{type:"array",items:{type:"object",required:["artist","title","url","creationDate","tags"],additionalProperties:!1,properties:{artist:{type:"string",minLength:1},title:{type:"string",minLength:1},url:{type:"string",minLength:1},creationDate:{oneOf:[{type:"number",minimum:16e11},{type:"number",enum:[0]}]},tags:{type:"array",items:{type:"string"}}}}}}},chords_updateAll_Output:{type:"object",additionalProperties:!1},clipboard_addEntry_Input:{type:"object",required:["name"],additionalProperties:!1,properties:{name:{type:"string"},content:{type:"string"},file:{type:"array"},ttlSeconds:{type:["number","string"],minimum:0},isPublic:{type:["boolean","string"]}}},clipboard_addEntry_Output:{type:"object",additionalProperties:!1},clipboard_deleteEntry_Input:{type:"object",required:["name"],additionalProperties:!1,properties:{name:{type:"string"}}},clipboard_deleteEntry_Output:{type:"object",additionalProperties:!1},clipboard_getAllEntries_Output:{type:"array",items:{type:"object",properties:{id:{type:"number"},name:{type:"string"},content:{type:"string"},creationDateUnix:{type:"number"},ttl:{type:"number"},isPublic:{type:"boolean"},linkId:{type:"string"},s3Key:{type:["string"]},s3PresignedUrl:{type:"string"}},required:["id","name","content","creationDateUnix","ttl","isPublic","linkId"],additionalProperties:!1}},clipboard_getPublicEntries_Output:{type:"array",items:{type:"object",properties:{id:{type:"number"},name:{type:"string"},content:{type:"string"},creationDateUnix:{type:"number"},ttl:{type:"number"},isPublic:{type:"boolean"},linkId:{type:"string"},s3Key:{type:"string"},s3PresignedUrl:{type:"string"}},required:["id","name","content","creationDateUnix","ttl","isPublic","linkId"],additionalProperties:!1}},clipboard_view_Output:{type:"array",items:{type:"object",properties:{id:{type:"number"},name:{type:"string"},content:{type:"string"},creationDateUnix:{type:"number"},ttl:{type:"number"},isPublic:{type:"boolean"},linkId:{type:"string"},s3Key:{type:["string","null"]},s3PresignedUrl:{type:"string"},contentIsLink:{type:"boolean"}},required:["id","name","content","creationDateUnix","ttl","isPublic","linkId"],additionalProperties:!1}},cookbook_addRecipe_Input:{type:"object",required:["name","content","ingredients"],additionalProperties:!1,properties:{name:{type:"string"},content:{type:"string"},ingredients:{type:"array",items:{type:"object",required:["name"],additionalProperties:!1,properties:{name:{type:"string"},quantity:{type:"number"},unit:{type:"string"}}}}}},cookbook_addRecipe_Output:{type:"object",additionalProperties:!1},cookbook_getRecipe_Input:{type:"object",required:["recipeId"],additionalProperties:!1,properties:{recipeId:{type:"number"}}},cookbook_getRecipe_Output:{type:"object",required:["id","name","creationDateUnix","updateDateUnix","content","ingredients"],additionalProperties:!1,properties:{id:{type:"number"},name:{type:"string"},creationDateUnix:{type:"number"},updateDateUnix:{type:"number"},content:{type:"string"},ingredients:{type:"array",items:{type:"object",required:["id","name"],additionalProperties:!1,properties:{id:{type:"number"},name:{type:"string"},quantity:{type:["number","null"]},unit:{type:["string","null"]}}}}}},cookbook_listIngredients_Output:{type:"object",properties:{ingredients:{type:"array",minItems:0,items:{type:"object",properties:{id:{type:"number"},name:{type:"string"}},required:["id","name"],additionalProperties:!1}}},required:["ingredients"],additionalProperties:!1},cookbook_listRecipes_Output:{type:"object",properties:{recipes:{type:"array",minItems:0,items:{type:"object",properties:{id:{type:"number"},name:{type:"string"},creationDateUnix:{type:"number"},updateDateUnix:{type:"number"}},required:["id","name","creationDateUnix","updateDateUnix"],additionalProperties:!1}}},required:["recipes"],additionalProperties:!1},gravitrips_getNewGame_Output:{type:"object",properties:{gameId:{type:"string"}}},health_getRemoteTime_Output:{type:"number"},homeTracker_getEphemerides_Output:{type:"object",properties:{ephemerides:{type:"object",properties:{moonState:{type:"object",properties:{lunarAge:{type:"number"},lunarAgePercent:{type:"number"},moonPhase:{type:"string"},moonPhaseFr:{type:"string"},moonVisibilityWindow:{type:"array",items:{type:"string"},maxItems:2,minItems:2}},required:["lunarAge","lunarAgePercent","moonPhase","moonPhaseFr","moonVisibilityWindow"],additionalProperties:!1},sunState:{type:"object",properties:{sunrise:{type:"number"},sunset:{type:"number"},solarNoon:{type:"number"},goldenHour:{type:"number"},dayLengthMs:{type:"number",description:"How many hours of sun this day (in ms)"},dayLengthDiffMs:{type:"number",description:"The difference of day length compared to yesterday (in ms)"}},required:["sunrise","sunset","solarNoon","goldenHour"],additionalProperties:!1},upcomingLunarStates:{type:"array",items:{type:"object",properties:{lunarState:{type:"object",properties:{lunarAge:{type:"number"},lunarAgePercent:{type:"number"},moonPhase:{type:"string"},moonPhaseFr:{type:"string"},moonVisibilityWindow:{type:"array",items:{type:"string"},maxItems:2,minItems:2}},required:["lunarAge","lunarAgePercent","moonPhase","moonPhaseFr","moonVisibilityWindow"],additionalProperties:!1},tsMillis:{type:"number"}},required:["tsMillis","lunarState"]}}},required:["moonState","sunState","upcomingLunarStates"],additionalProperties:!1}},required:["ephemerides"],additionalProperties:!1},homeTracker_getSensorsDataForDashboard_Output:{type:"object",properties:{sensors:{type:"array",items:{type:"object",properties:{sensorName:{type:"string"},lastAlertDateUnix:{type:["number","null"]},lastSyncDateUnix:{type:"number"},hexColor:{type:"string",description:"RGB color in hex format. Example: #AA33CC",pattern:"^#[A-F0-9]{6}$"},lastLogData:{type:"object",properties:{timestamp:{type:"number"},sensorName:{type:"string"},batteryCharge:{type:"number"},batteryPercent:{type:"number"},detectedForcedReset:{type:"boolean"},detectedInternalSensorFailure:{type:"boolean"},detectedLowBattery:{type:"boolean"},detectedSensorFailure:{type:"boolean"},humidity:{type:"number"},internalHumidity:{type:"number"},internalTempCelsius:{type:"number"},pressurehPa:{type:"number"},tempCelsius:{type:"number"},timeToSendMs:{type:"number"}},required:["sensorName","timestamp"],additionalProperties:!1},oneHourAgoLogData:{type:"object",properties:{timestamp:{type:"number"},sensorName:{type:"string"},batteryCharge:{type:"number"},batteryPercent:{type:"number"},detectedForcedReset:{type:"boolean"},detectedInternalSensorFailure:{type:"boolean"},detectedLowBattery:{type:"boolean"},detectedSensorFailure:{type:"boolean"},humidity:{type:"number"},internalHumidity:{type:"number"},internalTempCelsius:{type:"number"},pressurehPa:{type:"number"},tempCelsius:{type:"number"},timeToSendMs:{type:"number"}},required:["sensorName","timestamp"],additionalProperties:!1},oneDayAgoLogData:{type:"object",properties:{timestamp:{type:"number"},sensorName:{type:"string"},batteryCharge:{type:"number"},batteryPercent:{type:"number"},detectedForcedReset:{type:"boolean"},detectedInternalSensorFailure:{type:"boolean"},detectedLowBattery:{type:"boolean"},detectedSensorFailure:{type:"boolean"},humidity:{type:"number"},internalHumidity:{type:"number"},internalTempCelsius:{type:"number"},pressurehPa:{type:"number"},tempCelsius:{type:"number"},timeToSendMs:{type:"number"}},required:["sensorName","timestamp"],additionalProperties:!1},sleepTimeSec:{type:"number"},tempOffset:{type:"number"}},additionalProperties:!1}}},required:["sensors"],additionalProperties:!1},homeTracker_getWeatherForecast_Output:{type:"object",properties:{forecast:{type:"object",properties:{pressureTrend:{type:"string",enum:["falling","rising","steady","unknown"]},forecast:{type:"string"},dataPoints:{type:"object",properties:{latest:{type:"object",properties:{pressurehPa:{type:"number"},timestampMs:{type:"number"}},required:["pressurehPa","timestampMs"],additionalProperties:!1},oldest:{type:"object",properties:{pressurehPa:{type:"number"},timestampMs:{type:"number"}},required:["pressurehPa","timestampMs"],additionalProperties:!1}},required:["latest","oldest"],additionalProperties:!1}},required:["pressureTrend","forecast"],additionalProperties:!1},pressureHistory:{type:"array",items:{type:"object",properties:{timestamp:{type:"string"},averagePressurehPa:{type:"number"}},required:["timestamp","averagePressurehPa"],additionalProperties:!1}}},required:["forecast","pressureHistory"],additionalProperties:!1},homeTracker_histogramData_Input:{type:"object",required:["timeWindow"],additionalProperties:!1,properties:{timeWindow:{type:"string",enum:["30m","3h","12h","1d","3d","7d","2w","1M","2M","6M","alltime"]}}},homeTracker_histogramData_Output:{type:"object",properties:{sensorNames:{type:"array",items:{type:"string"}},histogramData:{type:"object",additionalProperties:{type:"object",properties:{tempCelsius:{type:"object",additionalProperties:{type:"number"}},internalTempCelsius:{type:"object",additionalProperties:{type:"number"}},batteryCharge:{type:"object",additionalProperties:{type:"number"}},humidity:{type:"object",additionalProperties:{type:"number"}},internalHumidity:{type:"object",additionalProperties:{type:"number"}},pressurehPa:{type:"object",additionalProperties:{type:"number"}}},additionalProperties:!1}}},required:["sensorNames","histogramData"],additionalProperties:!1},homeTracker_histogramDataPublic_Input:{type:"object",required:["timeWindow"],additionalProperties:!1,properties:{timeWindow:{type:"string",enum:["30m","3h","12h","1d","3d","7d","2w"]}}},homeTracker_histogramDataPublic_Output:{type:"object",properties:{sensorNames:{type:"array",items:{type:"string"}},histogramData:{type:"object",additionalProperties:{type:"object",properties:{tempCelsius:{type:"object",additionalProperties:{type:"number"}},internalTempCelsius:{type:"object",additionalProperties:{type:"number"}},batteryCharge:{type:"object",additionalProperties:{type:"number"}},humidity:{type:"object",additionalProperties:{type:"number"}},internalHumidity:{type:"object",additionalProperties:{type:"number"}},pressurehPa:{type:"object",additionalProperties:{type:"number"}}},additionalProperties:!1}}},required:["sensorNames","histogramData"],additionalProperties:!1},homeTracker_updateSensorMetadata_Input:{type:"object",required:["sensorName","hexColor","tempOffset","sleepTimeSec"],additionalProperties:!1,properties:{sensorName:{type:"string"},hexColor:{type:"string"},tempOffset:{type:"number"},sleepTimeSec:{type:"number",minimum:0}}},homeTracker_updateSensorMetadata_Output:{type:"object",additionalProperties:!1},homeTracker_upload_Input:{type:"object",required:["sensorName"],additionalProperties:!1,properties:{sensorName:{description:"Name of the sensor",type:"string"},tempCelsius:{description:"The current room temperature in celsius",type:"number"},humidity:{description:"The current room humidity in percent",type:"number"},pressurePa:{description:"The current room pressure in Pascal",type:"number"},internalTempCelsius:{description:"The current room temperature in celsius",type:"number"},internalHumidity:{description:"The current room humidity in percent",type:"number"},batteryCharge:{description:"Computed charge of the battery in Volts",type:"number"},batteryPercent:{description:"Computed percentage battery",type:"number"},timeToSendMs:{description:"Computed interval between the start of the loop and the HTTP call",type:"number"},detectedLowBattery:{description:"True if board detected a battery voltage low enough to trigger shutdown",type:"boolean"},detectedForcedReset:{description:"True if board detected it restarted after an interrupt forced a restart",type:"boolean"},detectedInternalSensorFailure:{description:"True if board detected it could not succcessfully read from the internal sensor",type:"boolean"},detectedSensorFailure:{description:"True if board detected it could not succcessfully read from the main sensor",type:"boolean"}}},homeTracker_upload_Output:{type:"object",required:["instructSleepSec"],additionalProperties:!1,properties:{instructSleepSec:{description:"The recommended sleeping time of the sensor in seconds",type:"number"}}},openapi_definitionJson_Output:{type:"object",additionalProperties:!1},personalTracker_getAll_Output:{type:"object",required:["events"],additionalProperties:!1,properties:{events:{type:"array",minItems:0,items:{type:"object",required:["eventDateUnix","type","value"],additionalProperties:!1,properties:{eventDateUnix:{description:"The date of the event in seconds in UTC",type:"number"},type:{description:"Event type",type:"string"},value:{description:"The value associated with the event",type:"number"}}}}}},personalTracker_upload_Input:{type:"object",required:["event"],additionalProperties:!1,properties:{event:{type:"object",required:["timestampUTC","type","value"],additionalProperties:!1,properties:{timestampUTC:{description:"The date of the event in seconds in UTC",type:"number"},type:{description:"Event type",type:"string"},value:{description:"The value associated with the event",type:"number"}}}}},personalTracker_upload_Output:{type:"object",additionalProperties:!1},reactor_addEntry_Input:{type:"object",required:["name","commaSeparatedTags","file"],additionalProperties:!1,properties:{name:{type:"string"},commaSeparatedTags:{type:"string"},file:{type:"array"}}},reactor_addEntry_Output:{type:"object",additionalProperties:!1},reactor_getEntriesForPublic_Output:{type:"array",items:{type:"object",properties:{name:{type:"string"},creationDateUnix:{type:"number"},s3PresignedUrl:{type:"string"},uri:{type:"string"},tags:{type:"array",items:{type:"string"}}},required:["name","creationDateUnix","s3PresignedUrl","uri","tags"],additionalProperties:!1}},misc_r_Output:{type:"string",description:"A S3 presigned URL to redirect to"},webWatcher_createWatcher_Input:{oneOf:[{type:"object",required:["name","notificationMessage","url","watchType","cssSelector","checkIntervalSeconds"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the watcher (must be uniq)"},notificationMessage:{type:"string",description:"Message to send went the content changes"},url:{type:"string",description:"URL to monitor"},watchType:{type:"string",description:"Type of watch to do",enum:["CSS"]},cssSelector:{type:"string",description:"CSS selector to the element to monitor in the page"},checkIntervalSeconds:{type:"number",description:"Minimum time between to checks in seconds",minimum:900}}},{type:"object",required:["name","notificationMessage","url","watchType","checkIntervalSeconds"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the watcher (must be uniq)"},notificationMessage:{type:"string",description:"Message to send went the content changes"},url:{type:"string",description:"URL to monitor"},watchType:{type:"string",description:"Type of watch to do",enum:["HASH"]},checkIntervalSeconds:{type:"number",description:"Minimum time between to checks in seconds",minimum:900}}}]},webWatcher_createWatcher_Output:{type:"object",additionalProperties:!1},webWatcher_deleteWatcher_Input:{type:"object",required:["id"],additionalProperties:!1,properties:{id:{type:"number",description:"id of the watcher to delete"}}},webWatcher_deleteWatcher_Output:{type:"object",additionalProperties:!1},webWatcher_getAllWatchers_Output:{type:"array",items:{type:"object",properties:{id:{type:"number"},name:{type:"string"},notificationMessage:{type:"string"},url:{type:"string"},watchType:{type:"string"},cssSelector:{type:"string"},lastContent:{type:"string"},lastCheckDateUnix:{type:["number","null"]},lastUpdateDateUnix:{type:["number","null"]},archivalDateUnix:{type:["number","null"]},checkIntervalSeconds:{type:"number"},lastErrorDateUnix:{type:["number","null"]},lastErrorMessage:{type:["string","null"]}},required:["id","name","notificationMessage","url","watchType","lastContent","lastCheckDateUnix","lastUpdateDateUnix","checkIntervalSeconds","lastErrorDateUnix","lastErrorMessage"],additionalProperties:!1}},webWatcher_toggleWatcherEnabled_Input:{type:"object",required:["watcherId","setToEnabled"],additionalProperties:!1,properties:{watcherId:{type:"number",description:"The sql id of the watcher"},setToEnabled:{type:"boolean",description:"The new enabled status of the watcher"}}},webWatcher_toggleWatcherEnabled_Output:{type:"object",additionalProperties:!1}},zt=new Ss,Vt=new Map;function hn(e,r){return Vt.has(r)||Vt.set(r,zt.compile(e)),Vt.get(r)}function re(e,r,f){const n=hn(e,`input_${f}`);if(!n(r))throw new Error(`Invalid input for ${f}: ${zt.errorsText(n.errors)}`)}function B(e,r,f){const n=hn(e,`output_${f}`);n(r)||console.warn(`Invalid output for ${f}: ${zt.errorsText(n.errors)}`)}class ks{baseURL;credentials;onError;constructor(r){this.baseURL=r.baseURL.replace(/\/$/,""),this.credentials=r.credentials||"include",this.onError=r.onError}async fetch(r,f={}){const n=`${this.baseURL}${r}`;try{const u=await fetch(n,{...f,mode:"cors",credentials:this.credentials});if(!u.ok){const i=new Error(`HTTP ${u.status}: ${u.statusText}`);throw this.onError?.(i,r),i}return u}catch(u){const i=u instanceof Error?u:new Error(String(u));throw this.onError?.(i,r),i}}auth={login:async r=>{re(W.auth_login_Input,r,"auth.login");const u=await(await this.fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.auth_login_Output,u,"auth.login"),u},logout:async r=>{re(W.auth_logout_Input,r,"auth.logout");const u=await(await this.fetch("/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.auth_logout_Output,u,"auth.logout"),u},me:async r=>{re(W.auth_me_Input,r,"auth.me");const u=await(await this.fetch("/auth/me",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.auth_me_Output,u,"auth.me"),u}};chords={addLinkVisit:async r=>{re(W.chords_addLinkVisit_Input,r,"chords.addLinkVisit");const u=await(await this.fetch("/chords/addLinkVisit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.chords_addLinkVisit_Output,u,"chords.addLinkVisit"),u},checkLinks:async()=>{const n=await(await this.fetch("/chords/checkLinks",{method:"GET"})).json();return B(W.chords_checkLinks_Output,n,"chords.checkLinks"),n},getAll:async()=>{const n=await(await this.fetch("/chords/getAll",{method:"GET"})).json();return B(W.chords_getAll_Output,n,"chords.getAll"),n},getLinksVisitsCount:async()=>{const n=await(await this.fetch("/chords/getLinksVisitsCount",{method:"GET"})).json();return B(W.chords_getLinksVisitsCount_Output,n,"chords.getLinksVisitsCount"),n},updateAll:async r=>{re(W.chords_updateAll_Input,r,"chords.updateAll");const u=await(await this.fetch("/chords/updateAll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.chords_updateAll_Output,u,"chords.updateAll"),u}};clipboard={addEntry:async r=>{re(W.clipboard_addEntry_Input,r,"clipboard.addEntry");const u=await(await this.fetch("/clipboard/addEntry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.clipboard_addEntry_Output,u,"clipboard.addEntry"),u},deleteEntry:async r=>{re(W.clipboard_deleteEntry_Input,r,"clipboard.deleteEntry");const u=await(await this.fetch("/clipboard/deleteEntry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.clipboard_deleteEntry_Output,u,"clipboard.deleteEntry"),u},getAllEntries:async()=>{const n=await(await this.fetch("/clipboard/getAllEntries",{method:"GET"})).json();return B(W.clipboard_getAllEntries_Output,n,"clipboard.getAllEntries"),n},getPublicEntries:async()=>{const n=await(await this.fetch("/clipboard/getPublicEntries",{method:"GET"})).json();return B(W.clipboard_getPublicEntries_Output,n,"clipboard.getPublicEntries"),n},view:async()=>{const n=await(await this.fetch("/clipboard/view",{method:"GET"})).json();return B(W.clipboard_view_Output,n,"clipboard.view"),n}};cookbook={addRecipe:async r=>{re(W.cookbook_addRecipe_Input,r,"cookbook.addRecipe");const u=await(await this.fetch("/cookbook/addRecipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.cookbook_addRecipe_Output,u,"cookbook.addRecipe"),u},getRecipe:async r=>{re(W.cookbook_getRecipe_Input,r,"cookbook.getRecipe");const u=await(await this.fetch("/cookbook/getRecipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.cookbook_getRecipe_Output,u,"cookbook.getRecipe"),u},listIngredients:async()=>{const n=await(await this.fetch("/cookbook/listIngredients",{method:"GET"})).json();return B(W.cookbook_listIngredients_Output,n,"cookbook.listIngredients"),n},listRecipes:async()=>{const n=await(await this.fetch("/cookbook/listRecipes",{method:"GET"})).json();return B(W.cookbook_listRecipes_Output,n,"cookbook.listRecipes"),n}};gravitrips={getNewGame:async()=>{const n=await(await this.fetch("/gravitrips/getNewGame",{method:"GET"})).json();return B(W.gravitrips_getNewGame_Output,n,"gravitrips.getNewGame"),n}};health={getRemoteTime:async()=>{const n=await(await this.fetch("/health/getRemoteTime",{method:"GET"})).json();return B(W.health_getRemoteTime_Output,n,"health.getRemoteTime"),n}};homeTracker={getEphemerides:async()=>{const n=await(await this.fetch("/homeTracker/getEphemerides",{method:"GET"})).json();return B(W.homeTracker_getEphemerides_Output,n,"homeTracker.getEphemerides"),n},getSensorsDataForDashboard:async()=>{const n=await(await this.fetch("/homeTracker/getSensorsDataForDashboard",{method:"GET"})).json();return B(W.homeTracker_getSensorsDataForDashboard_Output,n,"homeTracker.getSensorsDataForDashboard"),n},getWeatherForecast:async()=>{const n=await(await this.fetch("/homeTracker/getWeatherForecast",{method:"GET"})).json();return B(W.homeTracker_getWeatherForecast_Output,n,"homeTracker.getWeatherForecast"),n},histogramData:async r=>{re(W.homeTracker_histogramData_Input,r,"homeTracker.histogramData");const u=await(await this.fetch("/homeTracker/histogramData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.homeTracker_histogramData_Output,u,"homeTracker.histogramData"),u},histogramDataPublic:async r=>{re(W.homeTracker_histogramDataPublic_Input,r,"homeTracker.histogramDataPublic");const u=await(await this.fetch("/homeTracker/histogramDataPublic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.homeTracker_histogramDataPublic_Output,u,"homeTracker.histogramDataPublic"),u},updateSensorMetadata:async r=>{re(W.homeTracker_updateSensorMetadata_Input,r,"homeTracker.updateSensorMetadata");const u=await(await this.fetch("/homeTracker/updateSensorMetadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.homeTracker_updateSensorMetadata_Output,u,"homeTracker.updateSensorMetadata"),u},upload:async r=>{re(W.homeTracker_upload_Input,r,"homeTracker.upload");const u=await(await this.fetch("/homeTracker/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.homeTracker_upload_Output,u,"homeTracker.upload"),u}};openapi={definitionJson:async()=>{const n=await(await this.fetch("/openapi/definition.json",{method:"GET"})).json();return B(W.openapi_definitionJson_Output,n,"openapi.definitionJson"),n}};personalTracker={getAll:async()=>{const n=await(await this.fetch("/personalTracker/getAll",{method:"GET"})).json();return B(W.personalTracker_getAll_Output,n,"personalTracker.getAll"),n},upload:async r=>{re(W.personalTracker_upload_Input,r,"personalTracker.upload");const u=await(await this.fetch("/personalTracker/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.personalTracker_upload_Output,u,"personalTracker.upload"),u}};reactor={addEntry:async r=>{re(W.reactor_addEntry_Input,r,"reactor.addEntry");const u=await(await this.fetch("/reactor/addEntry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.reactor_addEntry_Output,u,"reactor.addEntry"),u},getEntriesForPublic:async()=>{const n=await(await this.fetch("/reactor/getEntriesForPublic",{method:"GET"})).json();return B(W.reactor_getEntriesForPublic_Output,n,"reactor.getEntriesForPublic"),n}};misc={r:async r=>{const f="/r/:linkId".replace(":linkId",r.linkId),u=await(await this.fetch(f,{method:"GET"})).json();return B(W.misc_r_Output,u,"misc.r"),u}};webWatcher={createWatcher:async r=>{re(W.webWatcher_createWatcher_Input,r,"webWatcher.createWatcher");const u=await(await this.fetch("/webWatcher/createWatcher",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.webWatcher_createWatcher_Output,u,"webWatcher.createWatcher"),u},deleteWatcher:async r=>{re(W.webWatcher_deleteWatcher_Input,r,"webWatcher.deleteWatcher");const u=await(await this.fetch("/webWatcher/deleteWatcher",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.webWatcher_deleteWatcher_Output,u,"webWatcher.deleteWatcher"),u},getAllWatchers:async()=>{const n=await(await this.fetch("/webWatcher/getAllWatchers",{method:"GET"})).json();return B(W.webWatcher_getAllWatchers_Output,n,"webWatcher.getAllWatchers"),n},toggleWatcherEnabled:async r=>{re(W.webWatcher_toggleWatcherEnabled_Input,r,"webWatcher.toggleWatcherEnabled");const u=await(await this.fetch("/webWatcher/toggleWatcherEnabled",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return B(W.webWatcher_toggleWatcherEnabled_Output,u,"webWatcher.toggleWatcherEnabled"),u}}}const Rs=new ks({baseURL:Ut,credentials:"include"});export{on as A,Os as a,Ss as b,Rs as c};
