import{aq as g,W as x,X as n,Y as A,ar as N,$ as D,a1 as S,a0 as q,a2 as v,a3 as B,as as c,ah as E,Q as T,at as H,au as L,av as R,F as Y,aw as F}from"./BjuhH6lp.js";import{B as G}from"./DOBpYI5L.js";const b=0,_=1;function P(m,k,y,r,l){n&&A();var h=g(),t=F,i=h?E(t):T(t,!1,!1),o=h?E(t):T(t,!1,!1),a=new G(m);x(()=>{var u=k(),d=!1;let p=n&&N(u)===(m.data===D);if(p&&(S(q()),v(!1)),N(u)){var w=H(),I=!1;const s=e=>{if(!d){I=!0,w(),n&&v(!1);try{e()}finally{L(),R||Y()}}};u.then(e=>{s(()=>{c(i,e),a.ensure(_,r&&(f=>r(f,i)))})},e=>{s(()=>{if(c(o,e),a.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?a.ensure(b,y):B(()=>{I||s(()=>{a.ensure(b,y)})})}else c(i,u),a.ensure(_,r&&(s=>r(s,i)));return p&&v(!0),()=>{d=!0}})}export{P as a};
