import{P as n}from"./CELBgAxi.js";const h=async o=>{const{path:t}=o;if(!t.length||t[0]!=="/")throw new Error("Malformed path");const r=new Headers;r.set("Content-Type","application/json");const s=await fetch(`${n}${t}`,{method:"GET",mode:"cors",credentials:"include",headers:r});if(s.status<200||s.status>=300){let e;try{e=await s.text()}catch{e="could not parse server error message"}throw new c(s.status,e)}return s.json()};class c extends Error{code;constructor(t,r){super(r),this.code=t}}const p=async o=>{const{path:t,data:r}=o;if(!t.length||t[0]!=="/")throw new Error("Malformed path");const s=JSON.stringify(r),e=await fetch(`${n}${t}`,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:s});if(e.status<200||e.status>=300){let a;try{a=await e.text()}catch{a="could not parse server error message"}throw new c(e.status,a)}return e.json()};export{c as A,p as a,h as r};
