import{b0 as V,aE as C,at as H,w as Y,l as T,b1 as q,b2 as z,y as Z,b3 as F,b4 as J,g as Q,b5 as W,v as $,b6 as X,ap as m,b7 as x,b8 as ss}from"./a6R6ZExM.js";import{i as es,c as as,d as ts,n as rs,b as is}from"./CQsW2AK8.js";import{c as fs,s as us,a as os}from"./CPtmBTpt.js";import{s as R,i as ls}from"./CWfbUPvM.js";function cs(s,a){var e=void 0,i;V(()=>{e!==(e=a())&&(i&&(C(i),i=null),e&&(i=H(()=>{Y(()=>e(s))})))})}const S=Symbol("class"),N=Symbol("style"),j=Symbol("is custom element"),B=Symbol("is html");function _s(s){if(T){var a=!1,e=()=>{if(!a){if(a=!0,s.hasAttribute("value")){var i=s.value;I(s,"value",null),s.value=i}if(s.hasAttribute("checked")){var o=s.checked;I(s,"checked",null),s.checked=o}}};s.__on_r=e,Z(e),F()}}function ps(s,a){var e=O(s);e.value===(e.value=a??void 0)||s.value===a&&(a!==0||s.nodeName!=="PROGRESS")||(s.value=a??"")}function vs(s,a){a?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function I(s,a,e,i){var o=O(s);T&&(o[a]=s.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&s.nodeName==="LINK")||o[a]!==(o[a]=e)&&(a==="loading"&&(s[x]=e),e==null?s.removeAttribute(a):typeof e!="string"&&D(s).includes(a)?s[a]=e:s.setAttribute(a,e))}function ns(s,a,e,i,o=!1,k=!1){if(T&&o&&s.tagName==="INPUT"){var d=s,w=d.type==="checkbox"?"defaultChecked":"defaultValue";w in e||_s(d)}var b=O(s),v=b[j],h=!b[B];let p=T&&v;p&&$(!1);var f=a||{},g=s.tagName==="OPTION";for(var n in a)n in e||(e[n]=null);e.class?e.class=fs(e.class):(i||e[S])&&(e.class=null),e[N]&&(e.style??=null);var E=D(s);for(const t in e){let r=e[t];if(g&&t==="value"&&r==null){s.value=s.__value="",f[t]=r;continue}if(t==="class"){var A=s.namespaceURI==="http://www.w3.org/1999/xhtml";us(s,A,r,i,a?.[S],e[S]),f[t]=r,f[S]=e[S];continue}if(t==="style"){os(s,r,a?.[N],e[N]),f[t]=r,f[N]=e[N];continue}var c=f[t];if(!(r===c&&!(r===void 0&&s.hasAttribute(t)))){f[t]=r;var M=t[0]+t[1];if(M!=="$$")if(M==="on"){const _={},y="$$"+t;let u=t.slice(2);var L=is(u);if(es(u)&&(u=u.slice(0,-7),_.capture=!0),!L&&c){if(r!=null)continue;s.removeEventListener(u,f[y],_),f[y]=null}if(r!=null)if(L)s[`__${u}`]=r,ts([u]);else{let G=function(K){f[t].call(this,K)};f[y]=as(u,s,G,_)}else L&&(s[`__${u}`]=void 0)}else if(t==="style")I(s,t,r);else if(t==="autofocus")X(s,!!r);else if(!v&&(t==="__value"||t==="value"&&r!=null))s.value=s.__value=r;else if(t==="selected"&&g)vs(s,r);else{var l=t;h||(l=rs(l));var P=l==="defaultValue"||l==="defaultChecked";if(r==null&&!v&&!P)if(b[t]=null,l==="value"||l==="checked"){let _=s;const y=a===void 0;if(l==="value"){let u=_.defaultValue;_.removeAttribute(l),_.defaultValue=u,_.value=_.__value=y?u:null}else{let u=_.defaultChecked;_.removeAttribute(l),_.defaultChecked=u,_.checked=y?u:!1}}else s.removeAttribute(t);else P||E.includes(l)&&(v||typeof r!="string")?(s[l]=r,l in b&&(b[l]=m)):typeof r!="function"&&I(s,l,r)}}}return p&&$(!0),f}function gs(s,a,e=[],i=[],o=[],k,d=!1,w=!1){J(o,e,i,b=>{var v=void 0,h={},p=s.nodeName==="SELECT",f=!1;if(V(()=>{var n=a(...b.map(Q)),E=ns(s,v,n,k,d,w);f&&p&&"value"in n&&R(s,n.value);for(let c of Object.getOwnPropertySymbols(h))n[c]||C(h[c]);for(let c of Object.getOwnPropertySymbols(n)){var A=n[c];c.description===W&&(!v||A!==v[c])&&(h[c]&&C(h[c]),h[c]=H(()=>cs(s,()=>A))),E[c]=A}v=E}),p){var g=s;Y(()=>{R(g,v.value,!0),ls(g)})}f=!0})}function O(s){return s.__attributes??={[j]:s.nodeName.includes("-"),[B]:s.namespaceURI===q}}var U=new Map;function D(s){var a=s.getAttribute("is")||s.nodeName,e=U.get(a);if(e)return e;U.set(a,e=[]);for(var i,o=s,k=Element.prototype;k!==o;){i=ss(o);for(var d in i)i[d].set&&e.push(d);o=z(o)}return e}export{S as C,ps as a,gs as b,_s as r,I as s};
