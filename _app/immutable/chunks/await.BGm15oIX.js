import{k as L,c as U,h,f as j,C as F,D as m,d as c,q as J,U as C,j as K,a as D,F as E,G as H,H as T,I as q,J as p,p as y,K as P,L as Z}from"./index-client.S3REcJgE.js";const I=0,l=1,x=2;function B(w,A,n,N,o){h&&j();var i=w,b=L(),G=Z,a=C,r,s,t,_=(b?D:E)(void 0),v=(b?D:E)(void 0),d=!1;function u(e,f){d=!0,f&&(H(k),T(k),q(G));try{e===I&&n&&(r?p(r):r=c(()=>n(i))),e===l&&N&&(s?p(s):s=c(()=>N(i,_))),e===x&&o&&(t?p(t):t=c(()=>o(i,v))),e!==I&&r&&y(r,()=>r=null),e!==l&&s&&y(s,()=>s=null),e!==x&&t&&y(t,()=>t=null)}finally{f&&(q(null),T(null),H(null),P())}}var k=U(()=>{if(a!==(a=A())){if(F(a)){var e=a;d=!1,e.then(f=>{e===a&&(m(_,f),u(l,!0))},f=>{if(e===a&&(m(v,f),u(x,!0),!o))throw v.v}),h?n&&(r=c(()=>n(i))):J(()=>{d||u(I,!0)})}else m(_,a),u(l,!1);return()=>a=C}});h&&(i=K)}export{B as a};
