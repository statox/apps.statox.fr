import{V as x,u as t,r as o,h as _,W as S,t as w,q as b}from"./Bq60w86z.js";import{b as n}from"./D-cnfVwm.js";function q(e,l,a=l){var d=x();n(e,"input",c=>{var v=c?e.defaultValue:e.value;if(v=u(e)?i(v):v,a(v),d&&v!==(v=l())){var f=e.selectionStart,s=e.selectionEnd;e.value=v??"",s!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(s,e.value.length))}}),(_&&e.defaultValue!==e.value||t(l)==null&&e.value)&&a(u(e)?i(e.value):e.value),o(()=>{var c=l();u(e)&&c===i(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}const k=new Set;function A(e,l,a,d,c=d){var v=a.getAttribute("type")==="checkbox",f=e;let s=!1;if(l!==null)for(var y of l)f=f[y]??=[];f.push(a),n(a,"change",()=>{var r=a.__value;v&&(r=m(f,r,a.checked)),c(r)},()=>c(v?[]:null)),o(()=>{var r=d();if(_&&a.defaultChecked!==a.checked){s=!0;return}v?(r=r||[],a.checked=r.includes(a.__value)):a.checked=S(a.__value,r)}),w(()=>{var r=f.indexOf(a);r!==-1&&f.splice(r,1)}),k.has(f)||(k.add(f),b(()=>{f.sort((r,h)=>r.compareDocumentPosition(h)===4?-1:1),k.delete(f)})),b(()=>{if(s){var r;if(v)r=m(f,r,a.checked);else{var h=f.find(g=>g.checked);r=h?.__value}c(r)}})}function E(e,l,a=l){n(e,"change",d=>{var c=d?e.defaultChecked:e.checked;a(c)}),(_&&e.defaultChecked!==e.checked||t(l)==null)&&a(e.checked),o(()=>{var d=l();e.checked=!!d})}function m(e,l,a){for(var d=new Set,c=0;c<e.length;c+=1)e[c].checked&&d.add(e[c].__value);return a||d.delete(l),Array.from(d)}function u(e){var l=e.type;return l==="number"||l==="range"}function i(e){return e===""?null:+e}function B(e,l,a=l){n(e,"change",()=>{a(e.files)}),_&&e.files&&a(e.files),o(()=>{e.files=l()})}export{A as a,q as b,B as c,E as d};
