import{c as f}from"./ldFxFRwj.js";import"./uzsX0xSz.js";import{w}from"./DqykZqCX.js";const s=624,y=397,l=32,u=31,x=4294967295<<u>>>0,p=4294967295>>>l-u>>>0,S=2567483615,_=11,g=7,z=15,A=18,M=2636928640,b=4022730752,U=1812433253,$=(t,r)=>{t.state_array[0]=r;for(let n=1;n<s;n++)r=Math.imul(U,r^r>>>l-2)+n>>>0,t.state_array[n]=r;t.state_index=0},d=t=>{let r=t.state_index,n=r-(s-1);n<0&&(n+=s);let a=t.state_array[r]&x|t.state_array[n]&p,i=a>>>1;a&1&&(i^=S),n=r-(s-y),n<0&&(n+=s),a=(t.state_array[n]^i)>>>0,t.state_array[r++]=a,r>=s&&(r=0),t.state_index=r;let o=a^a>>>_;return o=o^o<<g&M,o=o^o<<z&b,(o^o>>>A)>>>0},k=t=>d(t)/4294967296;class v{#t;#r;constructor(){this.#r={state_array:[],state_index:0},this.#t=!1}initialize(r){$(this.#r,r),this.#t=!0}randomInt(){if(!this.#t)throw new Error("State not initialized");return d(this.#r)}random(){if(!this.#t)throw new Error("State not initialized");return k(this.#r)}}const e=new v,c=w(),h=f.auth.me,T=async(t,r)=>{await f.auth.login({username:t,password:r}),await m()},j=async()=>{await f.auth.logout(),await m()},m=async()=>{try{c.set(await h())}catch{c.set(void 0)}},B=async()=>{try{const t=await h();c.set(t)}catch{c.set(void 0)}},F=(t,r)=>r?r.user.scopes.includes("admin")?!0:r.user.scopes.includes(t):!1,C=t=>t.split("").reduce((r,n,a)=>r+(a+1)*n.charCodeAt(0),1),I=t=>{if(!t)return"#990000";const r=C(t);e.initialize(r);const n=Math.floor(e.random()*255).toString(16).padStart(2,"0"),a=Math.floor(e.random()*255).toString(16).padStart(2,"0"),i=Math.floor(e.random()*255).toString(16).padStart(2,"0");return`#${n}${a}${i}`};export{m as a,j as b,B as c,I as d,F as i,T as l,c as u};
