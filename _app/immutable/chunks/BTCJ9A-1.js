import{ai as A,k as g,l,m as q,aj as I,H as x,v as B,q as D,w as c,A as H,ak as v,U as N,Y as E,al as S,am as L,an as R,ao as U,ap as Y,aq as j}from"./jLkyigik.js";import{B as G}from"./D1ZQwt0H.js";const T=0,m=1;function P(_,b,y,r,n){l&&q();var h=A(),t=j,i=h?N(t):E(t,!1,!1),o=h?N(t):E(t,!1,!1),a=new G(_);g(()=>{var u=b(),p=!1;let d=l&&I(u)===(_.data===x);if(d&&(B(D()),c(!1)),I(u)){var w=S(),k=!1;const s=e=>{if(!p){k=!0,w(!1),L.ensure(),l&&c(!1);try{e()}finally{R(),U||Y()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(m,r&&(f=>r(f,i)))})},e=>{s(()=>{if(v(o,e),a.ensure(m,n&&(f=>n(f,o))),!n)throw o.v})}),l?a.ensure(T,y):H(()=>{k||s(()=>{a.ensure(T,y)})})}else v(i,u),a.ensure(m,r&&(s=>r(s,i)));return d&&c(!0),()=>{p=!0}})}export{P as a};
