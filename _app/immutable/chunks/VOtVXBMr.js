import{a as f}from"./DTRCIxyi.js";import{w}from"./BlLNWVag.js";const s=624,p=397,l=32,d=31,y=4294967295<<d>>>0,x=4294967295>>>l-d>>>0,S=2567483615,_=11,g=7,z=15,A=18,M=2636928640,b=4022730752,P=1812433253,U=(t,a)=>{t.state_array[0]=a;for(let r=1;r<s;r++)a=Math.imul(P,a^a>>>l-2)+r>>>0,t.state_array[r]=a;t.state_index=0},u=t=>{let a=t.state_index,r=a-(s-1);r<0&&(r+=s);let n=t.state_array[a]&y|t.state_array[r]&x,i=n>>>1;n&1&&(i^=S),r=a-(s-p),r<0&&(r+=s),n=(t.state_array[r]^i)>>>0,t.state_array[a++]=n,a>=s&&(a=0),t.state_index=a;let o=n^n>>>_;return o=o^o<<g&M,o=o^o<<z&b,(o^o>>>A)>>>0},$=t=>u(t)/4294967296;class k{#t;#a;constructor(){this.#a={state_array:[],state_index:0},this.#t=!1}initialize(a){U(this.#a,a),this.#t=!0}randomInt(){if(!this.#t)throw new Error("State not initialized");return u(this.#a)}random(){if(!this.#t)throw new Error("State not initialized");return $(this.#a)}}const e=new k,c=w(),h=()=>f({path:"/auth/me",data:{}}),I=async(t,a)=>{await f({path:"/auth/login",data:{username:t,password:a}}),await m()},K=async()=>{await f({path:"/auth/logout",data:{}}),await m()},m=async()=>{try{c.set(await h())}catch{c.set(void 0)}},R=async()=>{try{const t=await h();c.set(t)}catch{c.set(void 0)}},T=(t,a)=>a?a.user.scopes.includes("admin")?!0:a.user.scopes.includes(t):!1,v=t=>t.split("").reduce((a,r,n)=>a+(n+1)*r.charCodeAt(0),1),j=t=>{if(!t)return"#990000";const a=v(t);e.initialize(a);const r=Math.floor(e.random()*255).toString(16).padStart(2,"0"),n=Math.floor(e.random()*255).toString(16).padStart(2,"0"),i=Math.floor(e.random()*255).toString(16).padStart(2,"0");return`#${r}${n}${i}`};export{k as P,m as a,K as b,R as c,j as d,T as i,I as l,c as u};
