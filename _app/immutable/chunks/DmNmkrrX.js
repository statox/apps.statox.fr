import{X as R,ai as O,Z as U,e as C,h as E,aW as G,t as K,a5 as Z,a$ as z,aY as F,b0 as W,b1 as X,b2 as J,b3 as Q,b4 as m,b5 as x,b6 as ee,g as re,b7 as ae,am as q,b8 as te,a1 as ie}from"./R2JDhSNG.js";import{i as se,c as ue,d as fe,n as le,e as oe}from"./C3Q0-X8e.js";import{t as ce,c as ne,s as ve}from"./II6s2hXF.js";function _e(e,a){var r=void 0,t;R(()=>{r!==(r=a())&&(t&&(O(t),t=null),r&&(t=U(()=>{C(()=>r(e))})))})}function de(e,a,r,t,i,u){var o=e.__className;if(E||o!==r||o===void 0){var c=ce(r,t,u);(!E||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):a?e.className=c:e.setAttribute("class",c)),e.__className=r}else if(u&&i!==u)for(var b in u){var l=!!u[b];(i==null||l!==!!i[b])&&e.classList.toggle(b,l)}return u}function T(e,a,r=!1){if(e.multiple){if(a==null)return;if(!Z(a))return z();for(var t of e.options)t.selected=a.includes(k(t));return}for(t of e.options){var i=k(t);if(F(i,a)){t.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function Y(e){var a=new MutationObserver(()=>{T(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),K(()=>{a.disconnect()})}function pe(e,a,r=a){var t=!0;G(e,"change",i=>{var u=i?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(u),k);else{var c=e.querySelector(u)??e.querySelector("option:not([disabled])");o=c&&k(c)}r(o)}),C(()=>{var i=a();if(T(e,i,t),t&&i===void 0){var u=e.querySelector(":checked");u!==null&&(i=k(u),r(i))}e.__value=i,t=!1}),Y(e)}function k(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),N=Symbol("style"),H=Symbol("is custom element"),V=Symbol("is html");function Se(e){if(E){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;w(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var i=e.checked;w(e,"checked",null),e.checked=i}}};e.__on_r=r,J(r),Q()}}function Ne(e,a){var r=M(e);r.value===(r.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function be(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function w(e,a,r,t){var i=M(e);E&&(i[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||i[a]!==(i[a]=r)&&(a==="loading"&&(e[m]=r),r==null?e.removeAttribute(a):typeof r!="string"&&j(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function he(e,a,r,t,i=!1){var u=M(e),o=u[H],c=!u[V];let b=E&&o;b&&q(!1);var l=a||{},A=e.tagName==="OPTION";for(var p in a)p in r||(r[p]=null);r.class?r.class=ne(r.class):(t||r[S])&&(r.class=null),r[N]&&(r.style??=null);var h=j(e);for(const s in r){let f=r[s];if(A&&s==="value"&&f==null){e.value=e.__value="",l[s]=f;continue}if(s==="class"){var L=e.namespaceURI==="http://www.w3.org/1999/xhtml";de(e,L,f,t,a?.[S],r[S]),l[s]=f,l[S]=r[S];continue}if(s==="style"){ve(e,f,a?.[N],r[N]),l[s]=f,l[N]=r[N];continue}var y=l[s];if(!(f===y&&!(f===void 0&&e.hasAttribute(s)))){l[s]=f;var _=s[0]+s[1];if(_!=="$$")if(_==="on"){const d={},g="$$"+s;let n=s.slice(2);var I=oe(n);if(se(n)&&(n=n.slice(0,-7),d.capture=!0),!I&&y){if(f!=null)continue;e.removeEventListener(n,l[g],d),l[g]=null}if(f!=null)if(I)e[`__${n}`]=f,fe([n]);else{let B=function(D){l[s].call(this,D)};l[g]=ue(n,e,B,d)}else I&&(e[`__${n}`]=void 0)}else if(s==="style")w(e,s,f);else if(s==="autofocus")te(e,!!f);else if(!o&&(s==="__value"||s==="value"&&f!=null))e.value=e.__value=f;else if(s==="selected"&&A)be(e,f);else{var v=s;c||(v=le(v));var $=v==="defaultValue"||v==="defaultChecked";if(f==null&&!o&&!$)if(u[s]=null,v==="value"||v==="checked"){let d=e;const g=a===void 0;if(v==="value"){let n=d.defaultValue;d.removeAttribute(v),d.defaultValue=n,d.value=d.__value=g?n:null}else{let n=d.defaultChecked;d.removeAttribute(v),d.defaultChecked=n,d.checked=g?n:!1}}else e.removeAttribute(s);else $||h.includes(v)&&(o||typeof f!="string")?(e[v]=f,v in u&&(u[v]=ie)):typeof f!="function"&&w(e,v,f)}}}return b&&q(!0),l}function ke(e,a,r=[],t=[],i,u=!1){ee(r,t,o=>{var c=void 0,b={},l=e.nodeName==="SELECT",A=!1;if(R(()=>{var h=a(...o.map(re)),L=he(e,c,h,i,u);A&&l&&"value"in h&&T(e,h.value);for(let _ of Object.getOwnPropertySymbols(b))h[_]||O(b[_]);for(let _ of Object.getOwnPropertySymbols(h)){var y=h[_];_.description===ae&&(!c||y!==c[_])&&(b[_]&&O(b[_]),b[_]=U(()=>_e(e,()=>y))),L[_]=y}c=L}),l){var p=e;C(()=>{T(p,c.value,!0),Y(p)})}A=!0})}function M(e){return e.__attributes??={[H]:e.nodeName.includes("-"),[V]:e.namespaceURI===W}}var P=new Map;function j(e){var a=e.getAttribute("is")||e.nodeName,r=P.get(a);if(r)return r;P.set(a,r=[]);for(var t,i=e,u=Element.prototype;u!==i;){t=x(i);for(var o in t)t[o].set&&r.push(o);i=X(i)}return r}export{S as C,de as a,pe as b,Ne as c,ke as d,Se as r,w as s};
