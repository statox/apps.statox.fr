import{R as O,V as F,h as l,b as J,aH as A,ap as K,aq as P,O as U,ar as D,_ as H,aI as y,aD as k,m as q,X as c,q as V,G as X,aF as R,aJ as S,aK as w,a4 as Y,as as p,a0 as I,i as Z}from"./CwNiQ9pF.js";const N=0,o=1,T=2;function j(C,G,n,b,_){l&&J();var s=C,x=O(),L=Y,a=H,r,t,f,v=x?k(void 0):q(void 0,!1,!1),d=x?k(void 0):q(void 0,!1,!1),h=!1;function u(e,i){h=!0,i&&(R(E),S(E),w(L));try{e===N&&n&&(r?p(r):r=c(()=>n(s))),e===o&&b&&(t?p(t):t=c(()=>b(s,v))),e===T&&_&&(f?p(f):f=c(()=>_(s,d))),e!==N&&r&&I(r,()=>r=null),e!==o&&t&&I(t,()=>t=null),e!==T&&f&&I(f,()=>f=null)}finally{i&&(w(null),S(null),R(null),Z())}}var E=F(()=>{if(a===(a=G()))return;let e=l&&A(a)===(s.data===K);if(e&&(s=P(),U(s),D(!1),e=!0),A(a)){var i=a;h=!1,i.then(m=>{i===a&&(y(v,m),u(o,!0))},m=>{if(i===a&&(y(d,m),u(T,!0),!_))throw d.v}),l?n&&(r=c(()=>n(s))):V(()=>{h||u(N,!0)})}else y(v,a),u(o,!1);return e&&D(!0),()=>a=H});l&&(s=X)}export{j as a};
