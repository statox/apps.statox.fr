import{D as r}from"./DTyfSRsR.js";import{P as m}from"./CpX8xF_L.js";import{s as b}from"./BgJCQexd.js";import{r as l,a as c}from"./DyU6LwkO.js";const p=t=>{const s=r.now(),u=r.fromSeconds(t.creationDateUnix).toRelative({style:"short"})||"N/A",d=t.creationDateUnix+t.ttl,o=r.fromSeconds(d),a=o.diffNow("seconds").get("seconds"),n=o.diff(s).rescale(),e=[];n.years>0?(e.push("years"),e.push("months")):n.months>0?e.push("months"):n.days>0?e.push("days"):n.hours>0?(e.push("hours"),e.push("minutes")):n.minutes?e.push("minutes"):e.push("seconds");const f=n.shiftTo(...e).mapUnits(h=>Math.ceil(h)).toHuman();let i="not_soon";return o<s?i="expired":a<60*60?i="very_soon":a<60*60*24&&(i="soon"),{...t,formatedCreationDate:u,formatedExpirationDate:f,expirationStatus:i}},D=async()=>(await l({path:"/clipboard/getPublicEntries"})).map(s=>p(s)),E=async()=>(await l({path:"/clipboard/getAllEntries"})).map(s=>p(s)),U=async t=>{const s=m+"/clipboard/addEntry";if(t.file){await b.post(s).withCredentials().field("name",t.name).field("content",t.content).field("ttlSeconds",t.ttlSeconds).field("isPublic",t.isPublic).attach("file",t.file);return}return c({path:"/clipboard/addEntry",data:t,isUnauthenticatedCall:!0})},g=t=>c({path:"/clipboard/deleteEntry",data:{name:t},isUnauthenticatedCall:!0});export{D as a,g as d,E as g,U as u};
