import"./NZTpNUN0.js";import{o as Q,a as U}from"./sZf57_T6.js";import{t as B,S as j,T as x,M as V,by as W,at as D,ar as X,as as Z,bx as $,bu as tt,b2 as I,Y as et,b1 as st,aq as T,p as rt,h as A,a5 as R,k as nt,g as m,i as w,b as L,e as C,r as N,s as P,a as S,d as it}from"./By2YMBx5.js";import{w as Y,d as at,e as q}from"./BZmt9bzp.js";import{i as ot}from"./OTx8B_fP.js";import{a as ft}from"./D2jTfHiz.js";import{s as ut}from"./B2YRvmZ_.js";import{a as ct,s as lt}from"./GORhYS2F.js";function dt(e,t,i=!1,u=!1,l=!1){var r=e,a="";B(()=>{var n=V;if(a===(a=t()??"")){j&&x();return}if(n.nodes_start!==null&&(W(n.nodes_start,n.nodes_end),n.nodes_start=n.nodes_end=null),a!==""){if(j){D.data;for(var s=x(),o=s;s!==null&&(s.nodeType!==X||s.data!=="");)o=s,s=Z(s);if(s===null)throw $(),tt;I(D,o),r=et(s);return}var c=a+"";i?c=`<svg>${c}</svg>`:u&&(c=`<math>${c}</math>`);var f=st(c);if((i||u)&&(f=T(f)),I(T(f),f.lastChild),i||u)for(;T(f);)r.before(T(f));else r.before(f)}})}const mt=()=>performance.now(),_={tick:e=>requestAnimationFrame(e),now:()=>mt(),tasks:new Set};function F(){const e=_.now();_.tasks.forEach(t=>{t.c(e)||(_.tasks.delete(t),t.f())}),_.tasks.size!==0&&_.tick(F)}function _t(e){let t;return _.tasks.size===0&&_.tick(F),{promise:new Promise(i=>{_.tasks.add(t={c:e,f:i})}),abort(){_.tasks.delete(t)}}}function H(e){return e}function xt(e){const t=e-1;return t*t*t+1}const ht={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function pt(){const{subscribe:e,update:t}=Y([]),i={};let u=0;function l(n="default",s={}){return i[n]=s,i}function r(n,s){const o={target:"default",msg:n,...s},c=i[o.target]||{},f={...ht,...c,...o,theme:{...c.theme,...o.theme},classes:[...c.classes||[],...o.classes||[]],id:++u};return t(v=>f.reversed?[...v,f]:[f,...v]),u}function a(n){t(s=>{if(!s.length||n===0)return[];if(n===void 0){const o=Math.max(...s.map(c=>c.id));return s.filter(c=>c.id!==o)}return typeof n=="number"?s.filter(o=>o.id!==n):s.filter(o=>o.target!==n.target)})}return{subscribe:e,push:r,pop:a,_init:l}}const vt=pt();function z(e){return Object.prototype.toString.call(e)==="[object Date]"}function O(e,t){if(e===t||e!==e)return()=>e;const i=typeof e;if(i!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const u=t.map((l,r)=>O(e[r],l));return l=>u.map(r=>r(l))}if(i==="object"){if(!e||!t)throw new Error("Object cannot be null");if(z(e)&&z(t)){const r=e.getTime(),n=t.getTime()-r;return s=>new Date(r+s*n)}const u=Object.keys(t),l={};return u.forEach(r=>{l[r]=O(e[r],t[r])}),r=>{const a={};return u.forEach(n=>{a[n]=l[n](r)}),a}}if(i==="number"){const u=t-e;return l=>e+l*u}return()=>t}function gt(e,t={}){const i=Y(e);let u,l=e;function r(a,n){if(l=a,e==null)return i.set(e=a),Promise.resolve();let s=u,o=!1,{delay:c=0,duration:f=400,easing:v=H,interpolate:k=O}={...t,...n};if(f===0)return s&&(s.abort(),s=null),i.set(e=l),Promise.resolve();const E=_.now()+c;let h;return u=_t(b=>{if(b<E)return!0;o||(h=k(e,a),typeof f=="function"&&(f=f(e,a)),o=!0),s&&(s.abort(),s=null);const g=b-E;return g>f?(i.set(e=a),!1):(i.set(e=h(v(g/f))),!0)}),u.promise}return{set:r,update:(a,n)=>r(a(l,e),n),subscribe:i.subscribe}}var bt=L('<div class="_toastBtn pe svelte-536hrw" role="button" tabindex="0"></div>'),yt=L('<div role="status"><div class="_toastMsg svelte-536hrw"><!></div> <!> <progress class="_toastBar svelte-536hrw"></progress></div>');function Dt(e,t){rt(t,!0);const i=()=>ct(o,"$progress",u),[u,l]=lt();let r=A(R(t.item.initial)),a=A(R(t.item.initial)),n=A(!1),s;const o=gt(t.item.initial,{duration:t.item.duration,easing:H});function c(){vt.pop(t.item.id)}function f(){(i()===1||i()===0)&&c()}function v(){!m(n)&&i()!==m(r)&&(o.set(i(),{duration:0}),w(n,!0))}function k(){if(m(n)){const d=t.item.duration;if(d!==void 0&&m(a)!==void 0&&m(r)!==void 0){const p=d-d*((i()-m(a))/(m(r)-m(a)));o.set(m(r),{duration:p}).then(f)}w(n,!1)}}function E(d=document){if(d.hidden===void 0)return;const p=()=>d.hidden?v():k(),y="visibilitychange";d.addEventListener(y,p),s=()=>d.removeEventListener(y,p),p()}nt(()=>{if(m(r)!==t.item.next){if(w(r,t.item.next,!0),w(a,i(),!0),w(n,!1),m(r)===void 0)throw Error("Toast with undefined next");o.set(m(r)).then(f)}}),Q(E),U(()=>{t.item?.onpop&&t.item.onpop(t.item.id),s?.()});var h=yt();let b;var g=C(h),K=C(g);dt(K,()=>t.item.msg),N(g);var M=P(g,2);{var G=d=>{var p=bt();p.__click=c,p.__keydown=y=>{y instanceof KeyboardEvent&&["Enter"," "].includes(y.key)&&c()},S(d,p)};ot(M,d=>{t.item.dismissable&&d(G)})}var J=P(M,2);N(h),B(()=>{b=ut(h,1,"_toastItem svelte-536hrw",null,b,{pe:t.item.pausable}),ft(J,i())}),q("mouseenter",h,()=>{t.item.pausable&&v()}),q("mouseleave",h,k),S(e,h),it(),l()}at(["click","keydown"]);export{Dt as T,xt as c,dt as h,_t as l,vt as t};
