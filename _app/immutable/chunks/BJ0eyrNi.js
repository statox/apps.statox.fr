import{W as V,aO as w,aE as H,m as Y,X as T,b5 as q,b6 as z,a3 as W,b7 as X,b8 as Z,b9 as F,ba as J,g as Q,bb as m,a2 as $,bc as x,ax as ss}from"./Brv8g2mx.js";import{i as es,c as as,d as ts,n as rs,b as is}from"./BlLNWVag.js";import{c as fs,s as os,a as us}from"./mz9VyEVN.js";import{s as R,i as ls}from"./C-1kNEvV.js";function cs(s,a){var e=void 0,i;V(()=>{e!==(e=a())&&(i&&(w(i),i=null),e&&(i=H(()=>{Y(()=>e(s))})))})}const S=Symbol("class"),k=Symbol("style"),j=Symbol("is custom element"),B=Symbol("is html");function _s(s){if(T){var a=!1,e=()=>{if(!a){if(a=!0,s.hasAttribute("value")){var i=s.value;I(s,"value",null),s.value=i}if(s.hasAttribute("checked")){var u=s.checked;I(s,"checked",null),s.checked=u}}};s.__on_r=e,W(e),X()}}function ps(s,a){var e=C(s);e.value===(e.value=a??void 0)||s.value===a&&(a!==0||s.nodeName!=="PROGRESS")||(s.value=a??"")}function vs(s,a){a?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function I(s,a,e,i){var u=C(s);T&&(u[a]=s.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&s.nodeName==="LINK")||u[a]!==(u[a]=e)&&(a==="loading"&&(s[Z]=e),e==null?s.removeAttribute(a):typeof e!="string"&&D(s).includes(a)?s[a]=e:s.setAttribute(a,e))}function ns(s,a,e,i,u=!1,N=!1){if(T&&u&&s.tagName==="INPUT"){var d=s,L=d.type==="checkbox"?"defaultChecked":"defaultValue";L in e||_s(d)}var b=C(s),v=b[j],h=!b[B];let p=T&&v;p&&$(!1);var f=a||{},g=s.tagName==="OPTION";for(var n in a)n in e||(e[n]=null);e.class?e.class=fs(e.class):(i||e[S])&&(e.class=null),e[k]&&(e.style??=null);var E=D(s);for(const t in e){let r=e[t];if(g&&t==="value"&&r==null){s.value=s.__value="",f[t]=r;continue}if(t==="class"){var A=s.namespaceURI==="http://www.w3.org/1999/xhtml";os(s,A,r,i,a?.[S],e[S]),f[t]=r,f[S]=e[S];continue}if(t==="style"){us(s,r,a?.[k],e[k]),f[t]=r,f[k]=e[k];continue}var c=f[t];if(!(r===c&&!(r===void 0&&s.hasAttribute(t)))){f[t]=r;var M=t[0]+t[1];if(M!=="$$")if(M==="on"){const _={},y="$$"+t;let o=t.slice(2);var O=is(o);if(es(o)&&(o=o.slice(0,-7),_.capture=!0),!O&&c){if(r!=null)continue;s.removeEventListener(o,f[y],_),f[y]=null}if(r!=null)if(O)s[`__${o}`]=r,ts([o]);else{let G=function(K){f[t].call(this,K)};f[y]=as(o,s,G,_)}else O&&(s[`__${o}`]=void 0)}else if(t==="style")I(s,t,r);else if(t==="autofocus")x(s,!!r);else if(!v&&(t==="__value"||t==="value"&&r!=null))s.value=s.__value=r;else if(t==="selected"&&g)vs(s,r);else{var l=t;h||(l=rs(l));var P=l==="defaultValue"||l==="defaultChecked";if(r==null&&!v&&!P)if(b[t]=null,l==="value"||l==="checked"){let _=s;const y=a===void 0;if(l==="value"){let o=_.defaultValue;_.removeAttribute(l),_.defaultValue=o,_.value=_.__value=y?o:null}else{let o=_.defaultChecked;_.removeAttribute(l),_.defaultChecked=o,_.checked=y?o:!1}}else s.removeAttribute(t);else P||E.includes(l)&&(v||typeof r!="string")?(s[l]=r,l in b&&(b[l]=ss)):typeof r!="function"&&I(s,l,r)}}}return p&&$(!0),f}function gs(s,a,e=[],i=[],u=[],N,d=!1,L=!1){J(u,e,i,b=>{var v=void 0,h={},p=s.nodeName==="SELECT",f=!1;if(V(()=>{var n=a(...b.map(Q)),E=ns(s,v,n,N,d,L);f&&p&&"value"in n&&R(s,n.value);for(let c of Object.getOwnPropertySymbols(h))n[c]||w(h[c]);for(let c of Object.getOwnPropertySymbols(n)){var A=n[c];c.description===m&&(!v||A!==v[c])&&(h[c]&&w(h[c]),h[c]=H(()=>cs(s,()=>A))),E[c]=A}v=E}),p){var g=s;Y(()=>{R(g,v.value,!0),ls(g)})}f=!0})}function C(s){return s.__attributes??={[j]:s.nodeName.includes("-"),[B]:s.namespaceURI===q}}var U=new Map;function D(s){var a=s.getAttribute("is")||s.nodeName,e=U.get(a);if(e)return e;U.set(a,e=[]);for(var i,u=s,N=Element.prototype;N!==u;){i=F(u);for(var d in i)i[d].set&&e.push(d);u=z(u)}return e}export{S as C,ps as a,gs as b,_s as r,I as s};
