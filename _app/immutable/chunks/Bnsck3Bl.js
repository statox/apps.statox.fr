import{B as P,K as U,h as c,a as Y,N as A,O as Z,P as B,I as G,Q as k,U as D,R as y,T as H,m as R,V as o,q as K,E as Q,W as S,X as q,Y as w,Z as V,_ as I,a0 as N,f as W}from"./Bl4IpmnI.js";const T=0,l=1,p=2;function g(C,L,n,E,_){c&&Y();var r=C,x=P(),O=V,a=D,s,t,f,v=(x?H:R)(void 0),d=(x?H:R)(void 0),h=!1;function u(e,i){h=!0,i&&(S(b),q(b),w(O));try{e===T&&n&&(s?I(s):s=o(()=>n(r))),e===l&&E&&(t?I(t):t=o(()=>E(r,v))),e===p&&_&&(f?I(f):f=o(()=>_(r,d))),e!==T&&s&&N(s,()=>s=null),e!==l&&t&&N(t,()=>t=null),e!==p&&f&&N(f,()=>f=null)}finally{i&&(w(null),q(null),S(null),W())}}var b=U(()=>{if(a===(a=L()))return;let e=c&&A(a)===(r.data===Z);if(e&&(r=B(),G(r),k(!1),e=!0),A(a)){var i=a;h=!1,i.then(m=>{i===a&&(y(v,m),u(l,!0))},m=>{if(i===a&&(y(d,m),u(p,!0),!_))throw d.v}),c?n&&(s=o(()=>n(r))):K(()=>{h||u(T,!0)})}else y(v,a),u(l,!1);return e&&k(!0),()=>a=D});c&&(r=Q)}export{g as a};
