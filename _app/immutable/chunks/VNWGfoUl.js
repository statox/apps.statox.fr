import{aq as x,W as g,X as n,Y as A,ar as N,$ as B,a1 as D,a0 as S,a2 as c,a3 as q,as as v,ah as E,Q as T,at as H,au as L,av as R,aw as Y,F,ax as G}from"./Brv8g2mx.js";import{B as M}from"./pf8TLsJI.js";const b=0,_=1;function Q(m,k,y,r,l){n&&A();var h=x(),t=G,i=h?E(t):T(t,!1,!1),o=h?E(t):T(t,!1,!1),a=new M(m);g(()=>{var u=k(),d=!1;let p=n&&N(u)===(m.data===B);if(p&&(D(S()),c(!1)),N(u)){var w=H(),I=!1;const s=e=>{if(!d){I=!0,w(!1),L.ensure(),n&&c(!1);try{e()}finally{R(),Y||F()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(_,r&&(f=>r(f,i)))})},e=>{s(()=>{if(v(o,e),a.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?a.ensure(b,y):q(()=>{I||s(()=>{a.ensure(b,y)})})}else v(i,u),a.ensure(_,r&&(s=>r(s,i)));return p&&c(!0),()=>{d=!0}})}export{Q as a};
