import{al as g,G as w,H as n,I as x,am as d,N as A,P as D,O as H,Q as c,R,an as v,a3 as E,B as T,ao as S,ap as q,aq as G,ar as L,z as O,as as P}from"./BTM_f0C0.js";import{B as z}from"./BYS34cRT.js";const b=0,_=1;function U(m,k,y,r,l){n&&x();var h=g(),t=P,i=h?E(t):T(t,!1,!1),o=h?E(t):T(t,!1,!1),a=new z(m);w(()=>{var u=k(),p=!1;let I=n&&d(u)===(m.data===A);if(I&&(D(H()),c(!1)),d(u)){var B=S(),N=!1;const s=e=>{if(!p){N=!0,B(!1),q.ensure(),n&&c(!1);try{e()}finally{G(),L||O()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(_,r&&(f=>r(f,i)))})},e=>{s(()=>{if(v(o,e),a.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?a.ensure(b,y):R(()=>{N||s(()=>{a.ensure(b,y)})})}else v(i,u),a.ensure(_,r&&(s=>r(s,i)));return I&&c(!0),()=>{p=!0}})}export{U as a};
