import{w as k}from"./entry.B0V6hhxC.js";import{b as D,c as P,d as S,e as B}from"./public.xpUinP6t.js";import{o as O}from"./auth0-spa-js.production.esm.D13UjCU2.js";import{x as d,s as H,e as g,t as C,a as R,c as p,b as w,d as T,f as u,g as M,l as f,O as y,i as E,h as v,j as L,n as I}from"./scheduler.X2iOZLJn.js";import{S as N,i as V}from"./index.D7ifI0iS.js";const _={domain:D,clientId:P,audience:S,callback:B};class z extends Error{constructor(){super("USER_LOGGED_OUT")}}const r=k(),m=k(),Q=async()=>{const t=await O({domain:_.domain,clientId:_.clientId,authorizationParams:{redirect_uri:_.callback,audience:_.audience},cacheLocation:"localstorage",useRefreshTokens:!0});r.set(t);const e=window.location.search;(e.includes("code=")||e.includes("error="))&&e.includes("state=")&&(await d(r).handleRedirectCallback(),window.history.replaceState({},document.title,window.location.pathname)),await d(r).isAuthenticated()?m.set(await d(r).getUser()):m.set(void 0),b()},X=()=>d(r).loginWithRedirect(),Y=()=>d(r).logout(),Z=async()=>{var t;try{const e=await((t=d(r))==null?void 0:t.getTokenSilently());return m.set(await d(r).getUser()),e}catch{throw m.set(void 0),new z}},b=async()=>{var t;try{const e=await((t=d(r))==null?void 0:t.getTokenSilently());return m.set(await d(r).getUser()),e}catch{m.set(void 0)}setTimeout(b,1e3*60*5)};function A(t){let e,s=t[0].message+"",n;return{c(){e=g("div"),n=C(s),this.h()},l(i){e=p(i,"DIV",{class:!0});var l=w(e);n=T(l,s),l.forEach(u),this.h()},h(){f(e,"class","message svelte-17ommya")},m(i,l){E(i,e,l),v(e,n)},p(i,l){l&1&&s!==(s=i[0].message+"")&&L(n,s)},d(i){i&&u(e)}}}function G(t){let e,s,n=t[0].header+"",i,l,h,a=t[0].message&&A(t);return{c(){e=g("div"),s=g("div"),i=C(n),l=R(),a&&a.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var c=w(e);s=p(c,"DIV",{class:!0});var U=w(s);i=T(U,n),U.forEach(u),l=M(c),a&&a.l(c),c.forEach(u),this.h()},h(){f(s,"class","header svelte-17ommya"),f(e,"class",h=y("container "+t[0].level)+" svelte-17ommya")},m(o,c){E(o,e,c),v(e,s),v(s,i),v(e,l),a&&a.m(e,null)},p(o,[c]){c&1&&n!==(n=o[0].header+"")&&L(i,n),o[0].message?a?a.p(o,c):(a=A(o),a.c(),a.m(e,null)):a&&(a.d(1),a=null),c&1&&h!==(h=y("container "+o[0].level)+" svelte-17ommya")&&f(e,"class",h)},i:I,o:I,d(o){o&&u(e),a&&a.d()}}}function j(t,e,s){let{item:n}=e;return t.$$set=i=>{"item"in i&&s(0,n=i.item)},[n]}class $ extends N{constructor(e){super(),V(this,e,j,G,H,{item:0})}}export{$ as M,z as U,X as a,Z as g,Q as i,Y as l,m as u};
