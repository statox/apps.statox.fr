import{aW as o,af as S,u as y,r as h,h as _,_ as n,aX as x,aY as C,t as E,q as b}from"./R2JDhSNG.js";function A(e,l,a=l){var f=new WeakSet;o(e,"input",async r=>{var d=r?e.defaultValue:e.value;if(d=k(e)?t(d):d,a(d),n!==null&&f.add(n),await S(),d!==(d=l())){var v=e.selectionStart,s=e.selectionEnd;e.value=d??"",s!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(s,e.value.length))}}),(_&&e.defaultValue!==e.value||y(l)==null&&e.value)&&(a(k(e)?t(e.value):e.value),n!==null&&f.add(n)),h(()=>{var r=l();if(e===document.activeElement){var d=x??n;if(f.has(d))return}k(e)&&r===t(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const u=new Set;function V(e,l,a,f,r=f){var d=a.getAttribute("type")==="checkbox",v=e;let s=!1;if(l!==null)for(var g of l)v=v[g]??=[];v.push(a),o(a,"change",()=>{var c=a.__value;d&&(c=m(v,c,a.checked)),r(c)},()=>r(d?[]:null)),h(()=>{var c=f();if(_&&a.defaultChecked!==a.checked){s=!0;return}d?(c=c||[],a.checked=c.includes(a.__value)):a.checked=C(a.__value,c)}),E(()=>{var c=v.indexOf(a);c!==-1&&v.splice(c,1)}),u.has(v)||(u.add(v),b(()=>{v.sort((c,i)=>c.compareDocumentPosition(i)===4?-1:1),u.delete(v)})),b(()=>{if(s){var c;if(d)c=m(v,c,a.checked);else{var i=v.find(w=>w.checked);c=i?.__value}r(c)}})}function W(e,l,a=l){o(e,"change",f=>{var r=f?e.defaultChecked:e.checked;a(r)}),(_&&e.defaultChecked!==e.checked||y(l)==null)&&a(e.checked),h(()=>{var f=l();e.checked=!!f})}function m(e,l,a){for(var f=new Set,r=0;r<e.length;r+=1)e[r].checked&&f.add(e[r].__value);return a||f.delete(l),Array.from(f)}function k(e){var l=e.type;return l==="number"||l==="range"}function t(e){return e===""?null:+e}function B(e,l,a=l){o(e,"change",()=>{a(e.files)}),_&&e.files&&a(e.files),h(()=>{e.files=l()})}export{V as a,A as b,W as c,B as d};
