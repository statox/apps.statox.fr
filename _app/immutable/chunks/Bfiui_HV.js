import{aL as R,R as S,S as n,T as g,aM as I,W as w,Y as x,X as B,Z as c,a0 as D,au as v,af as T,K as E,aN as L,aO as H,aP as M,aQ as O,A as P,aR as Y}from"./OOCdeaM4.js";import{B as Z}from"./2-9J0HmW.js";const b=0,_=1;function K(m,k,y,r,l){n&&g();var h=R(),t=Y,i=h?T(t):E(t,!1,!1),f=h?T(t):E(t,!1,!1),a=new Z(m);S(()=>{var u=k(),N=!1;let d=n&&I(u)===(m.data===w);if(d&&(x(B()),c(!1)),I(u)){var A=L(),p=!1;const s=e=>{if(!N){p=!0,A(!1),H.ensure(),n&&c(!1);try{e()}finally{M(),O||P()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(_,r&&(o=>r(o,i)))})},e=>{s(()=>{if(v(f,e),a.ensure(_,l&&(o=>l(o,f))),!l)throw f.v})}),n?a.ensure(b,y):D(()=>{p||s(()=>{a.ensure(b,y)})})}else v(i,u),a.ensure(_,r&&(s=>r(s,i)));return d&&c(!0),()=>{N=!0}})}export{K as a};
