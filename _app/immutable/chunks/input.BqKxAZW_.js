import{E as y,n as S,r as _,j as b,t as C,q as t}from"./index-client.CflxByDC.js";import{b as h}from"./template.BNipMNgO.js";import{i as E}from"./props.B1tCRvRm.js";function g(e,l,a=l){var v=y();h(e,"input",c=>{var s=c?e.defaultValue:e.value;if(s=m(e)?u(s):s,a(s),v&&s!==(s=l())){var f=e.selectionStart,d=e.selectionEnd;e.value=s??"",d!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(d,e.value.length))}}),(b&&e.defaultValue!==e.value||S(l)==null&&e.value)&&a(m(e)?u(e.value):e.value),_(()=>{var c=l();m(e)&&c===u(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}const n=new Set;function j(e,l,a,v,c=v){var s=a.getAttribute("type")==="checkbox",f=e;let d=!1;if(l!==null)for(var k of l)f=f[k]??(f[k]=[]);f.push(a),h(a,"change",()=>{var r=a.__value;s&&(r=i(f,r,a.checked)),c(r)},()=>c(s?[]:null)),_(()=>{var r=v();if(b&&a.defaultChecked!==a.checked){d=!0;return}s?(r=r||[],a.checked=r.includes(a.__value)):a.checked=E(a.__value,r)}),C(()=>{var r=f.indexOf(a);r!==-1&&f.splice(r,1)}),n.has(f)||(n.add(f),t(()=>{f.sort((r,o)=>r.compareDocumentPosition(o)===4?-1:1),n.delete(f)})),t(()=>{if(d){var r;if(s)r=i(f,r,a.checked);else{var o=f.find(w=>w.checked);r=o==null?void 0:o.__value}c(r)}})}function B(e,l,a=l){h(e,"change",v=>{var c=v?e.defaultChecked:e.checked;a(c)}),(b&&e.defaultChecked!==e.checked||S(l)==null)&&a(e.checked),_(()=>{var v=l();e.checked=!!v})}function i(e,l,a){for(var v=new Set,c=0;c<e.length;c+=1)e[c].checked&&v.add(e[c].__value);return a||v.delete(l),Array.from(v)}function m(e){var l=e.type;return l==="number"||l==="range"}function u(e){return e===""?null:+e}function D(e,l,a=l){h(e,"change",()=>{a(e.files)}),_(()=>{e.files=l()})}export{D as a,g as b,j as c,B as d};
