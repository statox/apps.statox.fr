import{s as Be,A as ue,i as I,f as _,k as Qe,K as St,e as d,t as pe,a as k,c as p,b as y,d as _e,z as P,g as E,l as f,P as se,D as yt,h as u,Q as rt,E as ie,a4 as $t,B as Xe,y as It,S as Lt,n as ce,o as Ye,p as Ut,G as Ke,j as $e,a5 as At}from"../chunks/scheduler.X2iOZLJn.js";import{h as ot,u as Pt}from"../chunks/await_block.DlZQTVqh.js";import{S as Me,i as We,a as N,g as Ne,t as x,c as De,f as Nt,b as be,d as ge,m as Ce,e as ke}from"../chunks/index.D7ifI0iS.js";import{c as Et,o as Dt}from"../chunks/store.BGPQvWHE.js";import{u as Ze,M as zt,U as Tt}from"../chunks/Main.SPZo-q4K.js";import{r as Bt,a as et,A as Mt}from"../chunks/index.CBkq_ws1.js";import{e as Pe}from"../chunks/each.BGGHo151.js";import{t as wt}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.U2nTU-4q.js";import{M as Wt,a as Ot,b as Vt}from"../chunks/Main.DqVygpSb.js";import{D as xt}from"../chunks/datetime.BvUHwVSq.js";import"../chunks/entry.B0V6hhxC.js";import{p as Ht}from"../chunks/Main.svelte_svelte_type_style_lang.Dmt8PTra.js";const qt=!1,Il=Object.freeze(Object.defineProperty({__proto__:null,ssr:qt},Symbol.toStringTag,{value:"Module"})),it=async()=>Bt({path:"/webWatcher/getAllWatchers"}),ct=async a=>et({path:"/webWatcher/createWatcher",data:a}),Ft=async a=>et({path:"/webWatcher/deleteWatcher",data:{id:a}}),Rt=async a=>et({path:"/webWatcher/toggleWatcherEnabled",data:a});function ut(a,e,l){const t=a.slice();return t[17]=e[l],t}function ft(a){let e,l,t,n,s,o="Close",i,r,c,h,C="Name",w,b,v,m,g="Check interval",$,O,X,L,q,Ee="Notification message (the @mention is automatically added)",ze,G,fe,re,Y="Watcher type",Z,F,ee,Ie="CSS",R,ve="HASH",me,te,Le="URL",we,J,le,ne,Ue,Se,ae,ye,oe,K=Pe(a[1]),U=[];for(let z=0;z<K.length;z+=1)U[z]=ht(ut(a,K,z));const Te=z=>x(U[z],1,1,()=>{U[z]=null});function he(z){a[12](z)}let Ae={allowedUnits:["minutes","hours","days"],defaultDuration:{value:1,unit:"hours"}};a[6]!==void 0&&(Ae.valueInSeconds=a[6]),O=new Wt({props:Ae}),St.push(()=>Nt(O,"valueInSeconds",he));let V=a[7]==="CSS"&&dt(a);function de(z,A){return z[8]?Gt:jt}let Q=de(a),j=Q(a);return{c(){e=d("div"),l=d("div"),t=d("h3"),n=pe(`Add a new clipboard entry
                `),s=d("button"),s.textContent=o,i=k();for(let z=0;z<U.length;z+=1)U[z].c();r=k(),c=d("form"),h=d("label"),h.textContent=C,w=k(),b=d("input"),v=k(),m=d("label"),m.textContent=g,$=k(),be(O.$$.fragment),L=k(),q=d("label"),q.textContent=Ee,ze=k(),G=d("input"),fe=k(),re=d("label"),re.textContent=Y,Z=k(),F=d("select"),ee=d("option"),ee.textContent=Ie,R=d("option"),R.textContent=ve,me=k(),te=d("label"),te.textContent=Le,we=k(),J=d("input"),le=k(),V&&V.c(),ne=k(),Ue=d("br"),Se=k(),j.c(),this.h()},l(z){e=p(z,"DIV",{role:!0,class:!0});var A=y(e);l=p(A,"DIV",{class:!0});var B=y(l);t=p(B,"H3",{class:!0});var D=y(t);n=_e(D,`Add a new clipboard entry
                `),s=p(D,"BUTTON",{"data-svelte-h":!0}),P(s)!=="svelte-2m9p61"&&(s.textContent=o),D.forEach(_),i=E(B);for(let H=0;H<U.length;H+=1)U[H].l(B);r=E(B),c=p(B,"FORM",{class:!0});var S=y(c);h=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(h)!=="svelte-bs9sy6"&&(h.textContent=C),w=E(S),b=p(S,"INPUT",{type:!0}),v=E(S),m=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(m)!=="svelte-q7xqd"&&(m.textContent=g),$=E(S),ge(O.$$.fragment,S),L=E(S),q=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(q)!=="svelte-1nwvu8o"&&(q.textContent=Ee),ze=E(S),G=p(S,"INPUT",{type:!0}),fe=E(S),re=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(re)!=="svelte-180kuuc"&&(re.textContent=Y),Z=E(S),F=p(S,"SELECT",{id:!0});var M=y(F);ee=p(M,"OPTION",{"data-svelte-h":!0}),P(ee)!=="svelte-x0e7ng"&&(ee.textContent=Ie),R=p(M,"OPTION",{"data-svelte-h":!0}),P(R)!=="svelte-1f1oya6"&&(R.textContent=ve),M.forEach(_),me=E(S),te=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(te)!=="svelte-47691s"&&(te.textContent=Le),we=E(S),J=p(S,"INPUT",{type:!0}),le=E(S),V&&V.l(S),ne=E(S),Ue=p(S,"BR",{}),Se=E(S),j.l(S),S.forEach(_),B.forEach(_),A.forEach(_),this.h()},h(){f(t,"class","title-bar svelte-tlh79p"),f(h,"for","name"),f(b,"type","text"),f(m,"for","check-interval"),f(q,"for","notification-message"),f(G,"type","textarea"),f(re,"for","watch-type"),ee.__value="CSS",se(ee,ee.__value),R.__value="HASH",se(R,R.__value),f(F,"id","watch-type"),a[7]===void 0&&yt(()=>a[14].call(F)),f(te,"for","content"),f(J,"type","textarea"),f(c,"class","form-content svelte-tlh79p"),f(l,"class","contents svelte-tlh79p"),f(e,"role","dialog"),f(e,"class","modal svelte-tlh79p")},m(z,A){I(z,e,A),u(e,l),u(l,t),u(t,n),u(t,s),u(l,i);for(let B=0;B<U.length;B+=1)U[B]&&U[B].m(l,null);u(l,r),u(l,c),u(c,h),u(c,w),u(c,b),se(b,a[2]),u(c,v),u(c,m),u(c,$),Ce(O,c,null),u(c,L),u(c,q),u(c,ze),u(c,G),se(G,a[3]),u(c,fe),u(c,re),u(c,Z),u(c,F),u(F,ee),u(F,R),rt(F,a[7],!0),u(c,me),u(c,te),u(c,we),u(c,J),se(J,a[4]),u(c,le),V&&V.m(c,null),u(c,ne),u(c,Ue),u(c,Se),j.m(c,null),ae=!0,ye||(oe=[ie(s,"click",Et),ie(b,"input",a[11]),ie(G,"input",a[13]),ie(F,"change",a[14]),ie(J,"input",a[15])],ye=!0)},p(z,A){if(A&2){K=Pe(z[1]);let D;for(D=0;D<K.length;D+=1){const S=ut(z,K,D);U[D]?(U[D].p(S,A),N(U[D],1)):(U[D]=ht(S),U[D].c(),N(U[D],1),U[D].m(l,r))}for(Ne(),D=K.length;D<U.length;D+=1)Te(D);De()}A&4&&b.value!==z[2]&&se(b,z[2]);const B={};!X&&A&64&&(X=!0,B.valueInSeconds=z[6],$t(()=>X=!1)),O.$set(B),A&8&&se(G,z[3]),A&128&&rt(F,z[7]),A&16&&se(J,z[4]),z[7]==="CSS"?V?V.p(z,A):(V=dt(z),V.c(),V.m(c,ne)):V&&(V.d(1),V=null),Q===(Q=de(z))&&j?j.p(z,A):(j.d(1),j=Q(z),j&&(j.c(),j.m(c,null)))},i(z){if(!ae){for(let A=0;A<K.length;A+=1)N(U[A]);N(O.$$.fragment,z),ae=!0}},o(z){U=U.filter(Boolean);for(let A=0;A<U.length;A+=1)x(U[A]);x(O.$$.fragment,z),ae=!1},d(z){z&&_(e),Xe(U,z),ke(O),V&&V.d(),j.d(),ye=!1,It(oe)}}}function ht(a){let e,l;return e=new zt({props:{item:a[17]}}),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,n){Ce(e,t,n),l=!0},p(t,n){const s={};n&2&&(s.item=t[17]),e.$set(s)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){x(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function dt(a){let e,l="CSS selector",t,n,s,o;return{c(){e=d("label"),e.textContent=l,t=k(),n=d("input"),this.h()},l(i){e=p(i,"LABEL",{for:!0,"data-svelte-h":!0}),P(e)!=="svelte-1ib74yx"&&(e.textContent=l),t=E(i),n=p(i,"INPUT",{type:!0}),this.h()},h(){f(e,"for","css-selector"),f(n,"type","textarea")},m(i,r){I(i,e,r),I(i,t,r),I(i,n,r),se(n,a[5]),s||(o=ie(n,"input",a[16]),s=!0)},p(i,r){r&32&&se(n,i[5])},d(i){i&&(_(e),_(t),_(n)),s=!1,o()}}}function jt(a){let e,l="Login to upload an entry";return{c(){e=d("span"),e.textContent=l,this.h()},l(t){e=p(t,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-4ab4io"&&(e.textContent=l),this.h()},h(){f(e,"class","form-action svelte-tlh79p")},m(t,n){I(t,e,n)},p:ce,d(t){t&&_(e)}}}function Gt(a){let e,l="Submit",t,n;return{c(){e=d("button"),e.textContent=l,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1nfv1d"&&(e.textContent=l),this.h()},h(){f(e,"class","form-action svelte-tlh79p")},m(s,o){I(s,e,o),t||(n=ie(e,"click",a[9]),t=!0)},p:ce,d(s){s&&_(e),t=!1,n()}}}function Jt(a){let e,l,t=a[0]&&ft(a);return{c(){t&&t.c(),e=ue()},l(n){t&&t.l(n),e=ue()},m(n,s){t&&t.m(n,s),I(n,e,s),l=!0},p(n,[s]){n[0]?t?(t.p(n,s),s&1&&N(t,1)):(t=ft(n),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(Ne(),x(t,1,1,()=>{t=null}),De())},i(n){l||(N(t),l=!0)},o(n){x(t),l=!1},d(n){n&&_(e),t&&t.d(n)}}}function Kt(a,e,l){let t;Qe(a,Ze,L=>l(8,t=L));let{isOpen:n}=e,{onUpload:s}=e,o=[],i,r,c,h,C,w;const b=async()=>{l(1,o=[]),i!=null&&i.length||o.push({level:"error",header:"name must be defined"}),r||o.push({level:"error",header:"notification message must be defined"}),w==="CSS"&&!h&&o.push({level:"error",header:"A CSS watcher must have a css selector defined"}),C<15*60&&o.push({level:"error",header:"Check interval too small. Must be >= 15mn"});try{new URL(c)}catch{o.push({level:"error",header:"The URL is invalid"})}if(!o.length)try{w==="CSS"?await ct({name:i,notificationMessage:r,url:c,cssSelector:h,checkIntervalSeconds:C,watchType:w}):w==="HASH"&&await ct({name:i,notificationMessage:r,url:c,checkIntervalSeconds:C,watchType:w}),s(),Et()}catch(L){let q=L.message;L instanceof Mt&&L.code===401?q="Invalid logged in user":L instanceof Tt&&(q="User is logged out");const Ee=`<strong>Entry not created</strong><br/> ${q}`;wt.push(Ee,{theme:{"--toastBarBackground":"#FF0000"}})}};function v(){i=this.value,l(2,i)}function m(L){C=L,l(6,C)}function g(){r=this.value,l(3,r)}function $(){w=Lt(this),l(7,w)}function O(){c=this.value,l(4,c)}function X(){h=this.value,l(5,h)}return a.$$set=L=>{"isOpen"in L&&l(0,n=L.isOpen),"onUpload"in L&&l(10,s=L.onUpload)},[n,o,i,r,c,h,C,w,t,b,s,v,m,g,$,O,X]}class Qt extends Me{constructor(e){super(),We(this,e,Kt,Jt,Be,{isOpen:0,onUpload:10})}}function pt(a,e,l){const t=a.slice();return t[11]=e[l],t}function Xt(a){let e,l,t,n,s,o=Pe(a[3]),i=[];for(let r=0;r<o.length;r+=1)i[r]=_t(pt(a,o,r));return{c(){e=d("div"),l=d("div"),t=d("div"),n=pe(a[1]),s=k();for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=p(r,"DIV",{class:!0});var c=y(e);l=p(c,"DIV",{role:!0,class:!0,"aria-labelledby":!0,style:!0,id:!0});var h=y(l);t=p(h,"DIV",{class:!0,id:!0});var C=y(t);n=_e(C,a[1]),C.forEach(_),s=E(h);for(let w=0;w<i.length;w+=1)i[w].l(h);h.forEach(_),c.forEach(_),this.h()},h(){f(t,"class","legend"),f(t,"id",`label-${a[6]}`),f(l,"role","radiogroup"),f(l,"class","group-container svelte-1n7axnp"),f(l,"aria-labelledby",`label-${a[6]}`),Ke(l,"font-size",a[4]+"px"),f(l,"id",`group-${a[6]}`),f(e,"class","s s--multi svelte-1n7axnp")},m(r,c){I(r,e,c),u(e,l),u(l,t),u(t,n),u(l,s);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(l,null)},p(r,c){if(c&2&&$e(n,r[1]),c&73){o=Pe(r[3]);let h;for(h=0;h<o.length;h+=1){const C=pt(r,o,h);i[h]?i[h].p(C,c):(i[h]=_t(C),i[h].c(),i[h].m(l,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=o.length}c&16&&Ke(l,"font-size",r[4]+"px")},d(r){r&&_(e),Xe(i,r)}}}function Yt(a){let e,l,t,n,s,o,i;return{c(){e=d("div"),l=d("span"),t=pe(a[1]),n=k(),s=d("button"),this.h()},l(r){e=p(r,"DIV",{class:!0,style:!0});var c=y(e);l=p(c,"SPAN",{id:!0});var h=y(l);t=_e(h,a[1]),h.forEach(_),n=E(c),s=p(c,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var C=y(s);C.forEach(_),c.forEach(_),this.h()},h(){f(l,"id",`switch-${a[6]}`),f(s,"role","switch"),f(s,"aria-checked",a[5]),f(s,"aria-labelledby",`switch-${a[6]}`),f(s,"class","svelte-1n7axnp"),f(e,"class","s s--slider svelte-1n7axnp"),Ke(e,"font-size",a[4]+"px")},m(r,c){I(r,e,c),u(e,l),u(l,t),u(e,n),u(e,s),o||(i=ie(s,"click",a[7]),o=!0)},p(r,c){c&2&&$e(t,r[1]),c&32&&f(s,"aria-checked",r[5]),c&16&&Ke(e,"font-size",r[4]+"px")},d(r){r&&_(e),o=!1,i()}}}function Zt(a){let e,l,t,n,s,o,i="on",r,c,h="off",C,w;return{c(){e=d("div"),l=d("span"),t=pe(a[1]),n=k(),s=d("button"),o=d("span"),o.textContent=i,r=k(),c=d("span"),c.textContent=h,this.h()},l(b){e=p(b,"DIV",{class:!0});var v=y(e);l=p(v,"SPAN",{id:!0,class:!0});var m=y(l);t=_e(m,a[1]),m.forEach(_),n=E(v),s=p(v,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var g=y(s);o=p(g,"SPAN",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-oik0f3"&&(o.textContent=i),r=E(g),c=p(g,"SPAN",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-10sksj5"&&(c.textContent=h),g.forEach(_),v.forEach(_),this.h()},h(){f(l,"id",`switch-${a[6]}`),f(l,"class","svelte-1n7axnp"),f(o,"class","svelte-1n7axnp"),f(c,"class","svelte-1n7axnp"),f(s,"role","switch"),f(s,"aria-checked",a[5]),f(s,"aria-labelledby",`switch-${a[6]}`),f(s,"class","svelte-1n7axnp"),f(e,"class","s s--inner svelte-1n7axnp")},m(b,v){I(b,e,v),u(e,l),u(l,t),u(e,n),u(e,s),u(s,o),u(s,r),u(s,c),C||(w=ie(s,"click",a[7]),C=!0)},p(b,v){v&2&&$e(t,b[1]),v&32&&f(s,"aria-checked",b[5])},d(b){b&&_(e),C=!1,w()}}}function _t(a){let e,l,t,n=!1,s,o,i=a[11]+"",r,c,h,C,w,b;return C=At(a[9][0]),{c(){e=d("input"),s=k(),o=d("label"),r=pe(i),c=k(),this.h()},l(v){e=p(v,"INPUT",{type:!0,id:!0,class:!0}),s=E(v),o=p(v,"LABEL",{for:!0,class:!0});var m=y(o);r=_e(m,i),c=E(m),m.forEach(_),this.h()},h(){f(e,"type","radio"),f(e,"id",l=`${a[11]}-${a[6]}`),e.__value=t=a[11],se(e,e.__value),f(e,"class","svelte-1n7axnp"),f(o,"for",h=`${a[11]}-${a[6]}`),f(o,"class","svelte-1n7axnp"),C.p(e)},m(v,m){I(v,e,m),e.checked=e.__value===a[0],I(v,s,m),I(v,o,m),u(o,r),u(o,c),w||(b=ie(e,"change",a[8]),w=!0)},p(v,m){m&8&&l!==(l=`${v[11]}-${v[6]}`)&&f(e,"id",l),m&8&&t!==(t=v[11])&&(e.__value=t,se(e,e.__value),n=!0),(n||m&9)&&(e.checked=e.__value===v[0]),m&8&&i!==(i=v[11]+"")&&$e(r,i),m&8&&h!==(h=`${v[11]}-${v[6]}`)&&f(o,"for",h)},d(v){v&&(_(e),_(s),_(o)),C.r(),w=!1,b()}}}function el(a){let e;function l(s,o){return s[2]=="inner"?Zt:s[2]=="slider"?Yt:Xt}let t=l(a),n=t(a);return{c(){n.c(),e=ue()},l(s){n.l(s),e=ue()},m(s,o){n.m(s,o),I(s,e,o)},p(s,[o]){t===(t=l(s))&&n?n.p(s,o):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},i:ce,o:ce,d(s){s&&_(e),n.d(s)}}}function tl(a,e,l){let{label:t}=e,{design:n="inner label"}=e,{options:s=[]}=e,{fontSize:o=16}=e,{value:i="on"}=e,r=!0;const c=Math.floor(Math.random()*100),h=Ye();function C(v){const m=v.target,g=m==null?void 0:m.getAttribute("aria-checked");l(5,r=g!=="true"),l(0,i=r===!0?"on":"off"),h("change",i)}Ut(()=>{l(5,r=i==="on")});const w=[[]];function b(){i=this.__value,l(0,i)}return a.$$set=v=>{"label"in v&&l(1,t=v.label),"design"in v&&l(2,n=v.design),"options"in v&&l(3,s=v.options),"fontSize"in v&&l(4,o=v.fontSize),"value"in v&&l(0,i=v.value)},[i,t,n,s,o,r,c,C,b,w]}class ll extends Me{constructor(e){super(),We(this,e,tl,el,Be,{label:1,design:2,options:3,fontSize:4,value:0})}}function vt(a){let e,l,t,n=a[0].name+"",s,o,i,r,c,h,C,w,b,v,m="Check interval",g,$,O,X,L,q,Ee="Notification message",ze,G,fe,re,Y,Z,F,ee="URL",Ie,R,ve=a[0].url+"",me,te,Le,we,J,le,ne,Ue="Last check",Se,ae,ye,oe,K,U="Last content change",Te,he,Ae,V,de,Q,j,z="Last content",A,B,D,S;r=new ll({props:{value:a[8],label:"Enabled",design:"slider"}}),r.$on("change",a[7]),h=new Ot({}),h.$on("delete",a[6]);let M=a[0].watchType==="CSS"&&mt(a),H=a[0].lastErrorDateUnix&&bt(a);return{c(){e=d("div"),l=d("h3"),t=d("div"),s=pe(n),o=k(),i=d("div"),be(r.$$.fragment),c=k(),be(h.$$.fragment),C=k(),w=d("div"),b=d("p"),v=d("label"),v.textContent=m,g=k(),$=d("input"),O=k(),X=d("div"),L=d("p"),q=d("label"),q.textContent=Ee,ze=k(),G=d("input"),re=k(),Y=d("div"),Z=d("p"),F=d("label"),F.textContent=ee,Ie=k(),R=d("a"),me=pe(ve),Le=k(),M&&M.c(),we=k(),J=d("div"),le=d("p"),ne=d("label"),ne.textContent=Ue,Se=k(),ae=d("input"),ye=k(),oe=d("p"),K=d("label"),K.textContent=U,Te=k(),he=d("input"),Ae=k(),H&&H.c(),V=k(),de=d("div"),Q=d("p"),j=d("label"),j.textContent=z,A=k(),B=d("input"),this.h()},l(W){e=p(W,"DIV",{class:!0});var T=y(e);l=p(T,"H3",{class:!0});var Oe=y(l);t=p(Oe,"DIV",{class:!0});var tt=y(t);s=_e(tt,n),tt.forEach(_),o=E(Oe),i=p(Oe,"DIV",{class:!0});var Ve=y(i);ge(r.$$.fragment,Ve),c=E(Ve),ge(h.$$.fragment,Ve),Ve.forEach(_),Oe.forEach(_),C=E(T),w=p(T,"DIV",{class:!0});var lt=y(w);b=p(lt,"P",{class:!0});var xe=y(b);v=p(xe,"LABEL",{for:!0,"data-svelte-h":!0}),P(v)!=="svelte-q7xqd"&&(v.textContent=m),g=E(xe),$=p(xe,"INPUT",{type:!0,class:!0}),xe.forEach(_),lt.forEach(_),O=E(T),X=p(T,"DIV",{class:!0});var nt=y(X);L=p(nt,"P",{class:!0});var He=y(L);q=p(He,"LABEL",{for:!0,"data-svelte-h":!0}),P(q)!=="svelte-1rjok9v"&&(q.textContent=Ee),ze=E(He),G=p(He,"INPUT",{type:!0,class:!0}),He.forEach(_),nt.forEach(_),re=E(T),Y=p(T,"DIV",{class:!0});var qe=y(Y);Z=p(qe,"P",{class:!0});var Fe=y(Z);F=p(Fe,"LABEL",{for:!0,"data-svelte-h":!0}),P(F)!=="svelte-47691s"&&(F.textContent=ee),Ie=E(Fe),R=p(Fe,"A",{target:!0,rel:!0,href:!0});var at=y(R);me=_e(at,ve),at.forEach(_),Fe.forEach(_),Le=E(qe),M&&M.l(qe),qe.forEach(_),we=E(T),J=p(T,"DIV",{class:!0});var Re=y(J);le=p(Re,"P",{class:!0});var je=y(le);ne=p(je,"LABEL",{for:!0,"data-svelte-h":!0}),P(ne)!=="svelte-l58ce3"&&(ne.textContent=Ue),Se=E(je),ae=p(je,"INPUT",{type:!0,class:!0}),je.forEach(_),ye=E(Re),oe=p(Re,"P",{class:!0});var Ge=y(oe);K=p(Ge,"LABEL",{for:!0,"data-svelte-h":!0}),P(K)!=="svelte-r6rd2z"&&(K.textContent=U),Te=E(Ge),he=p(Ge,"INPUT",{type:!0,class:!0}),Ge.forEach(_),Re.forEach(_),Ae=E(T),H&&H.l(T),V=E(T),de=p(T,"DIV",{class:!0});var st=y(de);Q=p(st,"P",{class:!0});var Je=y(Q);j=p(Je,"LABEL",{for:!0,"data-svelte-h":!0}),P(j)!=="svelte-1hxqr7r"&&(j.textContent=z),A=E(Je),B=p(Je,"INPUT",{type:!0,class:!0}),Je.forEach(_),st.forEach(_),T.forEach(_),this.h()},h(){f(t,"class","item-name svelte-zz97hg"),f(i,"class","item-actions svelte-zz97hg"),f(l,"class","item-title svelte-zz97hg"),f(v,"for","check-interval"),$.disabled=!0,f($,"type","textarea"),$.value=a[5],f($,"class","svelte-zz97hg"),f(b,"class","section-1-item svelte-zz97hg"),f(w,"class","section svelte-zz97hg"),f(q,"for","notification-message"),G.disabled=!0,f(G,"type","textarea"),G.value=fe=a[0].notificationMessage,f(G,"class","svelte-zz97hg"),f(L,"class","section-2-item svelte-zz97hg"),f(X,"class","section svelte-zz97hg"),f(F,"for","content"),f(R,"target","_blank"),f(R,"rel","noopener noreferrer"),f(R,"href",te=a[0].url),f(Z,"class","section-3-item svelte-zz97hg"),f(Y,"class","section svelte-zz97hg"),f(ne,"for","last-check"),ae.disabled=!0,f(ae,"type","textarea"),ae.value=a[3],f(ae,"class","svelte-zz97hg"),f(le,"class","section-4-item svelte-zz97hg"),f(K,"for","last-update"),he.disabled=!0,f(he,"type","textarea"),he.value=a[4],f(he,"class","svelte-zz97hg"),f(oe,"class","section-4-item svelte-zz97hg"),f(J,"class","section svelte-zz97hg"),f(j,"for","last-update"),B.disabled=!0,f(B,"type","textarea"),B.value=D=a[0].lastContent,f(B,"class","svelte-zz97hg"),f(Q,"class","section-3-item svelte-zz97hg"),f(de,"class","section svelte-zz97hg"),f(e,"class","item svelte-zz97hg")},m(W,T){I(W,e,T),u(e,l),u(l,t),u(t,s),u(l,o),u(l,i),Ce(r,i,null),u(i,c),Ce(h,i,null),u(e,C),u(e,w),u(w,b),u(b,v),u(b,g),u(b,$),u(e,O),u(e,X),u(X,L),u(L,q),u(L,ze),u(L,G),u(e,re),u(e,Y),u(Y,Z),u(Z,F),u(Z,Ie),u(Z,R),u(R,me),u(Y,Le),M&&M.m(Y,null),u(e,we),u(e,J),u(J,le),u(le,ne),u(le,Se),u(le,ae),u(J,ye),u(J,oe),u(oe,K),u(oe,Te),u(oe,he),u(e,Ae),H&&H.m(e,null),u(e,V),u(e,de),u(de,Q),u(Q,j),u(Q,A),u(Q,B),S=!0},p(W,T){(!S||T&1)&&n!==(n=W[0].name+"")&&$e(s,n),(!S||T&1&&fe!==(fe=W[0].notificationMessage)&&G.value!==fe)&&(G.value=fe),(!S||T&1)&&ve!==(ve=W[0].url+"")&&$e(me,ve),(!S||T&1&&te!==(te=W[0].url))&&f(R,"href",te),W[0].watchType==="CSS"?M?(M.p(W,T),T&1&&N(M,1)):(M=mt(W),M.c(),N(M,1),M.m(Y,null)):M&&(Ne(),x(M,1,1,()=>{M=null}),De()),W[0].lastErrorDateUnix?H?H.p(W,T):(H=bt(W),H.c(),H.m(e,V)):H&&(H.d(1),H=null),(!S||T&1&&D!==(D=W[0].lastContent)&&B.value!==D)&&(B.value=D)},i(W){S||(N(r.$$.fragment,W),N(h.$$.fragment,W),N(M),S=!0)},o(W){x(r.$$.fragment,W),x(h.$$.fragment,W),x(M),S=!1},d(W){W&&_(e),ke(r),ke(h),M&&M.d(),H&&H.d()}}}function mt(a){let e,l,t,n,s,o,i,r;return n=new Vt({props:{content:a[0].cssSelector}}),{c(){e=d("p"),l=d("label"),t=pe(`CSS selector
                        `),be(n.$$.fragment),s=k(),o=d("input"),this.h()},l(c){e=p(c,"P",{class:!0});var h=y(e);l=p(h,"LABEL",{for:!0});var C=y(l);t=_e(C,`CSS selector
                        `),ge(n.$$.fragment,C),C.forEach(_),s=E(h),o=p(h,"INPUT",{type:!0,class:!0}),h.forEach(_),this.h()},h(){f(l,"for","css-selector"),o.disabled=!0,f(o,"type","textarea"),o.value=i=a[0].cssSelector,f(o,"class","svelte-zz97hg"),f(e,"class","section-3-item svelte-zz97hg")},m(c,h){I(c,e,h),u(e,l),u(l,t),Ce(n,l,null),u(e,s),u(e,o),r=!0},p(c,h){const C={};h&1&&(C.content=c[0].cssSelector),n.$set(C),(!r||h&1&&i!==(i=c[0].cssSelector)&&o.value!==i)&&(o.value=i)},i(c){r||(N(n.$$.fragment,c),r=!0)},o(c){x(n.$$.fragment,c),r=!1},d(c){c&&_(e),ke(n)}}}function bt(a){let e,l,t,n="Last error",s,o,i,r,c,h,C="Last error message",w,b,v;return{c(){e=d("div"),l=d("p"),t=d("label"),t.textContent=n,s=k(),o=d("input"),r=k(),c=d("p"),h=d("label"),h.textContent=C,w=k(),b=d("input"),this.h()},l(m){e=p(m,"DIV",{class:!0});var g=y(e);l=p(g,"P",{class:!0});var $=y(l);t=p($,"LABEL",{for:!0,"data-svelte-h":!0}),P(t)!=="svelte-1h8ip7h"&&(t.textContent=n),s=E($),o=p($,"INPUT",{type:!0,class:!0}),$.forEach(_),r=E(g),c=p(g,"P",{class:!0});var O=y(c);h=p(O,"LABEL",{for:!0,"data-svelte-h":!0}),P(h)!=="svelte-x18p73"&&(h.textContent=C),w=E(O),b=p(O,"INPUT",{type:!0,class:!0}),O.forEach(_),g.forEach(_),this.h()},h(){f(t,"for","last-check"),o.disabled=!0,f(o,"type","textarea"),o.value=i=a[2](a[0].lastErrorDateUnix),f(o,"class","svelte-zz97hg"),f(l,"class","section-4-item svelte-zz97hg"),f(h,"for","last-update"),b.disabled=!0,f(b,"type","textarea"),b.value=v=a[0].lastErrorMessage,f(b,"class","svelte-zz97hg"),f(c,"class","section-4-item svelte-zz97hg"),f(e,"class","section error-section svelte-zz97hg")},m(m,g){I(m,e,g),u(e,l),u(l,t),u(l,s),u(l,o),u(e,r),u(e,c),u(c,h),u(c,w),u(c,b)},p(m,g){g&1&&i!==(i=m[2](m[0].lastErrorDateUnix))&&o.value!==i&&(o.value=i),g&1&&v!==(v=m[0].lastErrorMessage)&&b.value!==v&&(b.value=v)},d(m){m&&_(e)}}}function nl(a){let e,l,t=a[1]&&vt(a);return{c(){t&&t.c(),e=ue()},l(n){t&&t.l(n),e=ue()},m(n,s){t&&t.m(n,s),I(n,e,s),l=!0},p(n,[s]){n[1]?t?(t.p(n,s),s&2&&N(t,1)):(t=vt(n),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(Ne(),x(t,1,1,()=>{t=null}),De())},i(n){l||(N(t),l=!0)},o(n){x(t),l=!1},d(n){n&&_(e),t&&t.d(n)}}}function al(a,e,l){let t;Qe(a,Ze,b=>l(1,t=b));const n=Ye();let{watcher:s}=e;const o=b=>{const v=new Date(b*1e3);return v.toLocaleDateString()+" "+v.toLocaleTimeString()},i=s.lastCheckDateUnix===0?"Never checked before":o(s.lastCheckDateUnix),r=s.lastUpdateDateUnix===0?"Never changed":o(s.lastUpdateDateUnix),c=xt.fromMillis(s.checkIntervalSeconds*1e3).rescale().toHuman(),h=async()=>{if(!s.id){console.error("id must be defined");return}try{await Ft(s.id),n("delete")}catch(b){const v=`<strong>Watcher not deleted</strong><br/> ${b.message}`;wt.push(v,{theme:{"--toastBarBackground":"#FF0000"}})}},C=async b=>{await Rt({watcherId:s.id,setToEnabled:b.detail==="on"}),n("update")};let w=s.archivalDateUnix?"off":"on";return a.$$set=b=>{"watcher"in b&&l(0,s=b.watcher)},[s,t,o,i,r,c,h,C,w]}class sl extends Me{constructor(e){super(),We(this,e,al,nl,Be,{watcher:0})}}function gt(a,e,l){const t=a.slice();return t[4]=e[l],t}function Ct(a){let e,l;return e=new sl({props:{watcher:a[4]}}),e.$on("delete",a[2]),e.$on("update",a[3]),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,n){Ce(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.watcher=t[4]),e.$set(s)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){x(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function rl(a){let e,l,t=Pe(a[0].sort(kt)),n=[];for(let o=0;o<t.length;o+=1)n[o]=Ct(gt(a,t,o));const s=o=>x(n[o],1,1,()=>{n[o]=null});return{c(){e=d("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var i=y(e);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(_),this.h()},h(){f(e,"class","container svelte-c8nodu")},m(o,i){I(o,e,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);l=!0},p(o,[i]){if(i&3){t=Pe(o[0].sort(kt));let r;for(r=0;r<t.length;r+=1){const c=gt(o,t,r);n[r]?(n[r].p(c,i),N(n[r],1)):(n[r]=Ct(c),n[r].c(),N(n[r],1),n[r].m(e,null))}for(Ne(),r=t.length;r<n.length;r+=1)s(r);De()}},i(o){if(!l){for(let i=0;i<t.length;i+=1)N(n[i]);l=!0}},o(o){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)x(n[i]);l=!1},d(o){o&&_(e),Xe(n,o)}}}const kt=(a,e)=>e.id-a.id;function ol(a,e,l){let{watchers:t}=e;const n=Ye(),s=()=>n("delete"),o=()=>n("update");return a.$$set=i=>{"watchers"in i&&l(0,t=i.watchers)},[t,n,s,o]}class il extends Me{constructor(e){super(),We(this,e,ol,rl,Be,{watchers:0})}}function cl(a){let e,l;return e=new zt({props:{item:{level:"info",header:"Login to list the watchers"}}}),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,n){Ce(e,t,n),l=!0},p:ce,i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){x(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function ul(a){let e,l="Create a new watcher",t,n,s="Add an entry",o,i,r="Watchers",c,h,C,w,b,v,m={ctx:a,current:null,token:null,hasCatch:!0,pending:dl,then:hl,catch:fl,value:4,error:5,blocks:[,,,]};return ot(C=a[0],m),{c(){e=d("h2"),e.textContent=l,t=k(),n=d("button"),n.textContent=s,o=k(),i=d("h2"),i.textContent=r,c=k(),h=ue(),m.block.c()},l(g){e=p(g,"H2",{"data-svelte-h":!0}),P(e)!=="svelte-1syw717"&&(e.textContent=l),t=E(g),n=p(g,"BUTTON",{"data-svelte-h":!0}),P(n)!=="svelte-10yn9w3"&&(n.textContent=s),o=E(g),i=p(g,"H2",{"data-svelte-h":!0}),P(i)!=="svelte-19rsvuf"&&(i.textContent=r),c=E(g),h=ue(),m.block.l(g)},m(g,$){I(g,e,$),I(g,t,$),I(g,n,$),I(g,o,$),I(g,i,$),I(g,c,$),I(g,h,$),m.block.m(g,m.anchor=$),m.mount=()=>h.parentNode,m.anchor=h,w=!0,b||(v=ie(n,"click",a[3]),b=!0)},p(g,$){a=g,m.ctx=a,$&1&&C!==(C=a[0])&&ot(C,m)||Pt(m,a,$)},i(g){w||(N(m.block),w=!0)},o(g){for(let $=0;$<3;$+=1){const O=m.blocks[$];x(O)}w=!1},d(g){g&&(_(e),_(t),_(n),_(o),_(i),_(c),_(h)),m.block.d(g),m.token=null,m=null,b=!1,v()}}}function fl(a){let e,l="Something went wrong",t,n,s=JSON.stringify(a[5])+"",o;return{c(){e=d("p"),e.textContent=l,t=k(),n=d("p"),o=pe(s)},l(i){e=p(i,"P",{"data-svelte-h":!0}),P(e)!=="svelte-171fb2d"&&(e.textContent=l),t=E(i),n=p(i,"P",{});var r=y(n);o=_e(r,s),r.forEach(_)},m(i,r){I(i,e,r),I(i,t,r),I(i,n,r),u(n,o)},p(i,r){r&1&&s!==(s=JSON.stringify(i[5])+"")&&$e(o,s)},i:ce,o:ce,d(i){i&&(_(e),_(t),_(n))}}}function hl(a){let e,l;return e=new il({props:{watchers:a[4]}}),e.$on("delete",a[2]),e.$on("update",a[2]),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,n){Ce(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.watchers=t[4]),e.$set(s)},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){x(e.$$.fragment,t),l=!1},d(t){ke(e,t)}}}function dl(a){let e,l="Loading data";return{c(){e=d("p"),e.textContent=l},l(t){e=p(t,"P",{"data-svelte-h":!0}),P(e)!=="svelte-ezyzhc"&&(e.textContent=l)},m(t,n){I(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&_(e)}}}function pl(a){let e,l,t,n;const s=[ul,cl],o=[];function i(r,c){return r[1]?0:1}return e=i(a),l=o[e]=s[e](a),{c(){l.c(),t=ue()},l(r){l.l(r),t=ue()},m(r,c){o[e].m(r,c),I(r,t,c),n=!0},p(r,[c]){let h=e;e=i(r),e===h?o[e].p(r,c):(Ne(),x(o[h],1,1,()=>{o[h]=null}),De(),l=o[e],l?l.p(r,c):(l=o[e]=s[e](r),l.c()),N(l,1),l.m(t.parentNode,t))},i(r){n||(N(l),n=!0)},o(r){x(l),n=!1},d(r){r&&_(t),o[e].d(r)}}}function _l(a,e,l){let t;Qe(a,Ze,i=>l(1,t=i)),Ht.set("Web Watchers");let n=it();const s=()=>l(0,n=it());return[n,t,s,()=>Dt(Qt,{onUpload:s})]}class Ll extends Me{constructor(e){super(),We(this,e,_l,pl,Be,{})}}export{Ll as component,Il as universal};
