import"../chunks/disclose-version.Bg9kRutz.js";import{i as w}from"../chunks/legacy.Bspvssc3.js";import{k as y,o as x,v as E,m as _,n as I,w as n,ag as k,ah as M,x as B,s as P,g as r,ai as S}from"../chunks/index-client.CflbJY84.js";import{s as U}from"../chunks/render.D9j6VzsR.js";import{f as l,a as j,t as A}from"../chunks/template.BGksMNs9.js";import{t as C}from"../chunks/service.BtF5aEDd.js";import{M as D}from"../chunks/Main.d7VS-h89.js";import{p as H}from"../chunks/Main.svelte_svelte_type_style_lang.Cgidh24I.js";var T=A('<!> <video id="video" autoplay playsinline="" class="svelte-17nkj1a"></video> <button> </button> <button id="capture">Capture</button> <canvas id="canvas" style="display:none;"></canvas> <img alt="The captured camera">',3);function F(p,v){y(v,!1),H.set("Test pot");let e,i;const g=()=>{const t=document.getElementById("canvas");if(!t)throw new Error("canvas not available");const m=t.getContext("2d");if(e=document.getElementById("video"),i=document.getElementById("photo"),!m)throw new Error("no context available");if(!i||!e)throw new Error("no photo or video available");m.drawImage(e,0,0,e.videoWidth,e.videoHeight,0,0,t.width,t.height);var b=t.toDataURL("image/png");i.setAttribute("src",b)};let a=S(!0);const u=()=>P(a,!r(a));x(()=>{navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}).then(function(t){e=document.getElementById("video"),e.srcObject=t}).catch(function(t){console.error("Error accessing media devices.",t)})}),w();var s=T(),c=E(s);D(c,{title:"Pot",description:"A WIP honey pot",iconPath:"/pot.png"});var d=n(c,2),o=n(d,2),h=k(o,!0);M(o);var f=n(o,2);B(4),_(()=>{C(d,"hidden",r(a)),U(h,r(a)?"show src":"hide src")}),l("click",o,u),l("click",f,g),j(p,s),I()}export{F as component};
