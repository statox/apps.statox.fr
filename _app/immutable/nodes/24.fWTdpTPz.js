import"../chunks/NZTpNUN0.js";import{a as oe,o as le}from"../chunks/SweRCpJo.js";import{z as J,C as ae,g as r,A as P,p as M,F as h,G as s,a as j,E as U,s as K,v as N,f as z,c as ne,y as se,x as G,B as ee,aZ as de}from"../chunks/Br9SMxIB.js";import{d as q,s as F}from"../chunks/BBzb7ThI.js";import{i as Y}from"../chunks/CvXxFVm9.js";import{k as ce}from"../chunks/runBWP2p.js";import{e as R,i as V}from"../chunks/D1-nhZYT.js";import{a as ge,b as te}from"../chunks/DWdbj9D8.js";import"../chunks/BUWzxVIb.js";import{p as me}from"../chunks/C1zz2MjU.js";import{p as re}from"../chunks/BFcFh6QN.js";import{P as ie}from"../chunks/CtjH64YW.js";import{m as ve}from"../chunks/B81YP0Pw.js";const W=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Z=D=>{if(D<1||D>7)throw new Error(`Unkown degree ${D}`);return["I","II","III","IV","V","VI","VII"][D-1]};var he=M('<div class="d-flex justify-content-center"><!></div>');function fe(D,o){J(o,!0);let l=P(void 0),k=re(o,"labelMode",3,"name");const c=["C","D","E","F","G","A","B"],b=["C#","D#","F#","G#","A#"],g=14,m=t=>{const I=[80,70,60,150],e=[80,70,60],a=t.width/g;for(let n=0;n<g;n++){const d=c[n%c.length];t.strokeWeight(1),t.stroke(I),t.noFill(),t.rect(a*n,0,a,t.height);const y=d+"#";b.includes(y)&&(t.fill(e),t.rect(a*n+2*a/3,0,a/2,t.height*.65))}},T=(t,I,e)=>{if(e==="name")return I;const a=t.indexOf(I);if(a===-1)throw new Error("note not in scale");return Z(a+1)},L=t=>{const I=t.width/g;for(let e=0;e<g;e++){const a=c[e%c.length],n=o.notesToDisplay.indexOf(a);if(n>=0){n===0?t.fill([250,80,80]):t.fill("black");const x=I*e+I/2,i=t.height*.8;t.circle(x,i,20),t.noStroke(),t.fill("white");const f=T(o.notesToDisplay,a,k());t.text(f,x-t.textWidth(f)/2,i+t.textSize()/2)}const d=a+"#",y=o.notesToDisplay.indexOf(d);if(y>=0){y===0?t.fill([250,80,80]):t.fill("black");const x=I*e+I,i=t.height*.5;t.circle(x,i,20),t.noStroke(),t.fill("white");const f=T(o.notesToDisplay,d,k());t.text(f,x-t.textWidth(f)/2,i+t.textSize()/2)}}},S=t=>{t.setup=()=>{K(l,t,!0),t.createCanvas(900,300),t.textStyle(t.BOLD)},t.draw=()=>{t.background([200,190,170]),m(t),L(t),t.noLoop()}};ae(()=>{(o.notesToDisplay||k())&&r(l)?.draw()}),oe(()=>{r(l)?.remove()});var _=he(),B=h(_);ie(B,{sketch:S}),s(_),j(D,_),U()}var ue=M('<div class="d-flex justify-content-center"><!></div>');function _e(D,o){J(o,!0);let l=P(void 0),k=re(o,"labelMode",3,"name");const c=["E","A","D","G","B","E"],b=15,g=c.map(e=>{const a=W.indexOf(e);if(a===-1)throw new Error(`Base ${e} not found`);const n=[e];for(let d=1;d<b;d++){const y=W[(a+d)%W.length];n.push(y)}return n}),m=30,T=e=>{const a=[80,70,60,150],n=e.height/6;for(let i=0;i<g.length;i++){const f=c[i],C=n*i+n/2;e.strokeWeight(1),e.stroke(a),e.noFill(),e.line(m,C,e.width,C),e.noStroke(),e.fill(a),e.text(f,5,e.height-C+e.textSize()/2)}e.strokeWeight(5),e.stroke(a),e.noFill(),e.line(m,n/2,m,e.height-n/2),e.strokeWeight(1);const d=e.width/g[0].length;for(let i=1;i<b;i++){const f=m+d*i;e.line(f,n/2,f,e.height-n/2)}const y=[3,5,7,9,15];for(const i of y){let{x:f,y:C}=_({string:2,fret:i});C-=n/2,e.fill(a),e.circle(f,C,10)}const x=[1,3];for(const i of x){let{x:f,y:C}=_({string:i,fret:12});C-=n/2,e.fill(a),e.circle(f,C,10)}},L=(e,a,n)=>{if(n==="name")return a;const d=e.indexOf(a);if(d===-1)throw new Error("note not in scale");return Z(d+1)},S=e=>{for(let a=0;a<6;a++){const n=g[a];for(let d=0;d<n.length;d++){const y=n[d];if(!o.notesToDisplay.includes(y))continue;const x={string:a,fret:d},{x:i,y:f}=_(x);o.notesToDisplay.indexOf(y)===0?e.fill([250,80,80]):e.fill("black"),e.circle(i,f,20),e.noStroke(),e.fill("white");const C=L(o.notesToDisplay,y,k());e.text(C,i-e.textWidth(C)/2,f+e.textSize()/2)}}},_=e=>{if(r(l)===void 0)throw new Error("P5 instance is undefined");const{string:a,fret:n}=e,d=r(l).height/6,y=d*(5-a)+d/2;if(n===0)return{x:m,y};const x=r(l).width/g[0].length;return{x:m+x*(n-1)+x*.5,y}},B=e=>{e.setup=()=>{K(l,e,!0),e.createCanvas(900,300),e.textStyle(e.BOLD)},e.draw=()=>{e.background([200,190,170]),T(e),S(e),e.noLoop()}};ae(()=>{(o.notesToDisplay||k())&&r(l)?.draw()}),oe(()=>{r(l)?.remove()});var t=ue(),I=h(t);ie(I,{sketch:B}),s(t),j(D,t),U()}var be=(D,o)=>K(o,r(o)==="name"?"degree":"name",!0),ye=(D,o,l)=>K(o,(r(o)+1)%l.length),xe=M('<h3>Instrument</h3> <div><button>C / IV</button> <button><i class="fas fa-guitar"></i> / <i class="fas fa-keyboard"></i></button></div> <!> <!>',1);function we(D,o){J(o,!0);let l=P("name");const k=["neck","keyboard","both"];let c=P(0);var b=xe(),g=N(z(b),2),m=h(g);m.__click=[be,l];var T=N(m,2);T.__click=[ye,c,k],s(g);var L=N(g,2);{var S=t=>{_e(t,{get notesToDisplay(){return o.notesToDisplay},get labelMode(){return r(l)}})};Y(L,t=>{["neck","both"].includes(k[r(c)])&&t(S)})}var _=N(L,2);{var B=t=>{fe(t,{get notesToDisplay(){return o.notesToDisplay},get labelMode(){return r(l)}})};Y(_,t=>{["keyboard","both"].includes(k[r(c)])&&t(B)})}j(D,b),U()}q(["click"]);var ke=M(`<div role="dialog" class="modal svelte-j872fo"><div class="contents svelte-j872fo"><h4 class="title-bar svelte-j872fo">Chord Progressions <button>Close</button></h4> <div>This is a list of chord progressions I took from David Benett's videos and elsewhere
                too <ul><li><a href="https://www.youtube.com/watch?v=Vyc8lezaa9g" rel="noopener noreferrer" target="_blank">David Benett - 7 super common chord progressions and why they work</a></li> <li><a href="https://www.youtube.com/watch?v=v3YbEL-_eoI" rel="noopener noreferrer" target="_blank">David Benett - 6 more common chord progressions and why they work</a></li></ul> The user can change the tonic note in the "Scales" section and the progressions will
                change the actual chords to play.</div></div></div>`);function pe(D,o){var l=ne(),k=z(l);{var c=b=>{var g=ke(),m=h(g),T=h(m),L=N(h(T));L.__click=function(...S){o.close?.apply(this,S)},s(T),se(2),s(m),s(g),j(b,g)};Y(k,b=>{o.isOpen&&b(c)})}j(D,l)}q(["click"]);const De=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}];var Se=()=>ve.open(pe),Ie=M("<span><b>Examples:</b> </span>"),Ce=M('<div class="progression-step"><div class="step-degree svelte-1ga79sv"> </div> <div class="step-value svelte-1ga79sv"> </div></div>'),Ne=M('<div><h4> </h4> <!> <div class="progression-table svelte-1ga79sv"></div></div> <br/>',1),Te=M('<h3>Chord Progressions <span><button aria-label="info"><i class="fa fa-info-circle" aria-hidden="true"></i></button></span></h3> <!>',1);function Be(D,o){J(o,!0);let l=re(o,"scaleNotes",19,()=>[]);const k=S=>{let _=Z(S.degree);return S.minor&&(_=_.toLowerCase()),S.flat&&(_="b"+_),_},c=S=>{const _=l()[S.degree-1];let B=W.indexOf(_);S.flat&&(B--,B===-1&&(B=W.length-1));let t=W[B];return S.minor&&(t+="m"),t};var b=Te(),g=z(b),m=N(h(g)),T=h(m);T.__click=[Se],ge(T,"",{},{position:"relative"}),s(m),s(g);var L=N(g,2);R(L,17,()=>De,V,(S,_)=>{var B=Ne(),t=z(B),I=h(t),e=h(I,!0);s(I);var a=N(I,2);{var n=y=>{var x=Ie(),i=N(h(x));s(x),G(f=>F(i,` ${f??""}`),[()=>r(_).examples.join(", ")]),j(y,x)};Y(a,y=>{r(_).examples&&y(n)})}var d=N(a,2);R(d,21,()=>r(_).chords,V,(y,x)=>{var i=Ce(),f=h(i),C=h(f,!0);s(f);var H=N(f,2),X=h(H,!0);s(H),s(i),G((Q,$)=>{F(C,Q),F(X,$)},[()=>k(r(x)),()=>c(r(x))]),j(y,i)}),s(d),s(t),se(2),G(()=>F(e,r(_).name)),j(S,B)}),j(D,b),U()}q(["click"]);var je=(D,o,l,k,c)=>o(r(l),r(k),r(c)),Me=M("<option> </option>"),Ae=(D,o,l,k,c)=>o(r(l),r(k),r(c)),Le=M("<option> </option>"),Oe=(D,o,l,k,c)=>o(r(l),r(k),r(c)),Ee=M("<option> </option>"),We=M('<th class="svelte-de2nb4"> </th>'),Fe=M('<td class="svelte-de2nb4"> </td>'),Ge=M('<table><thead><tr><th class="svelte-de2nb4"><label for="tonicInput">Tonic</label></th><th class="svelte-de2nb4"><label for="scaleInput">Scale</label></th><th class="svelte-de2nb4"><label for="modeInput">mode</label></th></tr></thead><tbody><tr><td class="svelte-de2nb4"><select id="tonicInput"></select></td><td class="svelte-de2nb4"><select id="scaleInput"></select></td><td class="svelte-de2nb4"><select id="modeInput"></select></td></tr></tbody></table> <br/> <table><tbody><tr></tr><tr></tr></tbody></table> <!> <!>',1);function $e(D,o){J(o,!0),me.set("Scales");const l=[{name:"Major",intervals:[2,2,1,2,2,2,1],chords:["major","minor","minor","diminished","major","minor","major"]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2],chords:["minor","diminished","major","minor","major","major","minor"]},{name:"Pentatonic major",intervals:[2,2,3,2,3],chords:["major","minor","minor","major","minor"]},{name:"Pentatonic minor",intervals:[3,2,2,3,2],chords:["minor","major","minor","major","major"]}],k=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let c=P("C"),b=P(ee(l[0])),g=P(ee(k[0])),m=P(ee([]));const T=(v,u,w)=>{const{intervals:A}=u;K(m,[v],!0);const p=W.indexOf(v);if(p===-1)throw new Error(`Tonic ${v} not found`);let E=p;for(const O of A)E=(E+O)%W.length,r(m).push(W[E]);r(m).pop();for(let O=1;O<w.degree;O++)r(m).push(r(m).shift())},L=(v,u)=>{let w=Z(v);return u==="minor"?w=w.toLowerCase():u==="diminished"&&(w+="°"),w},S=(v,u)=>{let w=v;return u==="minor"?w+="m":u==="diminished"&&(w+="°"),w};le(()=>T(r(c),r(b),r(g)));var _=Ge(),B=z(_),t=N(h(B)),I=h(t),e=h(I),a=h(e);a.__change=[je,T,c,b,g],R(a,21,()=>W,V,(v,u)=>{var w=Me(),A=h(w,!0);s(w);var p={};G(()=>{F(A,r(u)),p!==(p=r(u))&&(w.value=(w.__value=r(u))??"")}),j(v,w)}),s(a),s(e);var n=N(e),d=h(n);d.__change=[Ae,T,c,b,g],R(d,21,()=>l,V,(v,u,w,A)=>{var p=Le(),E=h(p,!0);s(p);var O={};G(()=>{F(E,r(u).name),O!==(O=r(u))&&(p.value=(p.__value=r(u))??"")}),j(v,p)}),s(d),s(n);var y=N(n),x=h(y);x.__change=[Oe,T,c,b,g],R(x,21,()=>k,V,(v,u,w,A)=>{var p=Ee(),E=h(p,!0);s(p);var O={};G(()=>{F(E,r(u).name),O!==(O=r(u))&&(p.value=(p.__value=r(u))??"")}),j(v,p)}),s(x),s(y),s(I),s(t),s(B);var i=N(B,4),f=h(i),C=h(f);R(C,21,()=>r(b).chords,V,(v,u,w)=>{var A=We(),p=h(A,!0);s(A),G(E=>F(p,E),[()=>L(w+1,r(u))]),j(v,A)}),s(C);var H=N(C);R(H,21,()=>r(m),V,(v,u,w)=>{const A=de(()=>r(b).chords[w]);var p=Fe(),E=h(p,!0);s(p),G(O=>F(E,O),[()=>S(r(u),r(A))]),j(v,p)}),s(H),s(f),s(i);var X=N(i,2);we(X,{get notesToDisplay(){return r(m)}});var Q=N(X,2);{var $=v=>{var u=ne(),w=z(u);ce(w,()=>r(m),A=>{Be(A,{get scaleNotes(){return r(m)}})}),j(v,u)};Y(Q,v=>{["Major","Natural minor"].includes(r(b).name)&&v($)})}te(a,()=>r(c),v=>K(c,v)),te(d,()=>r(b),v=>K(b,v)),te(x,()=>r(g),v=>K(g,v)),j(D,_),U()}q(["change"]);export{$e as component};
