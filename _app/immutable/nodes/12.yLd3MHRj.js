import"../chunks/DsnmJJEf.js";import"../chunks/DSYWElOX.js";import{p as C,h as o,F as D,d as I,b as y,s as l,f as G,i as r,g as e,e as H,r as N,t as j,a as _,n as x}from"../chunks/g1cPSzzo.js";import{i as q}from"../chunks/C_lSuKiK.js";import{g as z}from"../chunks/DWSMSNk1.js";import"../chunks/D86xNqtr.js";import{p as J}from"../chunks/BrDWwLfU.js";/* empty css                */import"../chunks/BnpMx7Ui.js";import{d as K}from"../chunks/Dt0sKxG3.js";import{i as O}from"../chunks/BbH2cRaW.js";import{r as T,s as Q}from"../chunks/BLxmwEj4.js";import{b as w}from"../chunks/BHrObE1S.js";import{F as R,a as V,b as W,c as X,h as Y}from"../chunks/D98IeAcO.js";import{M as Z}from"../chunks/CaZXqwcj.js";import{u as ee}from"../chunks/COHJ_Uta.js";var te=y('Public <i class="fas fa-lock-open"></i>',1),ae=y('Private <i class="fas fa-lock"></i>',1),re=y('<label for="name">Name</label> <input type="text"/> <label for="content">Content</label> <input type="textarea"/> <label for="file">File</label> <!> <label for="ttlSeconds">TTL</label> <!> <label for="isPublic">Access</label> <button><!></button> <!>',1);function oe(m,u){C(u,!0);let a=o(D([])),f=o(""),c=o(""),i=o(void 0),s=o(!1),d=o(0),b=o(!1);const U=async()=>{if(r(a,[],!0),e(f)?.length||e(a).push({level:"error",header:"name must be defined"}),e(d)<0&&e(a).push({level:"error",header:"TTL must be positive"}),e(a).length)return;let n;if(e(i)&&e(i).length&&(n=e(i)[0]||void 0),!e(c)?.length&&!n){e(a).push({level:"error",header:"Either content or file must be defined"});return}try{r(b,!0),await ee({name:e(f),content:e(c),ttlSeconds:e(d),isPublic:e(s),file:n}),u.onUpload()}catch(F){Y(F)}finally{r(b,!1)}};R(m,{title:"Add a new clipboard entry",backUrl:"/clipboard",get noticeMessages(){return e(a)},children:(n,F)=>{V(n,{children:(A,le)=>{var P=re(),v=l(G(P),2);T(v);var g=l(v,4);T(g);var k=l(g,4);W(k,{get files(){return e(i)},set files(t){r(i,t,!0)}});var M=l(k,4);Z(M,{allowedUnits:["minutes","hours","days","months","years"],defaultDuration:{value:10,unit:"minutes"},get valueInSeconds(){return e(d)},set valueInSeconds(t){r(d,t,!0)}});var p=l(M,4);let S;p.__click=()=>r(s,!e(s));var L=H(p);{var E=t=>{var h=te();x(),_(t,h)},$=t=>{var h=ae();x(),_(t,h)};O(L,t=>{e(s)?t(E):t($,!1)})}N(p);var B=l(p,2);X(B,{onclick:U,get loading(){return e(b)}}),j(()=>S=Q(p,1,"visibility-status svelte-5gxvc6",null,S,{"visibility-public":e(s)})),w(v,()=>e(f),t=>r(f,t)),w(g,()=>e(c),t=>r(c,t)),_(A,P)}})},$$slots:{default:!0}}),I()}K(["click"]);function Pe(m,u){C(u,!1);const a={name:"Clipboard",description:"My universal clipboard app",iconPath:"/clipboard.png",showAuthInHeader:!0};J.set(a),q(),oe(m,{onUpload:()=>z("/clipboard")}),I()}export{Pe as component};
