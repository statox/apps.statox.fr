import{g as el,a as Gt,u as Kt,b as tl,c as ll}from"../chunks/api.Bp6Ljsg3.js";import{s as oe,D as Xt,e as b,c as C,z as Y,m as S,F as ye,i as T,E as ne,n as te,f as h,y as We,t as V,a as B,b as y,d as M,g as $,h as d,j as Ve,a5 as Ge,k as Yt,l as nl,aa as Wt,A as W,B as ve,G as qe,K as sl,q as Qe,L as et,O as tt}from"../chunks/scheduler.B3gxbuV4.js";import{S as Ce,i as we,g as Z,t as I,c as x,a as A,b as ue,d as pe,m as he,e as _e}from"../chunks/index.D4Ghn6ud.js";import{e as J,u as rl,o as ol}from"../chunks/each.BG3x12hU.js";import{c as il,o as al}from"../chunks/store.9BnpkKOj.js";/* empty css                          */import{M as cl}from"../chunks/Main.DhctXHZH.js";import{w as Qt}from"../chunks/index.CLUFn2xY.js";import{b as fl}from"../chunks/paths.B6tgPu9O.js";import{t as ul,U as hl}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.CPB5gpyf.js";import{A as _l}from"../chunks/index.Doozu6dV.js";import{h as dl,u as ml}from"../chunks/await_block.hv1NBf3l.js";import{g as gl}from"../chunks/entry.B2bO4Rh8.js";const pl=!1,vl=async()=>({chords:await el()}),dn=Object.freeze(Object.defineProperty({__proto__:null,load:vl,ssr:pl},Symbol.toStringTag,{value:"Module"})),{clearTimeout:lt,setTimeout:nt,window:Ke}=Gt;function kl(i){let t=!1,n=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',s,a;return Xt(i[3]),{c(){e=b("button"),e.innerHTML=r,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ed45ug"&&(e.innerHTML=r),this.h()},h(){S(e,"class","top-link svelte-1kbb9q3"),ye(e,"hide",i[1])},m(o,u){T(o,e,u),s||(a=[ne(Ke,"scroll",()=>{t=!0,lt(l),l=nt(n,100),i[3]()}),ne(e,"click",i[2])],s=!0)},p(o,[u]){u&1&&!t&&(t=!0,lt(l),scrollTo(Ke.pageXOffset,o[0]),l=nt(n,100)),u&2&&ye(e,"hide",o[1])},i:te,o:te,d(o){o&&h(e),s=!1,We(a)}}}function bl(i,t,n){let l,e=!0,r;const s=u=>{u>0?n(1,e=!1):n(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{n(1,e=!0)},3e3)},a=()=>{const u=document.documentElement.scrollTop||document.body.scrollTop;u>0&&(window.requestAnimationFrame(a),window.scrollTo(0,u-u/2))};function o(){n(0,l=Ke.pageYOffset)}return i.$$.update=()=>{i.$$.dirty&1&&s(l)},[l,e,a,o]}let Cl=class extends Ce{constructor(t){super(),we(this,t,bl,kl,oe,{})}};function st(i){let t,n=i[0].message+"",l;return{c(){t=b("div"),l=V(n),this.h()},l(e){t=C(e,"DIV",{class:!0});var r=y(t);l=M(r,n),r.forEach(h),this.h()},h(){S(t,"class","message svelte-i2mraf")},m(e,r){T(e,t,r),d(t,l)},p(e,r){r&1&&n!==(n=e[0].message+"")&&Ve(l,n)},d(e){e&&h(t)}}}function wl(i){let t,n,l=i[0].header+"",e,r,s=i[0].message&&st(i);return{c(){t=b("div"),n=b("div"),e=V(l),r=B(),s&&s.c(),this.h()},l(a){t=C(a,"DIV",{class:!0});var o=y(t);n=C(o,"DIV",{class:!0});var u=y(n);e=M(u,l),u.forEach(h),r=$(o),s&&s.l(o),o.forEach(h),this.h()},h(){S(n,"class","header svelte-i2mraf"),S(t,"class","container svelte-i2mraf"),ye(t,"info",i[0].level==="info"),ye(t,"error",i[0].level==="error")},m(a,o){T(a,t,o),d(t,n),d(n,e),d(t,r),s&&s.m(t,null)},p(a,[o]){o&1&&l!==(l=a[0].header+"")&&Ve(e,l),a[0].message?s?s.p(a,o):(s=st(a),s.c(),s.m(t,null)):s&&(s.d(1),s=null),o&1&&ye(t,"info",a[0].level==="info"),o&1&&ye(t,"error",a[0].level==="error")},i:te,o:te,d(a){a&&h(t),s&&s.d()}}}function Ll(i,t,n){let{item:l}=t;return i.$$set=e=>{"item"in e&&n(0,l=e.item)},[l]}class Sl extends Ce{constructor(t){super(),we(this,t,Ll,wl,oe,{item:0})}}const Pe=Qt();let Zt=[];const rt=localStorage.getItem("failedVisitCounts");if(rt!==null)try{Zt=JSON.parse(rt)}catch{console.error("Couldnt parse failedVisitCounts from local storage")}const je=Qt(Zt);je.subscribe(i=>{localStorage.setItem("failedVisitCounts",JSON.stringify(i))});const Xe=i=>i==="doc"?"fas fa-file-word":i==="pdf"?"fas fa-file-pdf":i==="youtube"?"fa fa-youtube":"fas fa-link";function Tl(i){let t,n,l,e,r,s,a,o,u;return{c(){t=b("span"),l=B(),e=b("span"),r=b("a"),s=V(i[2]),this.h()},l(c){t=C(c,"SPAN",{class:!0}),y(t).forEach(h),l=$(c),e=C(c,"SPAN",{});var _=y(e);r=C(_,"A",{href:!0,target:!0,rel:!0,title:!0});var f=y(r);s=M(f,i[2]),f.forEach(h),_.forEach(h),this.h()},h(){S(t,"class",n=Ge(Xe(i[0].type))+" svelte-1gxig14"),S(r,"href",a=i[3](i[0])),S(r,"target","_blank"),S(r,"rel","noopener noreferrer"),S(r,"title",i[1])},m(c,_){T(c,t,_),T(c,l,_),T(c,e,_),d(e,r),d(r,s),o||(u=ne(r,"click",i[4]),o=!0)},p(c,[_]){_&1&&n!==(n=Ge(Xe(c[0].type))+" svelte-1gxig14")&&S(t,"class",n),_&1&&a!==(a=c[3](c[0]))&&S(r,"href",a),_&2&&S(r,"title",c[1])},i:te,o:te,d(c){c&&(h(t),h(l),h(e)),o=!1,u()}}}function El(i,t,n){let l;Yt(i,je,c=>n(6,l=c));let{chord:e}=t,{showArtist:r=!1}=t,s;Pe.subscribe(c=>{if(c&&c.has(e.url)){const _=c.get(e.url),f=new Date(_.lastAccessDateUnix*1e3);n(1,s=`visits: ${_.count} - last: ${f.toLocaleDateString()}`)}});const a=(r?e.artist+" - ":"")+e.title,o=c=>c.type==="doc"?`${fl}/docviewer/${c.url}`:c.url,u=async()=>{try{await Kt(e.url);const c=nl(Pe),_=c.get(e.url)||{count:0,lastAccessDateUnix:0};_.count++,_.lastAccessDateUnix=Date.now()/1e3,c.set(e.url,_),Pe.set(c)}catch(c){let _=c.message;c instanceof _l&&c.code===401?_="Invalid logged in user":c instanceof hl&&(_="User is logged out"),Wt(je,l=[...l,e.url],l);const f=`<strong>Visit not counted</strong><br/> ${_}`;ul.push(f,{initial:1,duration:5e3,theme:{"--toastBarBackground":"#FF0000"}})}};return i.$$set=c=>{"chord"in c&&n(0,e=c.chord),"showArtist"in c&&n(5,r=c.showArtist)},[e,s,a,o,u,r]}class Me extends Ce{constructor(t){super(),we(this,t,El,Tl,oe,{chord:0,showArtist:5})}}function ot(i,t,n){const l=i.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function it(i){let t,n,l,e,r,s=i[6]&&at(i);return l=new Me({props:{chord:i[5],showArtist:!0}}),{c(){t=b("li"),s&&s.c(),n=B(),ue(l.$$.fragment),e=B(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=y(t);s&&s.l(o),n=$(o),pe(l.$$.fragment,o),e=$(o),o.forEach(h),this.h()},h(){S(t,"class","ul2col-item")},m(a,o){T(a,t,o),s&&s.m(t,null),d(t,n),he(l,t,null),d(t,e),r=!0},p(a,o){a[6]?s?s.p(a,o):(s=at(a),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[5]),l.$set(u)},i(a){r||(A(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&h(t),s&&s.d(),_e(l)}}}function at(i){let t,n=i[6].count+"",l,e;return{c(){t=V("("),l=V(n),e=V(")")},l(r){t=M(r,"("),l=M(r,n),e=M(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Ve(l,n)},d(r){r&&(h(t),h(l),h(e))}}}function ct(i){let t=i[4](i[5],i[1],i[2]),n,l,e=t&&it(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&A(e,1)):(e=it(r),e.c(),A(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function ft(i){let t,n,l=J(i[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=ct(ot(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=b("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=y(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){S(t,"class","ul2col-container")},m(s,a){T(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&31){l=J(s[0]);let o;for(o=0;o<l.length;o+=1){const u=ot(s,l,o);e[o]?(e[o].p(u,a),A(e[o],1)):(e[o]=ct(u),e[o].c(),A(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)A(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),ve(e,s)}}}function Al(i){let t=i[0],n,l,e=ft(i);return{c(){e.c(),n=W()},l(r){e.l(r),n=W()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&oe(t,t=r[0])?(Z(),I(e,1,1,te),x(),e=ft(r),e.c(),A(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e.d(r)}}}function Nl(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Pe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,c)=>{const _=o.get(u.url),f=o.get(c.url);return _&&f?f.lastAccessDateUnix-_.lastAccessDateUnix:_?-1:f?1:u.artist!=c.artist?u.artist.toLowerCase()<c.artist.toLowerCase()?-1:1:u.title.toLowerCase()<c.title.toLowerCase()?-1:1})))});const a=(o,u,c)=>c[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return i.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,a]}class yl extends Ce{constructor(t){super(),we(this,t,Nl,Al,oe,{searchString:1,chords:0,filters:2})}}const Bl=(i,t)=>i<t?-1:i>t?1:0,Ye=(i,t)=>{const n=i.toLowerCase(),l=t.toLowerCase();return Bl(n,l)},{Boolean:xt}=Gt;function ut(i,t,n){const l=i.slice();l[14]=t[n];const e=l[8](l[14].name,l[0],l[1]);l[15]=e;const r=l[9](l[14].name,l[0]);return l[16]=r,l}function ht(i,t,n){const l=i.slice();return l[20]=t[n],l}function Je(i){const t=i.slice(),n=t[16]?t[5][t[14].name]:t[15];return t[19]=n,t}function _t(i,t,n){const l=i.slice();return l[23]=t[n],l}function dt(i){let t,n,l=i[23].letter.toUpperCase()+"",e,r;return{c(){t=b("li"),n=b("a"),e=V(l),r=B(),this.h()},l(s){t=C(s,"LI",{class:!0});var a=y(t);n=C(a,"A",{href:!0,class:!0});var o=y(n);e=M(o,l),o.forEach(h),r=$(a),a.forEach(h),this.h()},h(){S(n,"href","#"+i[23].tag),S(n,"class","navigationLink svelte-1deg5s8"),S(t,"class","navigationBtn svelte-1deg5s8")},m(s,a){T(s,t,a),d(t,n),d(n,e),d(t,r)},p:te,d(s){s&&h(t)}}}function mt(i){let t,n,l=i[14].name+"",e,r,s=i[0],a,o,u=pt(i);return{c(){t=b("tr"),n=b("td"),e=V(l),r=B(),u.c(),a=B(),this.h()},l(c){t=C(c,"TR",{class:!0});var _=y(t);n=C(_,"TD",{id:!0,class:!0});var f=y(n);e=M(f,l),r=$(f),u.l(f),f.forEach(h),a=$(_),_.forEach(h),this.h()},h(){S(n,"id",i[14].tag),S(n,"class","svelte-1deg5s8"),S(t,"class","svelte-1deg5s8")},m(c,_){T(c,t,_),d(t,n),d(n,e),d(n,r),u.m(n,null),d(t,a),o=!0},p(c,_){_&1&&oe(s,s=c[0])?(Z(),I(u,1,1,te),x(),u=pt(c),u.c(),A(u,1),u.m(n,null)):u.p(c,_)},i(c){o||(A(u),o=!0)},o(c){I(u),o=!1},d(c){c&&h(t),u.d(c)}}}function gt(i){let t,n,l,e;return n=new Me({props:{chord:i[20]}}),{c(){t=b("li"),ue(n.$$.fragment),l=B(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=y(t);pe(n.$$.fragment,s),l=$(s),s.forEach(h),this.h()},h(){S(t,"class","ul2col-item")},m(r,s){T(r,t,s),he(n,t,null),d(t,l),e=!0},p(r,s){const a={};s&3&&(a.chord=r[20]),n.$set(a)},i(r){e||(A(n.$$.fragment,r),e=!0)},o(r){I(n.$$.fragment,r),e=!1},d(r){r&&h(t),_e(n)}}}function pt(i){let t,n,l=J(i[19]),e=[];for(let s=0;s<l.length;s+=1)e[s]=gt(ht(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=b("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=y(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){S(t,"class","ul2col-container")},m(s,a){T(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&931){l=J(s[19]);let o;for(o=0;o<l.length;o+=1){const u=ht(s,l,o);e[o]?(e[o].p(u,a),A(e[o],1)):(e[o]=gt(u),e[o].c(),A(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)A(e[a]);n=!0}},o(s){e=e.filter(xt);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),ve(e,s)}}}function vt(i){let t,n,l=(i[16]||i[15].length>0)&&mt(Je(i));return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[16]||e[15].length>0?l?(l.p(Je(e),r),r&3&&A(l,1)):(l=mt(Je(e)),l.c(),A(l,1),l.m(t.parentNode,t)):l&&(Z(),I(l,1,1,()=>{l=null}),x())},i(e){n||(A(l),n=!0)},o(e){I(l),n=!1},d(e){e&&h(t),l&&l.d(e)}}}function $l(i){let t=!1,n=()=>{t=!1},l,e,r=`${i[3]}px`,s,a,o,u,c;Xt(i[11]);let _=J(i[6]),f=[];for(let p=0;p<_.length;p+=1)f[p]=dt(_t(i,_,p));let w=J(i[7]),m=[];for(let p=0;p<w.length;p+=1)m[p]=vt(ut(i,w,p));const D=p=>I(m[p],1,1,()=>{m[p]=null});return{c(){e=b("ol");for(let p=0;p<f.length;p+=1)f[p].c();s=B(),a=b("table");for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=C(p,"OL",{id:!0,class:!0});var v=y(e);for(let O=0;O<f.length;O+=1)f[O].l(v);v.forEach(h),s=$(p),a=C(p,"TABLE",{id:!0});var k=y(a);for(let O=0;O<m.length;O+=1)m[O].l(k);k.forEach(h),this.h()},h(){S(e,"id","indexList"),S(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),qe(e,"--barTop",r),S(a,"id","artistTable")},m(p,v){T(p,e,v);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(e,null);T(p,s,v),T(p,a,v);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(a,null);i[12](a),o=!0,u||(c=ne(window,"scroll",()=>{t=!0,clearTimeout(l),l=setTimeout(n,100),i[11]()}),u=!0)},p(p,[v]){if(v&4&&!t&&(t=!0,clearTimeout(l),scrollTo(window.pageXOffset,p[2]),l=setTimeout(n,100)),v&64){_=J(p[6]);let k;for(k=0;k<_.length;k+=1){const O=_t(p,_,k);f[k]?f[k].p(O,v):(f[k]=dt(O),f[k].c(),f[k].m(e,null))}for(;k<f.length;k+=1)f[k].d(1);f.length=_.length}if(v&8&&r!==(r=`${p[3]}px`)&&qe(e,"--barTop",r),v&931){w=J(p[7]);let k;for(k=0;k<w.length;k+=1){const O=ut(p,w,k);m[k]?(m[k].p(O,v),A(m[k],1)):(m[k]=vt(O),m[k].c(),A(m[k],1),m[k].m(a,null))}for(Z(),k=w.length;k<m.length;k+=1)D(k);x()}},i(p){if(!o){for(let v=0;v<w.length;v+=1)A(m[v]);o=!0}},o(p){m=m.filter(xt);for(let v=0;v<m.length;v+=1)I(m[v]);o=!1},d(p){p&&(h(e),h(s),h(a)),ve(f,p),ve(m,p),i[12](null),u=!1,c()}}}function Dl(i,t,n){let{searchString:l=""}=t,{chords:e}=t,{filters:r}=t;const s=e.reduce((v,k)=>{const O=k.artist;return v[O]||(v[O]=[]),v[O].push(k),v},{}),a=[],o=Object.keys(s).sort(Ye).map((v,k,O)=>{if(k===0||v[0].toLowerCase()!=O[k-1][0].toLowerCase()){const L="anchor_letter_"+v[0];return a.push({letter:v[0],tag:L}),{name:v,tag:L}}return{name:v}});let u,c=0,_;const f=v=>{if(_){var k=_.getBoundingClientRect();if(k.top<20){n(3,c=20);return}n(3,c=k.top)}},w=(v,k,O)=>s[v].sort((N,P)=>N.title<P.title?-1:1).filter(N=>{const P=N.type;return O[P]===!1?!1:k.length===0?!0:!!N.title.toLowerCase().match(k.toLowerCase())}),m=(v,k)=>!!v.toLowerCase().match(k.toLowerCase());function D(){n(2,u=window.pageYOffset)}function p(v){sl[v?"unshift":"push"](()=>{_=v,n(4,_)})}return i.$$set=v=>{"searchString"in v&&n(0,l=v.searchString),"chords"in v&&n(10,e=v.chords),"filters"in v&&n(1,r=v.filters)},i.$$.update=()=>{i.$$.dirty&4&&f()},[l,r,u,c,_,s,a,o,w,m,e,D,p]}class Il extends Ce{constructor(t){super(),we(this,t,Dl,$l,oe,{searchString:0,chords:10,filters:1})}}function kt(i,t,n){const l=i.slice();return l[5]=t[n],l}function bt(i,t,n){const l=i.slice();return l[8]=t[n],l}function Ct(i){let t,n,l=i[3](i[5])+"",e,r,s,a,o,u=J(i[2][i[5]]),c=[];for(let f=0;f<u.length;f+=1)c[f]=Lt(bt(i,u,f));const _=f=>I(c[f],1,1,()=>{c[f]=null});return{c(){t=b("div"),n=b("span"),e=V(l),r=B(),s=b("ul");for(let f=0;f<c.length;f+=1)c[f].c();a=B(),this.h()},l(f){t=C(f,"DIV",{});var w=y(t);n=C(w,"SPAN",{});var m=y(n);e=M(m,l),m.forEach(h),r=$(w),s=C(w,"UL",{class:!0});var D=y(s);for(let p=0;p<c.length;p+=1)c[p].l(D);D.forEach(h),a=$(w),w.forEach(h),this.h()},h(){S(s,"class","ul2col-container")},m(f,w){T(f,t,w),d(t,n),d(n,e),d(t,r),d(t,s);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(s,null);d(t,a),o=!0},p(f,w){if((!o||w&4)&&l!==(l=f[3](f[5])+"")&&Ve(e,l),w&6){u=J(f[2][f[5]]);let m;for(m=0;m<u.length;m+=1){const D=bt(f,u,m);c[m]?(c[m].p(D,w),A(c[m],1)):(c[m]=Lt(D),c[m].c(),A(c[m],1),c[m].m(s,null))}for(Z(),m=u.length;m<c.length;m+=1)_(m);x()}},i(f){if(!o){for(let w=0;w<u.length;w+=1)A(c[w]);o=!0}},o(f){c=c.filter(Boolean);for(let w=0;w<c.length;w+=1)I(c[w]);o=!1},d(f){f&&h(t),ve(c,f)}}}function wt(i){let t,n,l,e;return n=new Me({props:{chord:i[8],showArtist:!0}}),{c(){t=b("li"),ue(n.$$.fragment),l=B(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=y(t);pe(n.$$.fragment,s),l=$(s),s.forEach(h),this.h()},h(){S(t,"class","ul2col-item")},m(r,s){T(r,t,s),he(n,t,null),d(t,l),e=!0},p(r,s){const a={};s&4&&(a.chord=r[8]),n.$set(a)},i(r){e||(A(n.$$.fragment,r),e=!0)},o(r){I(n.$$.fragment,r),e=!1},d(r){r&&h(t),_e(n)}}}function Lt(i){let t,n,l=i[1][i[8].type]&&wt(i);return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[1][e[8].type]?l?(l.p(e,r),r&6&&A(l,1)):(l=wt(e),l.c(),A(l,1),l.m(t.parentNode,t)):l&&(Z(),I(l,1,1,()=>{l=null}),x())},i(e){n||(A(l),n=!0)},o(e){I(l),n=!1},d(e){e&&h(t),l&&l.d(e)}}}function St(i){let t=i[0].length===0||i[5].toLowerCase().match(i[0].toLowerCase()),n,l,e=t&&Ct(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&5&&(t=r[0].length===0||r[5].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,s),s&5&&A(e,1)):(e=Ct(r),e.c(),A(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function Ul(i){let t,n,l=J(Object.keys(i[2]).sort(Ye)),e=[];for(let s=0;s<l.length;s+=1)e[s]=St(kt(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=W()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=W()},m(s,a){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,a);T(s,t,a),n=!0},p(s,[a]){if(a&15){l=J(Object.keys(s[2]).sort(Ye));let o;for(o=0;o<l.length;o+=1){const u=kt(s,l,o);e[o]?(e[o].p(u,a),A(e[o],1)):(e[o]=St(u),e[o].c(),A(e[o],1),e[o].m(t.parentNode,t))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)A(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),ve(e,s)}}}function Ol(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),a={};for(const o of e)o.tags.forEach(c=>{a[c]||n(2,a[c]=[],a),a[c].push(o)});return Object.keys(a).forEach(o=>{a[o].sort((u,c)=>{const _=u.artist.toLowerCase(),f=c.artist.toLowerCase(),w=u.title.toLowerCase(),m=c.title.toLowerCase();return _<f?-1:_>f?1:w<m?-1:1})}),i.$$set=o=>{"searchString"in o&&n(0,l=o.searchString),"chords"in o&&n(4,e=o.chords),"filters"in o&&n(1,r=o.filters)},[l,r,a,s,e]}class Pl extends Ce{constructor(t){super(),we(this,t,Ol,Ul,oe,{searchString:0,chords:4,filters:1})}}function Tt(i,t,n){const l=i.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function Et(i){let t,n,l,e,r,s=i[6]&&At(i);return l=new Me({props:{chord:i[5],showArtist:!0}}),{c(){t=b("li"),s&&s.c(),n=B(),ue(l.$$.fragment),e=B(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=y(t);s&&s.l(o),n=$(o),pe(l.$$.fragment,o),e=$(o),o.forEach(h),this.h()},h(){S(t,"class","ul2col-item")},m(a,o){T(a,t,o),s&&s.m(t,null),d(t,n),he(l,t,null),d(t,e),r=!0},p(a,o){a[6]?s?s.p(a,o):(s=At(a),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[5]),l.$set(u)},i(a){r||(A(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&h(t),s&&s.d(),_e(l)}}}function At(i){let t,n=i[6].count+"",l,e;return{c(){t=V("("),l=V(n),e=V(")")},l(r){t=M(r,"("),l=M(r,n),e=M(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Ve(l,n)},d(r){r&&(h(t),h(l),h(e))}}}function Nt(i){let t=i[4](i[5],i[1],i[2]),n,l,e=t&&Et(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&A(e,1)):(e=Et(r),e.c(),A(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function yt(i){let t,n,l=J(i[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=Nt(Tt(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=b("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=y(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){S(t,"class","ul2col-container")},m(s,a){T(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&31){l=J(s[0]);let o;for(o=0;o<l.length;o+=1){const u=Tt(s,l,o);e[o]?(e[o].p(u,a),A(e[o],1)):(e[o]=Nt(u),e[o].c(),A(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)A(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),ve(e,s)}}}function Vl(i){let t=i[0],n,l,e=yt(i);return{c(){e.c(),n=W()},l(r){e.l(r),n=W()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&oe(t,t=r[0])?(Z(),I(e,1,1,te),x(),e=yt(r),e.c(),A(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e.d(r)}}}function Ml(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Pe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,c)=>{const _=o.get(u.url),f=o.get(c.url);return _&&f?_.count!==f.count?f.count-_.count:f.lastAccessDateUnix-_.lastAccessDateUnix:_?-1:f?1:u.artist!=c.artist?u.artist.toLowerCase()<c.artist.toLowerCase()?-1:1:u.title.toLowerCase()<c.title.toLowerCase()?-1:1})))});const a=(o,u,c)=>c[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return i.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,a]}class Hl extends Ce{constructor(t){super(),we(this,t,Ml,Vl,oe,{searchString:1,chords:0,filters:2})}}function Bt(i){const t=i[1](i[3]);i[4]=t;const n=i[2](i[3]);i[5]=n}function $t(i,t,n){const l=i.slice();return l[6]=t[n],l}function Dt(i){let t,n,l,e,r,s="Close",a,o,u,c={ctx:i,current:null,token:null,hasCatch:!0,pending:jl,then:ql,catch:Rl,value:3,error:9};return dl(tl(),c),{c(){t=b("div"),n=b("div"),l=b("h3"),e=V(`Urls checks
                `),r=b("button"),r.textContent=s,a=B(),c.block.c(),this.h()},l(_){t=C(_,"DIV",{role:!0,class:!0});var f=y(t);n=C(f,"DIV",{class:!0});var w=y(n);l=C(w,"H3",{class:!0});var m=y(l);e=M(m,`Urls checks
                `),r=C(m,"BUTTON",{"data-svelte-h":!0}),Y(r)!=="svelte-2m9p61"&&(r.textContent=s),m.forEach(h),a=$(w),c.block.l(w),w.forEach(h),f.forEach(h),this.h()},h(){S(l,"class","title-bar svelte-1b7k28l"),S(n,"class","contents svelte-1b7k28l"),S(t,"role","dialog"),S(t,"class","modal svelte-1b7k28l")},m(_,f){T(_,t,f),d(t,n),d(n,l),d(l,e),d(l,r),d(n,a),c.block.m(n,c.anchor=null),c.mount=()=>n,c.anchor=null,o||(u=ne(r,"click",il),o=!0)},p(_,f){i=_,ml(c,i,f)},d(_){_&&h(t),c.block.d(),c.token=null,c=null,o=!1,u()}}}function Rl(i){let t,n,l=i[9].message+"",e;return{c(){t=b("p"),n=V("Could not retrieve checks: "),e=V(l),this.h()},l(r){t=C(r,"P",{style:!0});var s=y(t);n=M(s,"Could not retrieve checks: "),e=M(s,l),s.forEach(h),this.h()},h(){qe(t,"color","red")},m(r,s){T(r,t,s),d(t,n),d(t,e)},p:te,d(r){r&&h(t)}}}function ql(i){Bt(i);let t,n,l="Last Check",e,r,s="Checks",a,o,u="Skipped",c,_,f="Errors",w,m,D=i[4]+"",p,v,k,O=i[3].nbChecks+"",L,N,P,X=i[3].nbSkipped+"",se,z,ie,He=i[3].nbFails+"",Be,ae,Ae,de,Q,ke,me="Status",Le,Se,Oe="Ref",$e,re,Re="Host",De,le,Ie="Data",G,ce=J(i[5]),K=[];for(let H=0;H<ce.length;H+=1)K[H]=It($t(i,ce,H));return{c(){t=b("div"),n=b("span"),n.textContent=l,e=B(),r=b("span"),r.textContent=s,a=B(),o=b("span"),o.textContent=u,c=B(),_=b("span"),_.textContent=f,w=B(),m=b("span"),p=V(D),v=B(),k=b("span"),L=V(O),N=B(),P=b("span"),se=V(X),z=B(),ie=b("span"),Be=V(He),ae=B(),Ae=b("br"),de=B(),Q=b("div"),ke=b("span"),ke.textContent=me,Le=B(),Se=b("span"),Se.textContent=Oe,$e=B(),re=b("span"),re.textContent=Re,De=B(),le=b("span"),le.textContent=Ie,G=B();for(let H=0;H<K.length;H+=1)K[H].c();this.h()},l(H){t=C(H,"DIV",{class:!0});var q=y(t);n=C(q,"SPAN",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1lbvzb0"&&(n.textContent=l),e=$(q),r=C(q,"SPAN",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1wmxeaf"&&(r.textContent=s),a=$(q),o=C(q,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-txun94"&&(o.textContent=u),c=$(q),_=C(q,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_)!=="svelte-5mrj6x"&&(_.textContent=f),w=$(q),m=C(q,"SPAN",{class:!0});var j=y(m);p=M(j,D),j.forEach(h),v=$(q),k=C(q,"SPAN",{class:!0});var R=y(k);L=M(R,O),R.forEach(h),N=$(q),P=C(q,"SPAN",{class:!0});var Fe=y(P);se=M(Fe,X),Fe.forEach(h),z=$(q),ie=C(q,"SPAN",{class:!0});var Ee=y(ie);Be=M(Ee,He),Ee.forEach(h),q.forEach(h),ae=$(H),Ae=C(H,"BR",{}),de=$(H),Q=C(H,"DIV",{class:!0});var F=y(Q);ke=C(F,"SPAN",{class:!0,"data-svelte-h":!0}),Y(ke)!=="svelte-1s7ffxq"&&(ke.textContent=me),Le=$(F),Se=C(F,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Se)!=="svelte-1wa8gqx"&&(Se.textContent=Oe),$e=$(F),re=C(F,"SPAN",{class:!0,"data-svelte-h":!0}),Y(re)!=="svelte-33rgke"&&(re.textContent=Re),De=$(F),le=C(F,"SPAN",{class:!0,"data-svelte-h":!0}),Y(le)!=="svelte-1yzk30k"&&(le.textContent=Ie),G=$(F);for(let Te=0;Te<K.length;Te+=1)K[Te].l(F);F.forEach(h),this.h()},h(){S(n,"class","col table-head svelte-1b7k28l"),S(r,"class","col table-head svelte-1b7k28l"),S(o,"class","col table-head svelte-1b7k28l"),S(_,"class","col table-head svelte-1b7k28l"),S(m,"class","col svelte-1b7k28l"),S(k,"class","col svelte-1b7k28l"),S(P,"class","col svelte-1b7k28l"),S(ie,"class","col svelte-1b7k28l"),S(t,"class","rows svelte-1b7k28l"),S(ke,"class","col table-head svelte-1b7k28l"),S(Se,"class","col table-head svelte-1b7k28l"),S(re,"class","col table-head svelte-1b7k28l"),S(le,"class","col table-head svelte-1b7k28l"),S(Q,"class","rows svelte-1b7k28l")},m(H,q){T(H,t,q),d(t,n),d(t,e),d(t,r),d(t,a),d(t,o),d(t,c),d(t,_),d(t,w),d(t,m),d(m,p),d(t,v),d(t,k),d(k,L),d(t,N),d(t,P),d(P,se),d(t,z),d(t,ie),d(ie,Be),T(H,ae,q),T(H,Ae,q),T(H,de,q),T(H,Q,q),d(Q,ke),d(Q,Le),d(Q,Se),d(Q,$e),d(Q,re),d(Q,De),d(Q,le),d(Q,G);for(let j=0;j<K.length;j+=1)K[j]&&K[j].m(Q,null)},p(H,q){if(Bt(H),q&4){ce=J(H[5]);let j;for(j=0;j<ce.length;j+=1){const R=$t(H,ce,j);K[j]?K[j].p(R,q):(K[j]=It(R),K[j].c(),K[j].m(Q,null))}for(;j<K.length;j+=1)K[j].d(1);K.length=ce.length}},d(H){H&&(h(t),h(ae),h(Ae),h(de),h(Q)),ve(K,H)}}}function It(i){let t,n=i[6].status+"",l,e,r,s=i[6].chord.artist+"",a,o,u=i[6].chord.title+"",c,_,f,w,m=new URL(i[6].chord.url).hostname+"",D,p,v,k=(i[6].error?JSON.stringify(i[6].error):"")+"",O;return{c(){t=b("span"),l=V(n),e=B(),r=b("span"),a=V(s),o=V(" - "),c=V(u),_=B(),f=b("span"),w=b("a"),D=V(m),p=B(),v=b("span"),O=V(k),this.h()},l(L){t=C(L,"SPAN",{class:!0});var N=y(t);l=M(N,n),N.forEach(h),e=$(L),r=C(L,"SPAN",{class:!0});var P=y(r);a=M(P,s),o=M(P," - "),c=M(P,u),P.forEach(h),_=$(L),f=C(L,"SPAN",{class:!0});var X=y(f);w=C(X,"A",{href:!0,target:!0,rel:!0});var se=y(w);D=M(se,m),se.forEach(h),X.forEach(h),p=$(L),v=C(L,"SPAN",{class:!0});var z=y(v);O=M(z,k),z.forEach(h),this.h()},h(){S(t,"class","col svelte-1b7k28l"),S(r,"class","col svelte-1b7k28l"),S(w,"href",i[6].chord.url),S(w,"target","_blank"),S(w,"rel","noopener noreferrer"),S(f,"class","col svelte-1b7k28l"),S(v,"class","col svelte-1b7k28l")},m(L,N){T(L,t,N),d(t,l),T(L,e,N),T(L,r,N),d(r,a),d(r,o),d(r,c),T(L,_,N),T(L,f,N),d(f,w),d(w,D),T(L,p,N),T(L,v,N),d(v,O)},p:te,d(L){L&&(h(t),h(e),h(r),h(_),h(f),h(p),h(v))}}}function jl(i){let t,n="Fetching results...";return{c(){t=b("p"),t.textContent=n},l(l){t=C(l,"P",{"data-svelte-h":!0}),Y(t)!=="svelte-gjakbw"&&(t.textContent=n)},m(l,e){T(l,t,e)},p:te,d(l){l&&h(t)}}}function Fl(i){let t,n=i[0]&&Dt(i);return{c(){n&&n.c(),t=W()},l(l){n&&n.l(l),t=W()},m(l,e){n&&n.m(l,e),T(l,t,e)},p(l,[e]){l[0]?n?n.p(l,e):(n=Dt(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:te,o:te,d(l){l&&h(t),n&&n.d(l)}}}function zl(i,t,n){let{isOpen:l}=t;const e=s=>{const a=new Date(s.timestamp);return a.toDateString()+" "+a.toTimeString()},r=s=>s.fails.sort((a,o)=>a.chord.url<o.chord.url?-1:1);return i.$$set=s=>{"isOpen"in s&&n(0,l=s.isOpen)},[l,e,r]}class Jl extends Ce{constructor(t){super(),we(this,t,zl,Fl,oe,{isOpen:0})}}function Ut(i,t,n){const l=i.slice();return l[10]=t[n],l}function Ot(i){let t,n=i[10].dateTag+"",l;return{c(){t=b("li"),l=V(n),this.h()},l(e){t=C(e,"LI",{class:!0});var r=y(t);l=M(r,n),r.forEach(h),this.h()},h(){S(t,"class","ul2col-separator")},m(e,r){T(e,t,r),d(t,l)},p(e,r){r&1&&n!==(n=e[10].dateTag+"")&&Ve(l,n)},d(e){e&&h(t)}}}function Pt(i){let t,n,l,e,r,s=i[10].dateTag&&Ot(i);return l=new Me({props:{chord:i[10]}}),{c(){s&&s.c(),t=B(),n=b("li"),ue(l.$$.fragment),e=B(),this.h()},l(a){s&&s.l(a),t=$(a),n=C(a,"LI",{class:!0});var o=y(n);pe(l.$$.fragment,o),e=$(o),o.forEach(h),this.h()},h(){S(n,"class","ul2col-item")},m(a,o){s&&s.m(a,o),T(a,t,o),T(a,n,o),he(l,n,null),d(n,e),r=!0},p(a,o){a[10].dateTag?s?s.p(a,o):(s=Ot(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[10]),l.$set(u)},i(a){r||(A(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&(h(t),h(n)),s&&s.d(a),_e(l)}}}function Gl(i){let t,n,l,e,r="More...",s,a,o,u,c,_=J(i[0]),f=[];for(let m=0;m<_.length;m+=1)f[m]=Pt(Ut(i,_,m));const w=m=>I(f[m],1,1,()=>{f[m]=null});return{c(){t=b("div"),n=b("h3"),l=V(`Latest additions
        `),e=b("button"),e.textContent=r,s=B(),a=b("ul");for(let m=0;m<f.length;m+=1)f[m].c();this.h()},l(m){t=C(m,"DIV",{});var D=y(t);n=C(D,"H3",{});var p=y(n);l=M(p,`Latest additions
        `),e=C(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-l2h3rt"&&(e.textContent=r),p.forEach(h),s=$(D),a=C(D,"UL",{class:!0});var v=y(a);for(let k=0;k<f.length;k+=1)f[k].l(v);v.forEach(h),D.forEach(h),this.h()},h(){S(e,"class","pull-right"),S(a,"class","ul2col-container")},m(m,D){T(m,t,D),d(t,n),d(n,l),d(n,e),d(t,s),d(t,a);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(a,null);o=!0,u||(c=ne(e,"click",i[3]),u=!0)},p(m,[D]){if(D&1){_=J(m[0]);let p;for(p=0;p<_.length;p+=1){const v=Ut(m,_,p);f[p]?(f[p].p(v,D),A(f[p],1)):(f[p]=Pt(v),f[p].c(),A(f[p],1),f[p].m(a,null))}for(Z(),p=_.length;p<f.length;p+=1)w(p);x()}},i(m){if(!o){for(let D=0;D<_.length;D+=1)A(f[D]);o=!0}},o(m){f=f.filter(Boolean);for(let D=0;D<f.length;D+=1)I(f[D]);o=!1},d(m){m&&h(t),ve(f,m),u=!1,c()}}}function Kl(i,t,n){let{chords:l}=t;const e=Date.now(),r=1e3*3600*24*7,s=r*4,a=[{label:"last week",time:e-r},{label:"one month ago",time:e-s},{label:"two monthes ago",time:e-2*s},{label:"six monthes ago",time:e-6*s},{label:"one year ago",time:e-12*s}],o=l.filter(w=>w.creationDate).sort((w,m)=>m.creationDate-w.creationDate).map((w,m,D)=>{const p={...w};if(m>0){const v=D[m-1];for(const{time:k,label:O}of a)v.creationDate>k&&w.creationDate<k&&(p.dateTag=O)}return p});let u=6,c=[];const _=()=>{u+=4,n(0,c=o.slice(0,u))};Qe(()=>{_()});const f=()=>_();return i.$$set=w=>{"chords"in w&&n(2,l=w.chords)},[c,_,l,f]}class Xl extends Ce{constructor(t){super(),we(this,t,Kl,Gl,oe,{chords:2})}}function Vt(i,t,n){const l=i.slice();return l[5]=t[n],l}function Mt(i){let t,n=" ↶ ",l,e;return{c(){t=b("button"),t.textContent=n},l(r){t=C(r,"BUTTON",{"data-svelte-h":!0}),Y(t)!=="svelte-1mg1zky"&&(t.textContent=n)},m(r,s){T(r,t,s),l||(e=ne(t,"click",i[3]),l=!0)},p:te,d(r){r&&h(t),l=!1,e()}}}function Ht(i,t){let n,l,e,r;return l=new Me({props:{chord:t[5],showArtist:!0}}),{key:i,first:null,c(){n=b("li"),ue(l.$$.fragment),e=B(),this.h()},l(s){n=C(s,"LI",{class:!0});var a=y(n);pe(l.$$.fragment,a),e=$(a),a.forEach(h),this.h()},h(){S(n,"class","ul2col-item"),this.first=n},m(s,a){T(s,n,a),he(l,n,null),d(n,e),r=!0},p(s,a){t=s;const o={};a&2&&(o.chord=t[5]),l.$set(o)},i(s){r||(A(l.$$.fragment,s),r=!0)},o(s){I(l.$$.fragment,s),r=!1},d(s){s&&h(n),_e(l)}}}function Yl(i){let t,n,l,e,r,s,a="Get more random songs",o,u,c,_,f=[],w=new Map,m,D,p,v=i[0].length>Ne&&Mt(i),k=J(i[1]);const O=L=>L[5].url;for(let L=0;L<k.length;L+=1){let N=Vt(i,k,L),P=O(N);w.set(P,f[L]=Ht(P,N))}return{c(){t=b("div"),n=b("h3"),l=V(`Random song
        `),e=b("span"),v&&v.c(),r=B(),s=b("button"),s.textContent=a,o=B(),u=b("br"),c=B(),_=b("ul");for(let L=0;L<f.length;L+=1)f[L].c();this.h()},l(L){t=C(L,"DIV",{});var N=y(t);n=C(N,"H3",{});var P=y(n);l=M(P,`Random song
        `),e=C(P,"SPAN",{class:!0});var X=y(e);v&&v.l(X),r=$(X),s=C(X,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-1gfm3kd"&&(s.textContent=a),X.forEach(h),P.forEach(h),o=$(N),u=C(N,"BR",{}),c=$(N),_=C(N,"UL",{class:!0});var se=y(_);for(let z=0;z<f.length;z+=1)f[z].l(se);se.forEach(h),N.forEach(h),this.h()},h(){S(e,"class","pull-right"),S(_,"class","ul2col-container")},m(L,N){T(L,t,N),d(t,n),d(n,l),d(n,e),v&&v.m(e,null),d(e,r),d(e,s),d(t,o),d(t,u),d(t,c),d(t,_);for(let P=0;P<f.length;P+=1)f[P]&&f[P].m(_,null);m=!0,D||(p=ne(s,"click",i[2]),D=!0)},p(L,[N]){L[0].length>Ne?v?v.p(L,N):(v=Mt(L),v.c(),v.m(e,r)):v&&(v.d(1),v=null),N&2&&(k=J(L[1]),Z(),f=rl(f,N,O,1,L,k,w,_,ol,Ht,null,Vt),x())},i(L){if(!m){for(let N=0;N<k.length;N+=1)A(f[N]);m=!0}},o(L){for(let N=0;N<f.length;N+=1)I(f[N]);m=!1},d(L){L&&h(t),v&&v.d();for(let N=0;N<f.length;N+=1)f[N].d();D=!1,p()}}}const Ne=6;function Wl(i,t,n){let{chords:l}=t,e=[],r=[];const s=()=>{e.length>=l.length-Ne&&n(0,e=[]);for(let o=0;o<Ne;o++){let u=-1;for(;u===-1||e.includes(u);)u=Math.floor(Math.random()*l.length);e.push(u)}n(1,r=e.slice(e.length-Ne).map(o=>l[o]))},a=()=>{e.length<=Ne||(e.splice(e.length-Ne),n(1,r=e.slice(e.length-Ne).map(o=>l[o])))};return Qe(()=>{s()}),i.$$set=o=>{"chords"in o&&n(4,l=o.chords)},[e,r,s,a,l]}class Ql extends Ce{constructor(t){super(),we(this,t,Wl,Yl,oe,{chords:4})}}function Rt(i,t,n){const l=i.slice();return l[17]=t[n],l}function qt(i,t,n){const l=i.slice();return l[20]=t[n],l[21]=t,l[22]=n,l}function jt(i,t,n){const l=i.slice();return l[23]=t[n],l}function Ft(i){let t,n;return t=new Sl({props:{item:i[23]}}),{c(){ue(t.$$.fragment)},l(l){pe(t.$$.fragment,l)},m(l,e){he(t,l,e),n=!0},p(l,e){const r={};e&1&&(r.item=l[23]),t.$set(r)},i(l){n||(A(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){_e(t,l)}}}function zt(i){let t,n,l,e,r,s,a;function o(){i[12].call(n,i[20])}function u(){return i[13](i[20])}return{c(){t=b("button"),n=b("input"),l=B(),e=b("span"),r=B(),this.h()},l(c){t=C(c,"BUTTON",{class:!0});var _=y(t);n=C(_,"INPUT",{id:!0,type:!0}),l=$(_),e=C(_,"SPAN",{class:!0}),y(e).forEach(h),r=$(_),_.forEach(h),this.h()},h(){S(n,"id",i[20]),S(n,"type","checkbox"),S(e,"class",Ge(Xe(i[20]))+" svelte-kiyfxh"),S(t,"class","filter-control svelte-kiyfxh")},m(c,_){T(c,t,_),d(t,n),n.checked=i[3][i[20]],d(t,l),d(t,e),d(t,r),s||(a=[ne(n,"change",o),ne(t,"click",u)],s=!0)},p(c,_){i=c,_&72&&(n.checked=i[3][i[20]])},d(c){c&&h(t),s=!1,We(a)}}}function Jt(i){let t,n=i[17].label+"",l,e,r,s;function a(){return i[14](i[17])}return{c(){t=b("button"),l=V(n),e=B(),this.h()},l(o){t=C(o,"BUTTON",{class:!0});var u=y(t);l=M(u,n),e=$(u),u.forEach(h),this.h()},h(){S(t,"class","control svelte-kiyfxh"),ye(t,"selected",i[2]===i[17])},m(o,u){T(o,t,u),d(t,l),d(t,e),r||(s=ne(t,"click",a),r=!0)},p(o,u){i=o,u&36&&ye(t,"selected",i[2]===i[17])},d(o){o&&h(t),r=!1,s()}}}function Zl(i){let t,n,l,e,r,s,a="Check dead links",o,u,c="Edit",_,f,w,m,D,p,v=i[4].length+"",k,O,L,N,P,X,se,z,ie,He="All songs",Be,ae,Ae,de,Q='<i class="fas fa-times-circle"></i>',ke,me,Le,Se="Filters",Oe,$e,re,Re="View",De,le,Ie,G,ce,K,H,q;t=new cl({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}});let j=J(i[0]),R=[];for(let g=0;g<j.length;g+=1)R[g]=Ft(jt(i,j,g));const Fe=g=>I(R[g],1,1,()=>{R[g]=null});w=new Cl({}),N=new Xl({props:{chords:i[4]}}),X=new Ql({props:{chords:i[4]}});let Ee=J(i[6]),F=[];for(let g=0;g<Ee.length;g+=1)F[g]=zt(qt(i,Ee,g));let Te=J(i[5]),ee=[];for(let g=0;g<Te.length;g+=1)ee[g]=Jt(Rt(i,Te,g));var Ue=i[2].component;function Ze(g,U){return{props:{chords:g[4],searchString:g[1],filters:g[3]}}}return Ue&&(G=et(Ue,Ze(i))),{c(){ue(t.$$.fragment),n=B(),l=b("h2"),e=V(`Song book
    `),r=b("span"),s=b("button"),s.textContent=a,o=B(),u=b("button"),u.textContent=c,_=B();for(let g=0;g<R.length;g+=1)R[g].c();f=B(),ue(w.$$.fragment),m=B(),D=b("p"),p=V("This is a list of "),k=V(v),O=V(` song chords I have been gathering for the past 10 years and that
    I like to play.`),L=B(),ue(N.$$.fragment),P=B(),ue(X.$$.fragment),se=B(),z=b("div"),ie=b("h3"),ie.textContent=He,Be=V(`
    Search an artist, a title or a tag:`),ae=b("input"),Ae=B(),de=b("button"),de.innerHTML=Q,ke=B(),me=b("div"),Le=b("h4"),Le.textContent=Se,Oe=B();for(let g=0;g<F.length;g+=1)F[g].c();$e=B(),re=b("h4"),re.textContent=Re,De=B(),le=b("div");for(let g=0;g<ee.length;g+=1)ee[g].c();Ie=B(),G&&ue(G.$$.fragment),ce=W(),this.h()},l(g){pe(t.$$.fragment,g),n=$(g),l=C(g,"H2",{});var U=y(l);e=M(U,`Song book
    `),r=C(U,"SPAN",{class:!0});var E=y(r);s=C(E,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-13v6ylk"&&(s.textContent=a),o=$(E),u=C(E,"BUTTON",{"data-svelte-h":!0}),Y(u)!=="svelte-18v2orh"&&(u.textContent=c),E.forEach(h),U.forEach(h),_=$(g);for(let be=0;be<R.length;be+=1)R[be].l(g);f=$(g),pe(w.$$.fragment,g),m=$(g),D=C(g,"P",{});var fe=y(D);p=M(fe,"This is a list of "),k=M(fe,v),O=M(fe,` song chords I have been gathering for the past 10 years and that
    I like to play.`),fe.forEach(h),L=$(g),pe(N.$$.fragment,g),P=$(g),pe(X.$$.fragment,g),se=$(g),z=C(g,"DIV",{});var ge=y(z);ie=C(ge,"H3",{"data-svelte-h":!0}),Y(ie)!=="svelte-bfvigd"&&(ie.textContent=He),Be=M(ge,`
    Search an artist, a title or a tag:`),ae=C(ge,"INPUT",{type:!0}),Ae=$(ge),de=C(ge,"BUTTON",{"data-svelte-h":!0}),Y(de)!=="svelte-5nqbye"&&(de.innerHTML=Q),ke=$(ge),me=C(ge,"DIV",{class:!0});var ze=y(me);Le=C(ze,"H4",{"data-svelte-h":!0}),Y(Le)!=="svelte-xazxp3"&&(Le.textContent=Se),Oe=$(ze);for(let be=0;be<F.length;be+=1)F[be].l(ze);ze.forEach(h),$e=$(ge),re=C(ge,"H4",{"data-svelte-h":!0}),Y(re)!=="svelte-1yp5l9r"&&(re.textContent=Re),De=$(ge),le=C(ge,"DIV",{class:!0});var xe=y(le);for(let be=0;be<ee.length;be+=1)ee[be].l(xe);xe.forEach(h),ge.forEach(h),Ie=$(g),G&&pe(G.$$.fragment,g),ce=W(),this.h()},h(){qe(s,"position","relative"),qe(u,"position","relative"),S(r,"class","pull-right"),S(ae,"type","text"),S(me,"class","filter-controls-container svelte-kiyfxh"),S(le,"class","view-controls-container svelte-kiyfxh")},m(g,U){he(t,g,U),T(g,n,U),T(g,l,U),d(l,e),d(l,r),d(r,s),d(r,o),d(r,u),T(g,_,U);for(let E=0;E<R.length;E+=1)R[E]&&R[E].m(g,U);T(g,f,U),he(w,g,U),T(g,m,U),T(g,D,U),d(D,p),d(D,k),d(D,O),T(g,L,U),he(N,g,U),T(g,P,U),he(X,g,U),T(g,se,U),T(g,z,U),d(z,ie),d(z,Be),d(z,ae),tt(ae,i[1]),d(z,Ae),d(z,de),d(z,ke),d(z,me),d(me,Le),d(me,Oe);for(let E=0;E<F.length;E+=1)F[E]&&F[E].m(me,null);d(z,$e),d(z,re),d(z,De),d(z,le);for(let E=0;E<ee.length;E+=1)ee[E]&&ee[E].m(le,null);T(g,Ie,U),G&&he(G,g,U),T(g,ce,U),K=!0,H||(q=[ne(s,"click",i[8]),ne(u,"click",i[9]),ne(ae,"input",i[10]),ne(de,"click",i[11])],H=!0)},p(g,[U]){if(U&1){j=J(g[0]);let E;for(E=0;E<j.length;E+=1){const fe=jt(g,j,E);R[E]?(R[E].p(fe,U),A(R[E],1)):(R[E]=Ft(fe),R[E].c(),A(R[E],1),R[E].m(f.parentNode,f))}for(Z(),E=j.length;E<R.length;E+=1)Fe(E);x()}if(U&2&&ae.value!==g[1]&&tt(ae,g[1]),U&72){Ee=J(g[6]);let E;for(E=0;E<Ee.length;E+=1){const fe=qt(g,Ee,E);F[E]?F[E].p(fe,U):(F[E]=zt(fe),F[E].c(),F[E].m(me,null))}for(;E<F.length;E+=1)F[E].d(1);F.length=Ee.length}if(U&36){Te=J(g[5]);let E;for(E=0;E<Te.length;E+=1){const fe=Rt(g,Te,E);ee[E]?ee[E].p(fe,U):(ee[E]=Jt(fe),ee[E].c(),ee[E].m(le,null))}for(;E<ee.length;E+=1)ee[E].d(1);ee.length=Te.length}if(U&4&&Ue!==(Ue=g[2].component)){if(G){Z();const E=G;I(E.$$.fragment,1,0,()=>{_e(E,1)}),x()}Ue?(G=et(Ue,Ze(g)),ue(G.$$.fragment),A(G.$$.fragment,1),he(G,ce.parentNode,ce)):G=null}else if(Ue){const E={};U&2&&(E.searchString=g[1]),U&8&&(E.filters=g[3]),G.$set(E)}},i(g){if(!K){A(t.$$.fragment,g);for(let U=0;U<j.length;U+=1)A(R[U]);A(w.$$.fragment,g),A(N.$$.fragment,g),A(X.$$.fragment,g),G&&A(G.$$.fragment,g),K=!0}},o(g){I(t.$$.fragment,g),R=R.filter(Boolean);for(let U=0;U<R.length;U+=1)I(R[U]);I(w.$$.fragment,g),I(N.$$.fragment,g),I(X.$$.fragment,g),G&&I(G.$$.fragment,g),K=!1},d(g){g&&(h(n),h(l),h(_),h(f),h(m),h(D),h(L),h(P),h(se),h(z),h(Ie),h(ce)),_e(t,g),ve(R,g),_e(w,g),_e(N,g),_e(X,g),ve(F,g),ve(ee,g),G&&_e(G,g),H=!1,We(q)}}}function xl(i,t,n){let l;Yt(i,je,L=>n(15,l=L));let{data:e}=t;const{chords:r}=e;let s=[];const a=L=>{s.push(L),n(0,s),setTimeout(()=>{s.shift(),n(0,s)},5e3)};Qe(async()=>{try{if(l.length){for(const L of l)await Kt(L);a({level:"info",header:`Counted ${l.length} missed visits`}),Wt(je,l=[],l)}}catch{a({level:"error",header:"Couldnt upload failed visit counts"})}try{const N=(await ll()).reduce((P,X)=>(P.set(X.url,{...X}),P),new Map);Pe.set(N)}catch{a({level:"error",header:"Couldnt upload failed visit counts"})}});let o="";const u=[{label:"By artist",component:Il},{label:"By tags",component:Pl},{label:"By frequency",component:Hl},{label:"By access date",component:yl}];let c=u[0],_={pdf:!0,doc:!0,youtube:!0,link:!0};const f=Object.keys(_),w=()=>al(Jl),m=()=>gl("/songbook/edit");function D(){o=this.value,n(1,o)}const p=()=>n(1,o="");function v(L){_[L]=this.checked,n(3,_)}const k=L=>{n(3,_[L]=!_[L],_),n(3,_)},O=L=>n(2,c=L);return i.$$set=L=>{"data"in L&&n(7,e=L.data)},[s,o,c,_,r,u,f,e,w,m,D,p,v,k,O]}class gn extends Ce{constructor(t){super(),we(this,t,xl,Zl,oe,{data:7})}}export{gn as component,dn as universal};
