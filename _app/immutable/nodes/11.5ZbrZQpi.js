import{s as ne,f as y,g as C,h as S,d as g,j as V,i as N,r as q,H as rt,a as B,e as J,M as Z,c as L,G as T,w as le,A as st,l as U,m as z,k as ct,O as te,L as Ne,T as fe,S as Ie,n as it,R as $e}from"../chunks/scheduler.JOg8NEYR.js";import{S as de,i as ue,b as ge,d as me,m as _e,a as R,t as G,e as ve,g as Te,c as ye}from"../chunks/index.LkMwavup.js";import{e as W}from"../chunks/each.7LNSErVp.js";import{P as at}from"../chunks/P5.JM8rPwsR.js";import{a as ft,o as ht}from"../chunks/store._TEP_kO9.js";const Y=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Ce=r=>{if(r<1||r>7)throw new Error(`Unkown degree ${r}`);return["I","II","III","IV","V","VI","VII"][r-1]};function dt(r){let e,n,t;return n=new at({props:{sketch:r[0]}}),{c(){e=y("div"),ge(n.$$.fragment),this.h()},l(l){e=C(l,"DIV",{class:!0});var o=S(e);me(n.$$.fragment,o),o.forEach(g),this.h()},h(){V(e,"class","d-flex justify-content-center")},m(l,o){N(l,e,o),_e(n,e,null),t=!0},p:q,i(l){t||(R(n.$$.fragment,l),t=!0)},o(l){G(n.$$.fragment,l),t=!1},d(l){l&&g(e),ve(n)}}}const we=14;function ut(r,e,n){let t,{labelMode:l="name"}=e,{notesToDisplay:o}=e;const v=["C","D","E","F","G","A","B"],b=["C#","D#","F#","G#","A#"],m=a=>{const s=[80,70,60,150],h=[80,70,60],f=a.width/we;for(let p=0;p<we;p++){const w=v[p%v.length];a.strokeWeight(1),a.stroke(s),a.noFill(),a.rect(f*p,0,f,a.height);const d=w+"#";b.includes(d)&&(a.fill(h),a.rect(f*p+2*f/3,0,f/2,a.height*.65))}},$=(a,s,h)=>{if(h==="name")return s;const f=a.indexOf(s);if(f===-1)throw new Error("note not in scale");return Ce(f+1)},E=a=>{const s=a.width/we;for(let h=0;h<we;h++){const f=v[h%v.length],p=o.indexOf(f);if(p>=0){p===0?a.fill([250,80,80]):a.fill("black");const u=s*h+s/2,i=a.height*.8;a.circle(u,i,20),a.noStroke(),a.fill("white");const _=$(o,f,l);a.text(_,u-a.textWidth(_)/2,i+a.textSize()/2)}const w=f+"#",d=o.indexOf(w);if(d>=0){d===0?a.fill([250,80,80]):a.fill("black");const u=s*h+s,i=a.height*.5;a.circle(u,i,20),a.noStroke(),a.fill("white");const _=$(o,w,l);a.text(_,u-a.textWidth(_)/2,i+a.textSize()/2)}}},D=a=>{a.setup=()=>{n(3,t=a),a.createCanvas(900,300),a.textStyle(a.BOLD)},a.draw=()=>{a.background([200,190,170]),m(a),E(a),a.noLoop()}};return rt(()=>{t?.remove()}),r.$$set=a=>{"labelMode"in a&&n(1,l=a.labelMode),"notesToDisplay"in a&&n(2,o=a.notesToDisplay)},r.$$.update=()=>{r.$$.dirty&14&&(o||l)&&t?.draw()},[D,l,o,t]}class gt extends de{constructor(e){super(),ue(this,e,ut,dt,ne,{labelMode:1,notesToDisplay:2})}}function mt(r){let e,n,t;return n=new at({props:{sketch:r[0]}}),{c(){e=y("div"),ge(n.$$.fragment),this.h()},l(l){e=C(l,"DIV",{class:!0});var o=S(e);me(n.$$.fragment,o),o.forEach(g),this.h()},h(){V(e,"class","d-flex justify-content-center")},m(l,o){N(l,e,o),_e(n,e,null),t=!0},p:q,i(l){t||(R(n.$$.fragment,l),t=!0)},o(l){G(n.$$.fragment,l),t=!1},d(l){l&&g(e),ve(n)}}}const He=15,he=30;function _t(r,e,n){let t,{labelMode:l="name"}=e,{notesToDisplay:o}=e;const v=["E","A","D","G","B","E"],b=v.map(s=>{const h=Y.indexOf(s);if(h===-1)throw new Error(`Base ${s} not found`);const f=[s];for(let p=1;p<He;p++){const w=Y[(h+p)%Y.length];f.push(w)}return f}),m=s=>{const h=[80,70,60,150],f=s.height/6;for(let u=0;u<b.length;u++){const i=v[u],_=f*u+f/2;s.strokeWeight(1),s.stroke(h),s.noFill(),s.line(he,_,s.width,_),s.noStroke(),s.fill(h),s.text(i,5,s.height-_+s.textSize()/2)}s.strokeWeight(5),s.stroke(h),s.noFill(),s.line(he,f/2,he,s.height-f/2),s.strokeWeight(1);const p=s.width/b[0].length;for(let u=1;u<He;u++){const i=he+p*u;s.line(i,f/2,i,s.height-f/2)}const w=[3,5,7,9,15];for(const u of w){let{x:i,y:_}=D({string:2,fret:u});_-=f/2,s.fill(h),s.circle(i,_,10)}const d=[1,3];for(const u of d){let{x:i,y:_}=D({string:u,fret:12});_-=f/2,s.fill(h),s.circle(i,_,10)}},$=(s,h,f)=>{if(f==="name")return h;const p=s.indexOf(h);if(p===-1)throw new Error("note not in scale");return Ce(p+1)},E=s=>{for(let h=0;h<6;h++){const f=b[h];for(let p=0;p<f.length;p++){const w=f[p];if(!o.includes(w))continue;const d={string:h,fret:p},{x:u,y:i}=D(d);o.indexOf(w)===0?s.fill([250,80,80]):s.fill("black"),s.circle(u,i,20),s.noStroke(),s.fill("white");const _=$(o,w,l);s.text(_,u-s.textWidth(_)/2,i+s.textSize()/2)}}},D=s=>{const{string:h,fret:f}=s,p=t.height/6,w=p*(5-h)+p/2;if(f===0)return{x:he,y:w};const d=t.width/b[0].length;return{x:he+d*(f-1)+d*.5,y:w}},a=s=>{s.setup=()=>{n(3,t=s),s.createCanvas(900,300),s.textStyle(s.BOLD)},s.draw=()=>{s.background([200,190,170]),m(s),E(s),s.noLoop()}};return rt(()=>{t?.remove()}),r.$$set=s=>{"labelMode"in s&&n(1,l=s.labelMode),"notesToDisplay"in s&&n(2,o=s.notesToDisplay)},r.$$.update=()=>{r.$$.dirty&14&&(o||l)&&t?.draw()},[a,l,o,t]}class vt extends de{constructor(e){super(),ue(this,e,_t,mt,ne,{labelMode:1,notesToDisplay:2})}}function Pe(r){let e,n;return e=new vt({props:{notesToDisplay:r[0],labelMode:r[1]}}),{c(){ge(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,l){_e(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.notesToDisplay=t[0]),l&2&&(o.labelMode=t[1]),e.$set(o)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function Re(r){let e,n;return e=new gt({props:{notesToDisplay:r[0],labelMode:r[1]}}),{c(){ge(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,l){_e(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.notesToDisplay=t[0]),l&2&&(o.labelMode=t[1]),e.$set(o)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function bt(r){let e,n="Instrument",t,l,o,v="C / IV",b,m,$='<i class="fas fa-guitar"></i> / <i class="fas fa-keyboard"></i>',E,D=["neck","both"].includes(r[3][r[2]]),a,s=["keyboard","both"].includes(r[3][r[2]]),h,f,p,w,d=D&&Pe(r),u=s&&Re(r);return{c(){e=y("h3"),e.textContent=n,t=B(),l=y("div"),o=y("button"),o.textContent=v,b=B(),m=y("button"),m.innerHTML=$,E=B(),d&&d.c(),a=B(),u&&u.c(),h=J()},l(i){e=C(i,"H3",{"data-svelte-h":!0}),Z(e)!=="svelte-r64p2h"&&(e.textContent=n),t=L(i),l=C(i,"DIV",{});var _=S(l);o=C(_,"BUTTON",{"data-svelte-h":!0}),Z(o)!=="svelte-16iriab"&&(o.textContent=v),b=L(_),m=C(_,"BUTTON",{"data-svelte-h":!0}),Z(m)!=="svelte-1rhgwvu"&&(m.innerHTML=$),_.forEach(g),E=L(i),d&&d.l(i),a=L(i),u&&u.l(i),h=J()},m(i,_){N(i,e,_),N(i,t,_),N(i,l,_),T(l,o),T(l,b),T(l,m),N(i,E,_),d&&d.m(i,_),N(i,a,_),u&&u.m(i,_),N(i,h,_),f=!0,p||(w=[le(o,"click",r[4]),le(m,"click",r[5])],p=!0)},p(i,[_]){_&4&&(D=["neck","both"].includes(i[3][i[2]])),D?d?(d.p(i,_),_&4&&R(d,1)):(d=Pe(i),d.c(),R(d,1),d.m(a.parentNode,a)):d&&(Te(),G(d,1,1,()=>{d=null}),ye()),_&4&&(s=["keyboard","both"].includes(i[3][i[2]])),s?u?(u.p(i,_),_&4&&R(u,1)):(u=Re(i),u.c(),R(u,1),u.m(h.parentNode,h)):u&&(Te(),G(u,1,1,()=>{u=null}),ye())},i(i){f||(R(d),R(u),f=!0)},o(i){G(d),G(u),f=!1},d(i){i&&(g(e),g(t),g(l),g(E),g(a),g(h)),d&&d.d(i),u&&u.d(i),p=!1,st(w)}}}function pt(r,e,n){let{notesToDisplay:t}=e,l="name";const o=["neck","keyboard","both"];let v=0;const b=()=>n(1,l=l==="name"?"degree":"name"),m=()=>n(2,v=(v+1)%o.length);return r.$$set=$=>{"notesToDisplay"in $&&n(0,t=$.notesToDisplay)},[t,l,v,o,b,m]}class kt extends de{constructor(e){super(),ue(this,e,pt,bt,ne,{notesToDisplay:0})}}function Ve(r){let e,n,t,l,o,v="Close",b,m,$=`This is a list of chord progressions I took from David Benett&#39;s videos and elsewhere
                too

                <ul><li><a href="https://www.youtube.com/watch?v=Vyc8lezaa9g" rel="noopener noreferrer" target="_blank">David Benett - 7 super common chord progressions and why they work</a></li> <li><a href="https://www.youtube.com/watch?v=v3YbEL-_eoI" rel="noopener noreferrer" target="_blank">David Benett - 6 more common chord progressions and why they work</a></li></ul>

                The user can change the tonic note in the &quot;Scales&quot; section and the progressions will
                change the actual chords to play.`,E,D;return{c(){e=y("div"),n=y("div"),t=y("h4"),l=U(`Chord Progressions
                `),o=y("button"),o.textContent=v,b=B(),m=y("div"),m.innerHTML=$,this.h()},l(a){e=C(a,"DIV",{role:!0,class:!0});var s=S(e);n=C(s,"DIV",{class:!0});var h=S(n);t=C(h,"H4",{class:!0});var f=S(t);l=z(f,`Chord Progressions
                `),o=C(f,"BUTTON",{"data-svelte-h":!0}),Z(o)!=="svelte-2m9p61"&&(o.textContent=v),f.forEach(g),b=L(h),m=C(h,"DIV",{"data-svelte-h":!0}),Z(m)!=="svelte-wthkhb"&&(m.innerHTML=$),h.forEach(g),s.forEach(g),this.h()},h(){V(t,"class","title-bar svelte-mmovoq"),V(n,"class","contents svelte-mmovoq"),V(e,"role","dialog"),V(e,"class","modal svelte-mmovoq")},m(a,s){N(a,e,s),T(e,n),T(n,t),T(t,l),T(t,o),T(n,b),T(n,m),E||(D=le(o,"click",ft),E=!0)},d(a){a&&g(e),E=!1,D()}}}function wt(r){let e,n=r[0]&&Ve();return{c(){n&&n.c(),e=J()},l(t){n&&n.l(t),e=J()},m(t,l){n&&n.m(t,l),N(t,e,l)},p(t,[l]){t[0]?n||(n=Ve(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:q,o:q,d(t){t&&g(e),n&&n.d(t)}}}function Tt(r,e,n){let{isOpen:t}=e;return r.$$set=l=>{"isOpen"in l&&n(0,t=l.isOpen)},[t]}class yt extends de{constructor(e){super(),ue(this,e,Tt,wt,ne,{isOpen:0})}}const We=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}];function Fe(r,e,n){const t=r.slice();return t[4]=e[n],t}function Ge(r,e,n){const t=r.slice();return t[7]=e[n],t}function Ke(r,e,n){const t=r.slice();return t[7]=e[n],t}function Ct(r){let e,n,t="Examples:",l,o=r[4].examples.join(", ")+"",v;return{c(){e=y("span"),n=y("b"),n.textContent=t,l=B(),v=U(o)},l(b){e=C(b,"SPAN",{});var m=S(e);n=C(m,"B",{"data-svelte-h":!0}),Z(n)!=="svelte-1jvpsk3"&&(n.textContent=t),l=L(m),v=z(m,o),m.forEach(g)},m(b,m){N(b,e,m),T(e,n),T(e,l),T(e,v)},d(b){b&&g(e)}}}function qe(r){let e,n=r[0](r[7])+"",t;return{c(){e=y("th"),t=U(n),this.h()},l(l){e=C(l,"TH",{class:!0});var o=S(e);t=z(o,n),o.forEach(g),this.h()},h(){V(e,"class","svelte-gg3pfu")},m(l,o){N(l,e,o),T(e,t)},p:q,d(l){l&&g(e)}}}function Ue(r){let e,n=r[1](r[7])+"",t;return{c(){e=y("td"),t=U(n),this.h()},l(l){e=C(l,"TD",{class:!0});var o=S(e);t=z(o,n),o.forEach(g),this.h()},h(){V(e,"class","svelte-gg3pfu")},m(l,o){N(l,e,o),T(e,t)},p:q,d(l){l&&g(e)}}}function ze(r){let e,n,t=r[4].name+"",l,o,v,b,m,$,E,D,a,s=r[4].examples&&Ct(r),h=W(r[4].chords),f=[];for(let d=0;d<h.length;d+=1)f[d]=qe(Ke(r,h,d));let p=W(r[4].chords),w=[];for(let d=0;d<p.length;d+=1)w[d]=Ue(Ge(r,p,d));return{c(){e=y("div"),n=y("h4"),l=U(t),o=B(),s&&s.c(),v=B(),b=y("table"),m=y("tr");for(let d=0;d<f.length;d+=1)f[d].c();$=B(),E=y("tr");for(let d=0;d<w.length;d+=1)w[d].c();D=B(),a=y("br")},l(d){e=C(d,"DIV",{});var u=S(e);n=C(u,"H4",{});var i=S(n);l=z(i,t),i.forEach(g),o=L(u),s&&s.l(u),v=L(u),b=C(u,"TABLE",{});var _=S(b);m=C(_,"TR",{});var oe=S(m);for(let K=0;K<f.length;K+=1)f[K].l(oe);oe.forEach(g),$=L(_),E=C(_,"TR",{});var X=S(E);for(let K=0;K<w.length;K+=1)w[K].l(X);X.forEach(g),_.forEach(g),u.forEach(g),D=L(d),a=C(d,"BR",{})},m(d,u){N(d,e,u),T(e,n),T(n,l),T(e,o),s&&s.m(e,null),T(e,v),T(e,b),T(b,m);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(m,null);T(b,$),T(b,E);for(let i=0;i<w.length;i+=1)w[i]&&w[i].m(E,null);N(d,D,u),N(d,a,u)},p(d,u){if(u&1){h=W(d[4].chords);let i;for(i=0;i<h.length;i+=1){const _=Ke(d,h,i);f[i]?f[i].p(_,u):(f[i]=qe(_),f[i].c(),f[i].m(m,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=h.length}if(u&2){p=W(d[4].chords);let i;for(i=0;i<p.length;i+=1){const _=Ge(d,p,i);w[i]?w[i].p(_,u):(w[i]=Ue(_),w[i].c(),w[i].m(E,null))}for(;i<w.length;i+=1)w[i].d(1);w.length=p.length}},d(d){d&&(g(e),g(D),g(a)),s&&s.d(),te(f,d),te(w,d)}}}function Et(r){let e,n,t,l,o='<i class="fa fa-info-circle" aria-hidden="true"></i>',v,b,m,$,E=W(We),D=[];for(let a=0;a<E.length;a+=1)D[a]=ze(Fe(r,E,a));return{c(){e=y("h3"),n=U(`Chord Progressions
    `),t=y("span"),l=y("button"),l.innerHTML=o,v=B();for(let a=0;a<D.length;a+=1)D[a].c();b=J(),this.h()},l(a){e=C(a,"H3",{});var s=S(e);n=z(s,`Chord Progressions
    `),t=C(s,"SPAN",{});var h=S(t);l=C(h,"BUTTON",{"data-svelte-h":!0}),Z(l)!=="svelte-1r24cmf"&&(l.innerHTML=o),h.forEach(g),s.forEach(g),v=L(a);for(let f=0;f<D.length;f+=1)D[f].l(a);b=J(),this.h()},h(){ct(l,"position","relative")},m(a,s){N(a,e,s),T(e,n),T(e,t),T(t,l),N(a,v,s);for(let h=0;h<D.length;h+=1)D[h]&&D[h].m(a,s);N(a,b,s),m||($=le(l,"click",r[3]),m=!0)},p(a,[s]){if(s&3){E=W(We);let h;for(h=0;h<E.length;h+=1){const f=Fe(a,E,h);D[h]?D[h].p(f,s):(D[h]=ze(f),D[h].c(),D[h].m(b.parentNode,b))}for(;h<D.length;h+=1)D[h].d(1);D.length=E.length}},i:q,o:q,d(a){a&&(g(e),g(v),g(b)),te(D,a),m=!1,$()}}}function Dt(r,e,n){let{scaleNotes:t=[]}=e;const l=b=>{let m=Ce(b.degree);return b.minor&&(m=m.toLowerCase()),b.flat&&(m="b"+m),m},o=b=>{const m=t[b.degree-1];let $=Y.indexOf(m);b.flat&&($--,$===-1&&($=Y.length-1));let E=Y[$];return b.minor&&(E+="m"),E},v=()=>ht(yt);return r.$$set=b=>{"scaleNotes"in b&&n(2,t=b.scaleNotes)},[l,o,t,v]}class Nt extends de{constructor(e){super(),ue(this,e,Dt,Et,ne,{scaleNotes:2})}}function Ye(r,e,n){const t=r.slice();t[12]=e[n],t[15]=n;const l=t[1].chords[t[15]];return t[13]=l,t}function Je(r,e,n){const t=r.slice();return t[16]=e[n],t[15]=n,t}function Xe(r,e,n){const t=r.slice();return t[2]=e[n],t}function Qe(r,e,n){const t=r.slice();return t[1]=e[n],t}function $t(r,e,n){const t=r.slice();return t[12]=e[n],t}function It(r){let e,n,t;return{c(){e=y("option"),n=U(r[12]),t=B(),this.h()},l(l){e=C(l,"OPTION",{});var o=S(e);n=z(o,r[12]),t=L(o),o.forEach(g),this.h()},h(){e.__value=r[12],Ie(e,e.__value)},m(l,o){N(l,e,o),T(e,n),T(e,t)},p:q,d(l){l&&g(e)}}}function Ze(r){let e,n=r[1].name+"",t,l;return{c(){e=y("option"),t=U(n),l=B(),this.h()},l(o){e=C(o,"OPTION",{});var v=S(e);t=z(v,n),l=L(v),v.forEach(g),this.h()},h(){e.__value=r[1],Ie(e,e.__value)},m(o,v){N(o,e,v),T(e,t),T(e,l)},p:q,d(o){o&&g(e)}}}function et(r){let e,n=r[2].name+"",t,l;return{c(){e=y("option"),t=U(n),l=B(),this.h()},l(o){e=C(o,"OPTION",{});var v=S(e);t=z(v,n),l=L(v),v.forEach(g),this.h()},h(){e.__value=r[2],Ie(e,e.__value)},m(o,v){N(o,e,v),T(e,t),T(e,l)},p:q,d(o){o&&g(e)}}}function tt(r){let e,n=r[6](r[15]+1,r[16])+"",t;return{c(){e=y("th"),t=U(n),this.h()},l(l){e=C(l,"TH",{class:!0});var o=S(e);t=z(o,n),o.forEach(g),this.h()},h(){V(e,"class","svelte-gg3pfu")},m(l,o){N(l,e,o),T(e,t)},p(l,o){o&2&&n!==(n=l[6](l[15]+1,l[16])+"")&&it(t,n)},d(l){l&&g(e)}}}function lt(r){let e,n=r[7](r[12],r[13])+"",t;return{c(){e=y("td"),t=U(n),this.h()},l(l){e=C(l,"TD",{class:!0});var o=S(e);t=z(o,n),o.forEach(g),this.h()},h(){V(e,"class","svelte-gg3pfu")},m(l,o){N(l,e,o),T(e,t)},p(l,o){o&10&&n!==(n=l[7](l[12],l[13])+"")&&it(t,n)},d(l){l&&g(e)}}}function nt(r){let e=r[3],n,t,l=ot(r);return{c(){l.c(),n=J()},l(o){l.l(o),n=J()},m(o,v){l.m(o,v),N(o,n,v),t=!0},p(o,v){v&8&&ne(e,e=o[3])?(Te(),G(l,1,1,q),ye(),l=ot(o),l.c(),R(l,1),l.m(n.parentNode,n)):l.p(o,v)},i(o){t||(R(l),t=!0)},o(o){G(l),t=!1},d(o){o&&g(n),l.d(o)}}}function ot(r){let e,n;return e=new Nt({props:{scaleNotes:r[3]}}),{c(){ge(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,l){_e(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.scaleNotes=t[3]),e.$set(o)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){ve(e,t)}}}function Mt(r){let e,n="Scales",t,l,o,v='<th class="svelte-gg3pfu"><label for="tonicInput">Tonic</label></th> <th class="svelte-gg3pfu"><label for="scaleInput">Scale</label></th> <th class="svelte-gg3pfu"><label for="modeInput">mode</label></th>',b,m,$,E,D,a,s,h,f,p,w,d,u,i,_,oe,X,K,ee,be,Ee=["Major","Natural minor"].includes(r[1].name),re,pe,De,Me,Se=W(Y),Q=[];for(let c=0;c<Se.length;c+=1)Q[c]=It($t(r,Se,c));let se=W(r[4]),A=[];for(let c=0;c<se.length;c+=1)A[c]=Ze(Qe(r,se,c));let ie=W(r[5]),j=[];for(let c=0;c<ie.length;c+=1)j[c]=et(Xe(r,ie,c));let ae=W(r[1].chords),H=[];for(let c=0;c<ae.length;c+=1)H[c]=tt(Je(r,ae,c));let ce=W(r[3]),P=[];for(let c=0;c<ce.length;c+=1)P[c]=lt(Ye(r,ce,c));ee=new kt({props:{notesToDisplay:r[3]}});let x=Ee&&nt(r);return{c(){e=y("h2"),e.textContent=n,t=B(),l=y("table"),o=y("tr"),o.innerHTML=v,b=B(),m=y("tr"),$=y("td"),E=y("select");for(let c=0;c<Q.length;c+=1)Q[c].c();D=B(),a=y("td"),s=y("select");for(let c=0;c<A.length;c+=1)A[c].c();h=B(),f=y("td"),p=y("select");for(let c=0;c<j.length;c+=1)j[c].c();w=B(),d=y("br"),u=B(),i=y("table"),_=y("tr");for(let c=0;c<H.length;c+=1)H[c].c();oe=B(),X=y("tr");for(let c=0;c<P.length;c+=1)P[c].c();K=B(),ge(ee.$$.fragment),be=B(),x&&x.c(),re=J(),this.h()},l(c){e=C(c,"H2",{"data-svelte-h":!0}),Z(e)!=="svelte-b2sc71"&&(e.textContent=n),t=L(c),l=C(c,"TABLE",{});var M=S(l);o=C(M,"TR",{"data-svelte-h":!0}),Z(o)!=="svelte-1edz06s"&&(o.innerHTML=v),b=L(M),m=C(M,"TR",{});var I=S(m);$=C(I,"TD",{class:!0});var k=S($);E=C(k,"SELECT",{id:!0});var F=S(E);for(let O=0;O<Q.length;O+=1)Q[O].l(F);F.forEach(g),k.forEach(g),D=L(I),a=C(I,"TD",{class:!0});var Be=S(a);s=C(Be,"SELECT",{id:!0});var Le=S(s);for(let O=0;O<A.length;O+=1)A[O].l(Le);Le.forEach(g),Be.forEach(g),h=L(I),f=C(I,"TD",{class:!0});var xe=S(f);p=C(xe,"SELECT",{id:!0});var Oe=S(p);for(let O=0;O<j.length;O+=1)j[O].l(Oe);Oe.forEach(g),xe.forEach(g),I.forEach(g),M.forEach(g),w=L(c),d=C(c,"BR",{}),u=L(c),i=C(c,"TABLE",{});var ke=S(i);_=C(ke,"TR",{});var Ae=S(_);for(let O=0;O<H.length;O+=1)H[O].l(Ae);Ae.forEach(g),oe=L(ke),X=C(ke,"TR",{});var je=S(X);for(let O=0;O<P.length;O+=1)P[O].l(je);je.forEach(g),ke.forEach(g),K=L(c),me(ee.$$.fragment,c),be=L(c),x&&x.l(c),re=J(),this.h()},h(){V(E,"id","tonicInput"),r[0]===void 0&&Ne(()=>r[8].call(E)),V($,"class","svelte-gg3pfu"),V(s,"id","scaleInput"),r[1]===void 0&&Ne(()=>r[9].call(s)),V(a,"class","svelte-gg3pfu"),V(p,"id","modeInput"),r[2]===void 0&&Ne(()=>r[10].call(p)),V(f,"class","svelte-gg3pfu")},m(c,M){N(c,e,M),N(c,t,M),N(c,l,M),T(l,o),T(l,b),T(l,m),T(m,$),T($,E);for(let I=0;I<Q.length;I+=1)Q[I]&&Q[I].m(E,null);fe(E,r[0],!0),T(m,D),T(m,a),T(a,s);for(let I=0;I<A.length;I+=1)A[I]&&A[I].m(s,null);fe(s,r[1],!0),T(m,h),T(m,f),T(f,p);for(let I=0;I<j.length;I+=1)j[I]&&j[I].m(p,null);fe(p,r[2],!0),N(c,w,M),N(c,d,M),N(c,u,M),N(c,i,M),T(i,_);for(let I=0;I<H.length;I+=1)H[I]&&H[I].m(_,null);T(i,oe),T(i,X);for(let I=0;I<P.length;I+=1)P[I]&&P[I].m(X,null);N(c,K,M),_e(ee,c,M),N(c,be,M),x&&x.m(c,M),N(c,re,M),pe=!0,De||(Me=[le(E,"change",r[8]),le(s,"change",r[9]),le(p,"change",r[10])],De=!0)},p(c,[M]){if(M&1&&fe(E,c[0]),M&16){se=W(c[4]);let k;for(k=0;k<se.length;k+=1){const F=Qe(c,se,k);A[k]?A[k].p(F,M):(A[k]=Ze(F),A[k].c(),A[k].m(s,null))}for(;k<A.length;k+=1)A[k].d(1);A.length=se.length}if(M&18&&fe(s,c[1]),M&32){ie=W(c[5]);let k;for(k=0;k<ie.length;k+=1){const F=Xe(c,ie,k);j[k]?j[k].p(F,M):(j[k]=et(F),j[k].c(),j[k].m(p,null))}for(;k<j.length;k+=1)j[k].d(1);j.length=ie.length}if(M&36&&fe(p,c[2]),M&66){ae=W(c[1].chords);let k;for(k=0;k<ae.length;k+=1){const F=Je(c,ae,k);H[k]?H[k].p(F,M):(H[k]=tt(F),H[k].c(),H[k].m(_,null))}for(;k<H.length;k+=1)H[k].d(1);H.length=ae.length}if(M&138){ce=W(c[3]);let k;for(k=0;k<ce.length;k+=1){const F=Ye(c,ce,k);P[k]?P[k].p(F,M):(P[k]=lt(F),P[k].c(),P[k].m(X,null))}for(;k<P.length;k+=1)P[k].d(1);P.length=ce.length}const I={};M&8&&(I.notesToDisplay=c[3]),ee.$set(I),M&2&&(Ee=["Major","Natural minor"].includes(c[1].name)),Ee?x?(x.p(c,M),M&2&&R(x,1)):(x=nt(c),x.c(),R(x,1),x.m(re.parentNode,re)):x&&(Te(),G(x,1,1,()=>{x=null}),ye())},i(c){pe||(R(ee.$$.fragment,c),R(x),pe=!0)},o(c){G(ee.$$.fragment,c),G(x),pe=!1},d(c){c&&(g(e),g(t),g(l),g(w),g(d),g(u),g(i),g(K),g(be),g(re)),te(Q,c),te(A,c),te(j,c),te(H,c),te(P,c),ve(ee,c),x&&x.d(c),De=!1,st(Me)}}}function St(r,e,n){const t=[{name:"Major",intervals:[2,2,1,2,2,2,1],chords:["major","minor","minor","diminished","major","minor","major"]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2],chords:["minor","diminished","major","minor","major","major","minor"]},{name:"Pentatonic major",intervals:[2,2,3,2,3],chords:["major","minor","minor","major","minor"]},{name:"Pentatonic minor",intervals:[3,2,2,3,2],chords:["minor","major","minor","major","major"]}],l=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let o="C",v=t[0],b=l[0],m=[];const $=(f,p,w)=>{const{intervals:d}=p;n(3,m=[f]);const u=Y.indexOf(f);if(u===-1)throw new Error(`Tonic ${f} not found`);let i=u;for(const _ of d)i=(i+_)%Y.length,m.push(Y[i]);m.pop();for(let _=1;_<w.degree;_++)m.push(m.shift())},E=(f,p)=>{let w=Ce(f);return p==="minor"?w=w.toLowerCase():p==="diminished"&&(w+="°"),w},D=(f,p)=>{let w=f;return p==="minor"?w+="m":p==="diminished"&&(w+="°"),w};function a(){o=$e(this),n(0,o)}function s(){v=$e(this),n(1,v),n(4,t)}function h(){b=$e(this),n(2,b),n(5,l)}return r.$$.update=()=>{r.$$.dirty&7&&$(o,v,b)},[o,v,b,m,t,l,E,D,a,s,h]}class jt extends de{constructor(e){super(),ue(this,e,St,Mt,ne,{})}}export{jt as component};
