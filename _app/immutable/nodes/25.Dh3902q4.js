import"../chunks/NZTpNUN0.js";import{o as C}from"../chunks/CVDCh7bQ.js";import{p as H,c as T,f as l,a as o,d as S,g as t,u as A,b as f,s as u,e as c,r as p,t as G,i as J,h as K}from"../chunks/OOCdeaM4.js";import{s as L,d as N}from"../chunks/DBBHR-3t.js";import{i as E}from"../chunks/BMFH8sZT.js";import{a as F,s as I}from"../chunks/BY6cWyRb.js";import{u as U}from"../chunks/bMdrnNxv.js";import{M as O}from"../chunks/C8MJLfl1.js";import{M as V}from"../chunks/DKcpRBkl.js";import{e as Q,i as R}from"../chunks/80iJqotc.js";import{a as W}from"../chunks/Bfiui_HV.js";import{D as X}from"../chunks/DTyfSRsR.js";import{g as Y}from"../chunks/Bd9sQ8Nq.js";import"../chunks/DRxGxY2p.js";import"../chunks/DRmGx022.js";import{p as Z}from"../chunks/CgiMXJad.js";import{g as ee}from"../chunks/DTf1Xn17.js";var te=f('<div class="event svelte-cyscl8"><div class="event-date"> </div> <div class="event-type"> </div> <div class="event-value"> </div></div>'),re=f('<div class="event svelte-cyscl8"><div>Date</div> <div>Type</div> <div>Value</div></div> <!>',1),ae=f("<p>Loading events</p>");function oe(h,n){H(n,!0);const y=()=>F(U,"$user",M),[M,k]=I();var v=T(),s=l(v);{var g=i=>{var _=T(),$=l(_);W($,()=>n.events,r=>{var e=ae();o(r,e)},(r,e)=>{var a=re(),d=u(l(a),2);Q(d,17,()=>t(e),R,(b,m)=>{const j=A(()=>X.fromSeconds(t(m).eventDateUnix).toLocal().toFormat("dd/MM/yy HH:mm"));var x=te(),D=c(x),q=c(D,!0);p(D);var w=u(D,2),z=c(w,!0);p(w);var P=u(w,2),B=c(P,!0);p(P),p(x),G(()=>{L(q,t(j)),L(z,t(m).type),L(B,t(m).value)}),o(b,x)}),o(r,a)},(r,e)=>{{let a=A(()=>({level:"error",header:"Something went wrong getting events",message:t(e)}));V(r,{get item(){return t(a)}})}}),o(i,_)};E(s,i=>{y()&&n.events&&i(g)})}o(h,v),S(),k()}var se=f("<div><button>Add an entry</button></div> <!>",1),ie=f("<!> <!>",1);function xe(h,n){H(n,!0);const y=()=>F(U,"$user",M),[M,k]=I();let v=K(void 0);const s={name:"Personal Tracker",description:"Track me metrics",iconPath:"/personal_tracker.png",showAuthInHeader:!0};Z.set(s),C(()=>J(v,Y(),!0));var g=ie(),i=l(g);O(i,{get title(){return s.name},get description(){return s.description},get iconPath(){return s.iconPath}});var _=u(i,2);{var $=e=>{var a=se(),d=l(a),b=c(d);b.__click=()=>ee("/personal-tracker/add"),p(d);var m=u(d,2);oe(m,{get events(){return t(v)}}),o(e,a)},r=e=>{V(e,{item:{level:"info",header:"Login to add an entry or see events"}})};E(_,e=>{y()?e($):e(r,!1)})}o(h,g),S(),k()}N(["click"]);export{xe as component};
