import"../chunks/DsnmJJEf.js";import{o as Fe}from"../chunks/CW6Daupv.js";import{h as J,T as Ve,by as ze,g as e,i as k,b7 as xe,p as oe,b as H,r as s,a as $,d as re,e as i,s as h,t as Q,aI as P,n as N,c as ke,f as ge,bx as Ae,C as Pe}from"../chunks/BI5tnybL.js";import{d as ie,s as D,e as le}from"../chunks/BHBOcJDT.js";import{i as ce}from"../chunks/BcTGm7Fo.js";import{b as ae,s as R,a as q,r as de}from"../chunks/Db8wGxCz.js";import{b as Ee,c as ye}from"../chunks/u1KJTtVJ.js";import{b as He}from"../chunks/Dsp9gY7N.js";import{s as Ie,a as je}from"../chunks/fB5nFxe2.js";import{M as Le}from"../chunks/CU7smKQC.js";import{t as fe}from"../chunks/CHy4DLGI.js";import{e as G,i as Z}from"../chunks/V4cWF7mx.js";import{p as Te}from"../chunks/DoQzWcsH.js";import{M as Be}from"../chunks/D4b6Boo_.js";import{P as Ue,a as qe,e as we,p as Ge}from"../chunks/DGqSIyTC.js";import"../chunks/CbJJCuUa.js";import"../chunks/BZLJX-Wh.js";import{p as Ze}from"../chunks/L3zL1n65.js";/* empty css                */import"../chunks/DKXeG7-1.js";import{g as Se}from"../chunks/BQiTV2PW.js";import{p as $e}from"../chunks/DWvpBAGV.js";import{D as Je}from"../chunks/CkcISRbr.js";var Ke=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],Qe=["difference","intersection","symmetricDifference","union"],Ce=!1;class ve extends Set{#s=new Map;#e=J(0);#t=J(0);#n=ze||-1;constructor(n){if(super(),n){for(var l of n)super.add(l);this.#t.v=super.size}Ce||this.#o()}#a(n){return ze===this.#n?J(n):Ve(n)}#o(){Ce=!0;var n=ve.prototype,l=Set.prototype;for(const E of Ke)n[E]=function(...y){return e(this.#e),l[E].apply(this,y)};for(const E of Qe)n[E]=function(...y){e(this.#e);var j=l[E].apply(this,y);return new ve(j)}}has(n){var l=super.has(n),E=this.#s,y=E.get(n);if(y===void 0){if(!l)return e(this.#e),!1;y=this.#a(!0),E.set(n,y)}return e(y),l}add(n){return super.has(n)||(super.add(n),k(this.#t,super.size),xe(this.#e)),this}delete(n){var l=super.delete(n),E=this.#s,y=E.get(n);return y!==void 0&&(E.delete(n),k(y,!1)),l&&(k(this.#t,super.size),xe(this.#e)),l}clear(){if(super.size!==0){super.clear();var n=this.#s;for(var l of n.values())k(l,!1);n.clear(),k(this.#t,0),xe(this.#e)}}keys(){return this.values()}values(){return e(this.#e),super.values()}entries(){return e(this.#e),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return e(this.#t)}}const Xe=!1,Ye=!0,Ne=!1,Zt=Object.freeze(Object.defineProperty({__proto__:null,csr:Ye,prerender:Xe,ssr:Ne},Symbol.toStringTag,{value:"Module"})),Y={fearful:{_color:"#FFA726",scared:{helpless:{en:"helpless"},frightened:{en:"frightened"}},anxious:{apprehensive:{en:"apprehensive"},worried:{en:"worried"}},insecure:{inadequate:{en:"inadequate"},"self-conscious":{en:"self-conscious"}},weak:{worthless:{en:"worthless"},insignificant:{en:"insignificant"}},rejected:{excluded:{en:"excluded"},persecuted:{en:"persecuted"}},threatened:{nervous:{en:"nervous"},exposed:{en:"exposed"}}},angry:{_color:"#EF5350","let down":{betrayed:{en:"betrayed"},resentful:{en:"resentful"}},humiliated:{disrespected:{en:"disrespected"},ridiculed:{en:"ridiculed"}},bitter:{indignant:{en:"indignant"},violated:{en:"violated"}},mad:{furious:{en:"furious"},jealous:{en:"jealous"}},aggressive:{provoked:{en:"provoked"},hostile:{en:"hostile"}},frustrated:{infuriated:{en:"infuriated"},annoyed:{en:"annoyed"}},distant:{withdrawn:{en:"withdrawn"},numb:{en:"numb"}},critical:{skeptical:{en:"skeptical"},dismissive:{en:"dismissive"}}},disgusted:{_color:"#9E9E9E",disapproving:{judgmental:{en:"judgmental"},disdainful:{en:"disdainful"}},disappointed:{appalled:{en:"appalled"},revolted:{en:"revolted"}},awful:{nauseated:{en:"nauseated"},detestable:{en:"detestable"}},repelled:{horrified:{en:"horrified"},hesitant:{en:"hesitant"}}},sad:{_color:"#42A5F5",lonely:{isolated:{en:"isolated"},abandoned:{en:"abandoned"}},vulnerable:{victimized:{en:"victimized"},fragile:{en:"fragile"}},despair:{grief:{en:"grief"},powerless:{en:"powerless"}},guilty:{ashamed:{en:"ashamed"},remorseful:{en:"remorseful"}},depressed:{inferior:{en:"inferior"},empty:{en:"empty"}},hurt:{embarrassed:{en:"embarrassed"},discouraged:{en:"discouraged"}}},happy:{_color:"#FFEB3B",interested:{curious:{en:"curious"},inquisitive:{en:"inquisitive"}},proud:{successful:{en:"successful"},confident:{en:"confident"}},accepted:{respected:{en:"respected"},valued:{en:"valued"}},powerful:{courageous:{en:"courageous"},creative:{en:"creative"}},peaceful:{loving:{en:"loving"},thankful:{en:"thankful"}},trusting:{sensitive:{en:"sensitive"},intimate:{en:"intimate"}},optimistic:{hopeful:{en:"hopeful"},inspired:{en:"inspired"}},playful:{aroused:{en:"aroused"},cheeky:{en:"cheeky"}},content:{free:{en:"free"},joyful:{en:"joyful"}}},surprised:{_color:"#AB47BC",startled:{shocked:{en:"shocked"},dismayed:{en:"dismayed"}},confused:{disillusioned:{en:"disillusioned"},perplexed:{en:"perplexed"}},amazed:{astonished:{en:"astonished"},awe:{en:"awe"}},excited:{eager:{en:"eager"},energetic:{en:"energetic"}}},bad:{_color:"#66BB6A",bored:{indifferent:{en:"indifferent"},apathetic:{en:"apathetic"}},busy:{pressured:{en:"pressured"},rushed:{en:"rushed"}},stressed:{overwhelmed:{en:"overwhelmed"},"out of control":{en:"out of control"}},tired:{sleepy:{en:"sleepy"},unfocused:{en:"unfocused"}}}};var Re=H("<button> </button>"),et=H('<div class="subcategory-section svelte-kgedpt"><h5 class="subcategory-name svelte-kgedpt"> </h5> <div class="emotions-grid svelte-kgedpt"></div></div>'),tt=H('<div class="category-content svelte-kgedpt"></div>'),st=H('<div class="category-section svelte-kgedpt"><button class="category-header svelte-kgedpt"><span class="category-name"> </span> <span class="expand-icon svelte-kgedpt"> </span></button> <!></div>'),nt=H('<div class="emotion-list svelte-kgedpt"></div>');function at(L,n){oe(n,!0);const l=d=>{const v=[d.category,d.subcategory,d.emotion,d.color].join(" - ");n.selection.has(v)?n.selection.delete(v):n.selection.add(v)},E=(d,v,b)=>[...n.selection].some(m=>{const x=m.split(" - ");return x[0]===d&&x[1]===v&&x[2]===b}),y=Object.keys(Y).map(d=>{const v=Y[d]._color||"#CCCCCC",b=Object.keys(Y[d]).filter(m=>!m.startsWith("_")).map(m=>{const x=Object.keys(Y[d][m]);return{name:m,emotions:x}});return{name:d,color:v,subcategories:b}}),j=new ve,_=d=>{j.has(d)?j.delete(d):j.add(d)};var w=nt();G(w,21,()=>y,Z,(d,v)=>{var b=st(),m=i(b);m.__click=()=>_(e(v).name);var x=i(m),T=i(x,!0);s(x);var C=h(x,2),M=i(C,!0);s(C),s(m);var V=h(m,2);{var A=p=>{var z=tt();G(z,21,()=>e(v).subcategories,Z,(o,t)=>{var a=et(),r=i(a),u=i(r,!0);s(r);var c=h(r,2);G(c,21,()=>e(t).emotions,Z,(f,g)=>{const F=P(()=>E(e(v).name,e(t).name,e(g)));var S=Re();let O;S.__click=()=>l({category:e(v).name,subcategory:e(t).name,emotion:e(g),color:e(v).color});var W=i(S,!0);s(S),Q(()=>{O=R(S,1,"emotion-btn svelte-kgedpt",null,O,{selected:e(F)}),ae(S,`--category-color: ${e(v).color??""}`),D(W,e(g))}),$(f,S)}),s(c),s(a),Q(()=>D(u,e(t).name)),$(o,a)}),s(z),$(p,z)};ce(V,p=>{j.has(e(v).name)&&p(A)})}s(b),Q(p=>{ae(m,`background-color: ${e(v).color??""}`),D(T,e(v).name),D(M,p)},[()=>j.has(e(v).name)?"â–¼":"â–¶"]),$(d,b)}),s(w),$(L,w),re()}ie(["click"]);var ot=Ae('<g class="emotion-wedge"><path></path><text class="emotion-text svelte-is5esu" text-anchor="middle" dominant-baseline="middle"> </text></g>'),rt=Ae('<g class="subcategory-wedge"><path></path><text class="subcategory-text svelte-is5esu" text-anchor="middle" dominant-baseline="middle"> </text></g>'),it=Ae('<g class="category-wedge"><path></path><text class="category-text svelte-is5esu" text-anchor="middle" dominant-baseline="middle"> </text></g>'),lt=H('<div class="emotion-wheel-container svelte-is5esu"><svg viewBox="0 0 100 100" class="wheel svelte-is5esu"><!><!><!><circle cx="50" cy="50" r="0" class="center-circle svelte-is5esu"></circle></svg></div>');function ct(L,n){oe(n,!0);const l=o=>{const t=[o.category,o.subcategory,o.emotion,o.color].join(" - ");n.selection.has(t)?n.selection.delete(t):n.selection.add(t)};function E(){const o=[];let t=0;Object.keys(Y).forEach(r=>{let u=0;Object.keys(Y[r]).filter(f=>!f.startsWith("_")).forEach(f=>{u+=Object.keys(Y[r][f]).length});const c=Y[r]._color||"#CCCCCC";o.push({name:r,color:c,emotionCount:u,startAngle:0,endAngle:0,subcategories:[]}),t+=u});let a=0;return o.forEach(r=>{const u=r.emotionCount/t*360;r.startAngle=a,r.endAngle=a+u;let c=a;Object.keys(Y[r.name]).filter(f=>!f.startsWith("_")).forEach(f=>{const g=Object.keys(Y[r.name][f]),F=g.length/r.emotionCount*u;r.subcategories.push({name:f,startAngle:c,endAngle:c+F,emotions:g}),c+=F}),a+=u}),o}const y=E();function j(o,t){const a=parseInt(o.replace("#",""),16),r=Math.min(255,Math.floor((a>>16)+(255-(a>>16))*t/100)),u=Math.min(255,Math.floor((a>>8&255)+(255-(a>>8&255))*t/100)),c=Math.min(255,Math.floor((a&255)+(255-(a&255))*t/100));return"#"+(r<<16|u<<8|c).toString(16).padStart(6,"0")}let _=J(null),w=J(null),d=J(null);function v(o,t,a){k(_,o,!0),k(w,t,!0),k(d,a,!0)}function b(o,t){k(_,o,!0),k(w,t,!0),k(d,null)}function m(o){k(_,o,!0),k(w,null),k(d,null)}function x(){k(_,null),k(w,null),k(d,null)}function T(o,t,a,r,u=50,c=50){const f=(o-90)*Math.PI/180,g=(t-90)*Math.PI/180,F=u+a*Math.cos(f),S=c+a*Math.sin(f),O=u+r*Math.cos(f),W=c+r*Math.sin(f),I=u+r*Math.cos(g),X=c+r*Math.sin(g),U=u+a*Math.cos(g),K=c+a*Math.sin(g),ee=t-o>180?1:0;return`
            M ${F} ${S}
            L ${O} ${W}
            A ${r} ${r} 0 ${ee} 1 ${I} ${X}
            L ${U} ${K}
            A ${a} ${a} 0 ${ee} 0 ${F} ${S}
            Z
        `}function C(o,t,a){const r=(o+t)/2,u=(r-90)*Math.PI/180,c=50+a*Math.cos(u),f=50+a*Math.sin(u),g=r<180?r-90:r+90;return{x:c,y:f,rotation:g}}var M=lt(),V=i(M),A=i(V);G(A,17,()=>y,Z,(o,t)=>{var a=ke(),r=ge(a);G(r,17,()=>e(t).subcategories,Z,(u,c)=>{const f=P(()=>(e(c).endAngle-e(c).startAngle)/e(c).emotions.length);var g=ke(),F=ge(g);G(F,17,()=>e(c).emotions,Z,(S,O,W)=>{const I=P(()=>e(c).startAngle+W*e(f)),X=P(()=>e(c).startAngle+(W+1)*e(f)),U=P(()=>T(e(I),e(X),30,47)),K=P(()=>C(e(I),e(X),38.5)),ee=P(()=>e(d)===e(O)),_e=P(()=>[...n.selection].find(he=>he.includes(e(O))));var ne=ot();ne.__click=()=>l({category:e(t).name,subcategory:e(c).name,emotion:e(O),color:e(t).color});var te=i(ne);let ue;var se=h(te),pe=i(se,!0);s(se),s(ne),Q(()=>{q(te,"d",e(U)),ue=R(te,0,"emotion-path svelte-is5esu",null,ue,{highlighted:e(ee),selected:e(_e)}),ae(te,`fill: ${e(t).color??""};`),q(se,"x",e(K).x),q(se,"y",e(K).y),q(se,"transform",`rotate(${e(K).rotation??""} ${e(K).x??""} ${e(K).y??""})`),D(pe,e(O))}),le("mouseenter",ne,()=>v(e(t).name,e(c).name,e(O))),le("mouseleave",ne,x),$(S,ne)}),$(u,g)}),$(o,a)});var p=h(A);G(p,17,()=>y,Z,(o,t)=>{var a=ke(),r=ge(a);G(r,17,()=>e(t).subcategories,Z,(u,c)=>{const f=P(()=>T(e(c).startAngle,e(c).endAngle,17,30)),g=P(()=>C(e(c).startAngle,e(c).endAngle,23.5)),F=P(()=>e(w)===e(c).name&&e(_)===e(t).name),S=P(()=>[...n.selection].find(ee=>ee.includes(e(c).name))),O=P(()=>j(e(t).color,30));var W=rt(),I=i(W);let X;var U=h(I),K=i(U,!0);s(U),s(W),Q(()=>{q(I,"d",e(f)),X=R(I,0,"subcategory-path svelte-is5esu",null,X,{highlighted:e(F),selected:e(S)}),ae(I,`fill: ${e(O)??""};`),q(U,"x",e(g).x),q(U,"y",e(g).y),q(U,"transform",`rotate(${e(g).rotation??""} ${e(g).x??""} ${e(g).y??""})`),D(K,e(c).name)}),le("mouseenter",W,()=>b(e(t).name,e(c).name)),le("mouseleave",W,x),$(u,W)}),$(o,a)});var z=h(p);G(z,17,()=>y,Z,(o,t)=>{const a=P(()=>T(e(t).startAngle,e(t).endAngle,0,17)),r=P(()=>C(e(t).startAngle,e(t).endAngle,8.5)),u=P(()=>e(_)===e(t).name),c=P(()=>[...n.selection].find(W=>W.includes(e(t).name)));var f=it(),g=i(f);let F;var S=h(g),O=i(S,!0);s(S),s(f),Q(()=>{q(g,"d",e(a)),F=R(g,0,"category-path svelte-is5esu",null,F,{highlighted:e(u),selected:e(c)}),ae(g,`fill: ${e(t).color??""};`),q(S,"x",e(r).x),q(S,"y",e(r).y),q(S,"transform",`rotate(${e(r).rotation??""} ${e(r).x??""} ${e(r).y??""})`),D(O,e(t).name)}),le("mouseenter",f,()=>m(e(t).name)),le("mouseleave",f,x),$(o,f)}),N(),s(V),s(M),$(L,M),re()}ie(["click"]);var dt=H('<p class="no-selection svelte-3rnm53">No emotions selected yet</p>'),vt=H('.slice(2) <button class="selected-item svelte-3rnm53"><span class="emotion-text svelte-3rnm53"> </span> <span class="remove-icon svelte-3rnm53">Ã—</span></button>',1),ut=H('<div class="selected-items svelte-3rnm53"></div>'),mt=H('<div class="selection-display svelte-3rnm53"><h5 class="svelte-3rnm53">Selected Emotions:</h5> <!></div>');function pt(L,n){oe(n,!0);var l=mt(),E=h(i(l),2);{var y=_=>{var w=dt();$(_,w)},j=_=>{var w=ut();G(w,21,()=>[...n.selection],Z,(d,v)=>{const b=P(()=>{const[M,V]=e(v).split(" - ");return{emotion:M,color:V}});N();var m=vt(),x=h(ge(m));x.__click=()=>n.selection.delete(e(v));var T=i(x),C=i(T,!0);s(T),N(2),s(x),Q(()=>{ae(x,`--color: ${e(b).color??""}`),D(C,e(b).emotion)}),$(d,m)}),s(w),$(_,w)};ce(E,_=>{n.selection.size===0?_(y):_(j,!1)})}s(l),$(L,l),re()}ie(["click"]);var ht=H('<div class="emotion-form svelte-5y82d"><div class="view-toggle svelte-5y82d"><button>ðŸŽ¯ Wheel View</button> <button>ðŸ“‹ List View</button></div> <!> <!></div>');function ft(L,n){oe(n,!0);let l=J("wheel");Fe(()=>{window.innerWidth<768&&k(l,"list")});var y={getEmotionsData:()=>[...n.selection].map(M=>{const[V,A,p,z]=M.split(" - ");return{category:V,subcategory:A,emotion:p,color:z}})},j=ht(),_=i(j),w=i(_);let d;w.__click=()=>k(l,"wheel");var v=h(w,2);let b;v.__click=()=>k(l,"list"),s(_);var m=h(_,2);{var x=M=>{at(M,{get selection(){return n.selection}})},T=M=>{ct(M,{get selection(){return n.selection}})};ce(m,M=>{e(l)==="list"?M(x):M(T,!1)})}var C=h(m,2);return pt(C,{get selection(){return n.selection}}),s(j),Q(()=>{d=R(w,1,"toggle-btn svelte-5y82d",null,d,{active:e(l)==="wheel"}),b=R(v,1,"toggle-btn svelte-5y82d",null,b,{active:e(l)==="list"})}),$(L,j),re(y)}ie(["click"]);var gt=H('<button><span class="emoji svelte-s4m3ot"> </span> <span class="number svelte-s4m3ot"> </span></button>'),_t=H('<div class="mood-form svelte-s4m3ot"><!> <div class="current-mood svelte-s4m3ot"><div class="mood-display svelte-s4m3ot"><span class="mood-emoji svelte-s4m3ot"> </span> <span class="mood-value svelte-s4m3ot"> </span> <span class="mood-label svelte-s4m3ot"> </span></div></div> <div class="mood-slider-container svelte-s4m3ot"><input type="range" min="1" max="10" step="1" class="mood-slider svelte-s4m3ot"/> <div class="slider-labels svelte-s4m3ot"><span>1</span> <span>10</span></div></div> <div class="mood-buttons svelte-s4m3ot"></div></div>');function bt(L,n){oe(n,!0);let l=Te(n,"value",15,5),E=Pe([]);const y=["ðŸ˜¢","ðŸ˜Ÿ","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ˜Š","ðŸ˜„","ðŸ˜","ðŸ¤©","ðŸ˜"],j=["Terrible","Very Bad","Bad","Poor","Okay","Good","Great","Very Good","Excellent","Amazing"],_=o=>["#d32f2f","#e53935","#f44336","#ff5722","#ff9800","#ffc107","#ffeb3b","#cddc39","#8bc34a","#4caf50"][o-1];var w=_t(),d=i(w);G(d,17,()=>E,Z,(o,t)=>{Be(o,{get item(){return e(t)}})});var v=h(d,2),b=i(v),m=i(b),x=i(m,!0);s(m);var T=h(m,2),C=i(T,!0);s(T);var M=h(T,2),V=i(M,!0);s(M),s(b),s(v);var A=h(v,2),p=i(A);de(p),N(2),s(A);var z=h(A,2);G(z,20,()=>[1,2,3,4,5,6,7,8,9,10],Z,(o,t)=>{var a=gt();let r;a.__click=()=>l(t);var u=i(a),c=i(u,!0);s(u);var f=h(u,2),g=i(f,!0);s(f),s(a),Q(F=>{r=R(a,1,"mood-button svelte-s4m3ot",null,r,{selected:l()===t}),ae(a,`--mood-color: ${F??""}`),q(a,"title",`${t??""} - ${j[t-1]??""}`),D(c,y[t-1]),D(g,t)},[()=>_(t)]),$(o,a)}),s(z),s(w),Q(o=>{D(x,y[l()-1]),D(C,l()),D(V,j[l()-1]),ae(p,`--mood-color: ${o??""}`)},[()=>_(l())]),Ee(p,l),$(L,w),re()}ie(["click"]);var xt=H('<div class="weight-form svelte-1st4ez6"><!> <div class="weight-display svelte-1st4ez6"><div class="value-container svelte-1st4ez6"><span class="weight-value svelte-1st4ez6"> </span> <span class="weight-unit svelte-1st4ez6">kg</span></div></div> <div class="slider-container svelte-1st4ez6"><input type="range" min="80" max="110" step="0.1" class="weight-slider svelte-1st4ez6"/> <div class="slider-labels svelte-1st4ez6"><span>80 kg</span> <span>110 kg</span></div></div> <div class="controls svelte-1st4ez6"><div class="quick-adjust svelte-1st4ez6"><button class="adjust-btn large-dec svelte-1st4ez6">-1 kg</button> <button class="adjust-btn svelte-1st4ez6">-0.1</button> <button class="adjust-btn svelte-1st4ez6">+0.1</button> <button class="adjust-btn large-inc svelte-1st4ez6">+1 kg</button></div> <div class="input-container svelte-1st4ez6"><label for="weight-input" class="svelte-1st4ez6">Direct input:</label> <input id="weight-input" type="number" step="0.1" min="80" max="110" class="weight-input svelte-1st4ez6"/> <span class="unit-label svelte-1st4ez6">kg</span></div></div></div>');function kt(L,n){oe(n,!0);let l=Te(n,"value",15,100),E=J(Pe([]));const y=()=>(k(E,[],!0),l()!==Number(l().toFixed(1))&&e(E).push({level:"error",header:"Value have at most 1 number after the comma"}),(l()<80||l()>110)&&e(E).push({level:"error",header:"Value must be in kg"}),e(E).length===0),j=()=>Math.floor(l()*100),_=u=>{l(Number((l()+u).toFixed(1)))};var w={validate:y,getStorageValue:j},d=xt(),v=i(d);G(v,17,()=>e(E),Z,(u,c)=>{Be(u,{get item(){return e(c)}})});var b=h(v,2),m=i(b),x=i(m),T=i(x,!0);s(x),N(2),s(m),s(b);var C=h(b,2),M=i(C);de(M),N(2),s(C);var V=h(C,2),A=i(V),p=i(A);p.__click=()=>_(-1);var z=h(p,2);z.__click=()=>_(-.1);var o=h(z,2);o.__click=()=>_(.1);var t=h(o,2);t.__click=()=>_(1),s(A);var a=h(A,2),r=h(i(a),2);return de(r),N(2),s(a),s(V),s(d),Q(u=>D(T,u),[()=>l().toFixed(1)]),Ee(M,l),Ee(r,l),$(L,d),re(w)}ie(["click"]);var yt=H('<div class="contents svelte-10367lt"><h4 class="title-bar svelte-10367lt"> <button>Back</button></h4> <div><div class="section-header svelte-10367lt"><label class="svelte-10367lt"><input type="checkbox" class="svelte-10367lt"/> <span class="section-title svelte-10367lt">Emotions</span></label></div> <!></div> <hr class="separator svelte-10367lt"/> <div><div class="section-header svelte-10367lt"><label class="svelte-10367lt"><input type="checkbox" class="svelte-10367lt"/> <span class="section-title svelte-10367lt">Mood</span></label></div> <!></div> <hr class="separator svelte-10367lt"/> <div><div class="section-header svelte-10367lt"><label class="svelte-10367lt"><input type="checkbox" class="svelte-10367lt"/> <span class="section-title svelte-10367lt">Weight</span></label></div> <!></div> <hr class="separator svelte-10367lt"/> <div class="submit-container svelte-10367lt"><button class="form-action"> </button></div></div>');function Jt(L,n){oe(n,!0);const l=()=>je(Ge,"$personalTrackerPassword",y),E=()=>je(we,"$eventsStore",y),[y,j]=Ie();Ze.set({name:"Personal Tracker",iconPath:"/personal_tracker.png",showAuthInHeader:!0});let _=J(5),w=J(100),d=new ve,v=J(!1),b=J(!1),m=J(!1),x;const T=()=>Je.now().toUTC().startOf("day").toUnixInteger(),C=()=>{const A=$e.params.timestamp;if(A){const p=parseInt(A,10);if(!isNaN(p))return p}return T()},M=P(()=>!!$e.params.timestamp);Fe(async()=>{try{await we.fetch(l());const A=C(),p=E().events.find(z=>z.eventDateUnix===A);if(p&&(p.mood!==void 0&&(k(_,p.mood,!0),k(v,!0)),p.weight!==void 0&&(k(w,p.weight/100),k(b,!0)),p.emotionwheel?.emotions)){const z=new ve;p.emotionwheel.emotions.forEach(o=>{const t=[o.category,o.subcategory,o.emotion,o.color].join(" - ");z.add(t)}),d.clear(),z.forEach(o=>d.add(o)),k(m,!0)}}catch(A){console.error("Failed to load existing event:",A),fe.push("Failed to load existing event",{theme:{"--toastBarBackground":"#FFA500"}})}});const V=async()=>{if(!e(v)&&!e(b)&&!e(m)){fe.push("Please enable at least one section to submit",{theme:{"--toastBarBackground":"#FFA500"}});return}if(e(b)&&x&&!x.validate())return;const A={};if(e(v)&&(A.mood=e(_)),e(b)&&(A.weight=x.getStorageValue()),e(m)&&d.size>0){const p=[...d].map(z=>{const[o,t,a,r]=z.split(" - ");return{category:o,subcategory:t,emotion:a,color:r}});A.emotionwheel={emotions:p}}try{const p=C();await qe(A,l(),p),we.invalidate(),Se("/personal-tracker"),fe.push(e(M)?"Entry updated":"Entry created")}catch(p){let z=p.message;const t=`<strong>Entry not ${e(M)?"updated":"created"}</strong><br/> ${z}`;fe.push(t,{theme:{"--toastBarBackground":"#FF0000"}})}};Le(L,{message:"Login to add an entry",children:(A,p)=>{Ue(A,{children:(z,o)=>{var t=yt(),a=i(t),r=i(a),u=h(r);u.__click=()=>{Se("/personal-tracker")},s(a);var c=h(a,2);let f;var g=i(c),F=i(g),S=i(F);de(S),N(2),s(F),s(g);var O=h(g,2);{var W=B=>{ft(B,{get selection(){return d}})};ce(O,B=>{e(m)&&B(W)})}s(c);var I=h(c,4);let X;var U=i(I),K=i(U),ee=i(K);de(ee),N(2),s(K),s(U);var _e=h(U,2);{var ne=B=>{bt(B,{get value(){return e(_)},set value(me){k(_,me,!0)}})};ce(_e,B=>{e(v)&&B(ne)})}s(I);var te=h(I,4);let ue;var se=i(te),pe=i(se),he=i(pe);de(he),N(2),s(pe),s(se);var Oe=h(se,2);{var We=B=>{He(kt(B,{get value(){return e(w)},set value(me){k(w,me,!0)}}),me=>x=me,()=>x)};ce(Oe,B=>{e(b)&&B(We)})}s(te);var Me=h(te,4),be=i(Me);be.__click=V;var De=i(be,!0);s(be),s(Me),s(t),Q(()=>{D(r,`${e(M)?"Edit Entry":"Today's Personal Metrics"} `),f=R(c,1,"input-form svelte-10367lt",null,f,{disabled:!e(m)}),X=R(I,1,"input-form svelte-10367lt",null,X,{disabled:!e(v)}),ue=R(te,1,"input-form svelte-10367lt",null,ue,{disabled:!e(b)}),D(De,e(M)?"Update Entry":"Create Entry")}),ye(S,()=>e(m),B=>k(m,B)),ye(ee,()=>e(v),B=>k(v,B)),ye(he,()=>e(b),B=>k(b,B)),$(z,t)},$$slots:{default:!0}})},$$slots:{default:!0}}),re(),j()}ie(["click"]);export{Jt as component,Zt as universal};
