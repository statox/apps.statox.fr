import{g as jt,a as It,b as Ft}from"../chunks/api.rpYulLsZ.js";import{s as he,L as Vt,f as C,g as w,M as X,j as L,F as Re,i as T,w as te,r as ne,d as _,A as Ge,a as A,l as H,h as B,c as y,m as R,K as Fe,G as d,_ as qt,e as Y,O as pe,n as Me,k as Ve,p as zt,o as Je,q as Ye,S as We}from"../chunks/scheduler.N2tVA6Cn.js";import{S as Le,i as Te,g as x,t as U,c as ee,a as N,b as ce,d as ge,m as fe,e as ue}from"../chunks/index.F8-NL695.js";import{e as z,u as Kt,o as Gt}from"../chunks/each.xo_Rzlzl.js";import{a as Jt,o as Xt}from"../chunks/store.uasmQUFa.js";/* empty css                          */import{M as Yt}from"../chunks/Main.bTe1Nigg.js";import{w as Wt}from"../chunks/index.Br-J-IE8.js";import{b as Qt}from"../chunks/paths.EKNdLNqe.js";import{P as Ht}from"../chunks/public.C30nq52-.js";import{g as Zt,t as Rt}from"../chunks/service.JxV0fwjW.js";import{h as xt,u as el}from"../chunks/await_block.qGf0cQZo.js";import{g as tl}from"../chunks/navigation.eOUSWV8b.js";const ll=async()=>({chords:await jt()}),Xl=Object.freeze(Object.defineProperty({__proto__:null,load:ll},Symbol.toStringTag,{value:"Module"})),{clearTimeout:Qe,setTimeout:Ze,window:qe}=It;function nl(a){let t=!1,n=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',s,i;return Vt(a[3]),{c(){e=C("button"),e.innerHTML=r,this.h()},l(o){e=w(o,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-ed45ug"&&(e.innerHTML=r),this.h()},h(){L(e,"class","top-link svelte-1kbb9q3"),Re(e,"hide",a[1])},m(o,f){T(o,e,f),s||(i=[te(qe,"scroll",()=>{t=!0,Qe(l),l=Ze(n,100),a[3]()}),te(e,"click",a[2])],s=!0)},p(o,[f]){f&1&&!t&&(t=!0,Qe(l),scrollTo(qe.pageXOffset,o[0]),l=Ze(n,100)),f&2&&Re(e,"hide",o[1])},i:ne,o:ne,d(o){o&&_(e),s=!1,Ge(i)}}}function sl(a,t,n){let l,e=!0,r;const s=f=>{f>0?n(1,e=!1):n(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{n(1,e=!0)},3e3)},i=()=>{const f=document.documentElement.scrollTop||document.body.scrollTop;f>0&&(window.requestAnimationFrame(i),window.scrollTo(0,f-f/2))};function o(){n(0,l=qe.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&s(l)},[l,e,i,o]}class rl extends Le{constructor(t){super(),Te(this,t,sl,nl,he,{})}}const Oe=Wt(),ze=a=>a==="doc"?"fas fa-file-word":a==="pdf"?"fas fa-file-pdf":a==="youtube"?"fa fa-youtube":"fas fa-link";function ol(a){let t,n,l,e,r,s,i,o,f;return{c(){t=C("span"),l=A(),e=C("span"),r=C("a"),s=H(a[2]),this.h()},l(u){t=w(u,"SPAN",{class:!0}),B(t).forEach(_),l=y(u),e=w(u,"SPAN",{});var m=B(e);r=w(m,"A",{href:!0,target:!0,rel:!0,title:!0});var c=B(r);s=R(c,a[2]),c.forEach(_),m.forEach(_),this.h()},h(){L(t,"class",n=Fe(ze(a[0].type))+" svelte-1gxig14"),L(r,"href",i=a[3](a[0])),L(r,"target","_blank"),L(r,"rel","noopener noreferrer"),L(r,"title",a[1])},m(u,m){T(u,t,m),T(u,l,m),T(u,e,m),d(e,r),d(r,s),o||(f=te(r,"click",a[4]),o=!0)},p(u,[m]){m&1&&n!==(n=Fe(ze(u[0].type))+" svelte-1gxig14")&&L(t,"class",n),m&1&&i!==(i=u[3](u[0]))&&L(r,"href",i),m&2&&L(r,"title",u[1])},i:ne,o:ne,d(u){u&&(_(t),_(l),_(e)),o=!1,f()}}}function al(a,t,n){let{chord:l}=t,{showArtist:e=!1}=t,r;Oe.subscribe(f=>{if(f&&f.has(l.url)){const u=f.get(l.url),m=new Date(u.lastAccessDateUnix*1e3);n(1,r=`visits: ${u.count} - last: ${m.toLocaleDateString()}`)}});const s=(e?l.artist+" - ":"")+l.title,i=f=>f.type==="doc"?`${Qt}/docviewer/${f.url}`:f.url,o=()=>{const f=Ht+"/chords/addLinkVisit",u={url:l.url},m=c=>{const k=`<strong>Visit not counted</strong><br/> ${c.message}`;Rt.push(k,{initial:0,theme:{"--toastBarBackground":"#FF0000"}})};Zt().then(c=>{fetch(f,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(u)}).then(k=>{if(k&&k.status!==200)throw new Error(k.statusText);const h=qt(Oe),E=h.get(l.url)||{count:0,lastAccessDateUnix:0};E.count++,E.lastAccessDateUnix=Date.now()/1e3,h.set(l.url,E),Oe.set(h)}).catch(m)}).catch(m)};return a.$$set=f=>{"chord"in f&&n(0,l=f.chord),"showArtist"in f&&n(5,e=f.showArtist)},[l,r,s,i,o,e]}class Ie extends Le{constructor(t){super(),Te(this,t,al,ol,he,{chord:0,showArtist:5})}}function xe(a,t,n){const l=a.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function et(a){let t,n,l,e,r,s=a[6]&&tt(a);return l=new Ie({props:{chord:a[5],showArtist:!0}}),{c(){t=C("li"),s&&s.c(),n=A(),ce(l.$$.fragment),e=A(),this.h()},l(i){t=w(i,"LI",{class:!0});var o=B(t);s&&s.l(o),n=y(o),ge(l.$$.fragment,o),e=y(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),s&&s.m(t,null),d(t,n),fe(l,t,null),d(t,e),r=!0},p(i,o){i[6]?s?s.p(i,o):(s=tt(i),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const f={};o&1&&(f.chord=i[5]),l.$set(f)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&_(t),s&&s.d(),ue(l)}}}function tt(a){let t,n=a[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=R(r,"("),l=R(r,n),e=R(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Me(l,n)},d(r){r&&(_(t),_(l),_(e))}}}function lt(a){let t=a[4](a[5],a[1],a[2]),n,l,e=t&&et(a);return{c(){e&&e.c(),n=Y()},l(r){e&&e.l(r),n=Y()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&N(e,1)):(e=et(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function nt(a){let t,n,l=z(a[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=lt(xe(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){t=C("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=w(s,"UL",{class:!0});var i=B(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(s,i){T(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,i){if(i&31){l=z(s[0]);let o;for(o=0;o<l.length;o+=1){const f=xe(s,l,o);e[o]?(e[o].p(f,i),N(e[o],1)):(e[o]=lt(f),e[o].c(),N(e[o],1),e[o].m(t,null))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function il(a){let t=a[0],n,l,e=nt(a);return{c(){e.c(),n=Y()},l(r){e.l(r),n=Y()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&he(t,t=r[0])?(x(),U(e,1,1,ne),ee(),e=nt(r),e.c(),N(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e.d(r)}}}function cl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Oe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((f,u)=>{const m=o.get(f.url),c=o.get(u.url);return m&&c?c.lastAccessDateUnix-m.lastAccessDateUnix:m?-1:c?1:f.artist!=u.artist?f.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:f.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const i=(o,f,u)=>u[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return a.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,i]}class fl extends Le{constructor(t){super(),Te(this,t,cl,il,he,{searchString:1,chords:0,filters:2})}}const ul=(a,t)=>a<t?-1:a>t?1:0,Ke=(a,t)=>{const n=a.toLowerCase(),l=t.toLowerCase();return ul(n,l)},{Boolean:Mt}=It;function st(a,t,n){const l=a.slice();l[14]=t[n];const e=l[8](l[14].name,l[0],l[1]);l[15]=e;const r=l[9](l[14].name,l[0]);return l[16]=r,l}function rt(a,t,n){const l=a.slice();return l[20]=t[n],l}function je(a){const t=a.slice(),n=t[16]?t[5][t[14].name]:t[15];return t[19]=n,t}function ot(a,t,n){const l=a.slice();return l[23]=t[n],l}function at(a){let t,n,l=a[23].letter.toUpperCase()+"",e,r;return{c(){t=C("li"),n=C("a"),e=H(l),r=A(),this.h()},l(s){t=w(s,"LI",{class:!0});var i=B(t);n=w(i,"A",{href:!0,class:!0});var o=B(n);e=R(o,l),o.forEach(_),r=y(i),i.forEach(_),this.h()},h(){L(n,"href","#"+a[23].tag),L(n,"class","navigationLink svelte-1deg5s8"),L(t,"class","navigationBtn svelte-1deg5s8")},m(s,i){T(s,t,i),d(t,n),d(n,e),d(t,r)},p:ne,d(s){s&&_(t)}}}function it(a){let t,n,l=a[14].name+"",e,r,s,i,o,f=z(a[19]),u=[];for(let c=0;c<f.length;c+=1)u[c]=ct(rt(a,f,c));const m=c=>U(u[c],1,1,()=>{u[c]=null});return{c(){t=C("tr"),n=C("td"),e=H(l),r=A(),s=C("ul");for(let c=0;c<u.length;c+=1)u[c].c();i=A(),this.h()},l(c){t=w(c,"TR",{class:!0});var k=B(t);n=w(k,"TD",{id:!0,class:!0});var h=B(n);e=R(h,l),r=y(h),s=w(h,"UL",{class:!0});var E=B(s);for(let p=0;p<u.length;p+=1)u[p].l(E);E.forEach(_),h.forEach(_),i=y(k),k.forEach(_),this.h()},h(){L(s,"class","ul2col-container"),L(n,"id",a[14].tag),L(n,"class","svelte-1deg5s8"),L(t,"class","svelte-1deg5s8")},m(c,k){T(c,t,k),d(t,n),d(n,e),d(n,r),d(n,s);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(s,null);d(t,i),o=!0},p(c,k){if(k&931){f=z(c[19]);let h;for(h=0;h<f.length;h+=1){const E=rt(c,f,h);u[h]?(u[h].p(E,k),N(u[h],1)):(u[h]=ct(E),u[h].c(),N(u[h],1),u[h].m(s,null))}for(x(),h=f.length;h<u.length;h+=1)m(h);ee()}},i(c){if(!o){for(let k=0;k<f.length;k+=1)N(u[k]);o=!0}},o(c){u=u.filter(Mt);for(let k=0;k<u.length;k+=1)U(u[k]);o=!1},d(c){c&&_(t),pe(u,c)}}}function ct(a){let t,n,l,e;return n=new Ie({props:{chord:a[20]}}),{c(){t=C("li"),ce(n.$$.fragment),l=A(),this.h()},l(r){t=w(r,"LI",{class:!0});var s=B(t);ge(n.$$.fragment,s),l=y(s),s.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(r,s){T(r,t,s),fe(n,t,null),d(t,l),e=!0},p(r,s){const i={};s&3&&(i.chord=r[20]),n.$set(i)},i(r){e||(N(n.$$.fragment,r),e=!0)},o(r){U(n.$$.fragment,r),e=!1},d(r){r&&_(t),ue(n)}}}function ft(a){let t,n,l=(a[16]||a[15].length>0)&&it(je(a));return{c(){l&&l.c(),t=Y()},l(e){l&&l.l(e),t=Y()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[16]||e[15].length>0?l?(l.p(je(e),r),r&3&&N(l,1)):(l=it(je(e)),l.c(),N(l,1),l.m(t.parentNode,t)):l&&(x(),U(l,1,1,()=>{l=null}),ee())},i(e){n||(N(l),n=!0)},o(e){U(l),n=!1},d(e){e&&_(t),l&&l.d(e)}}}function hl(a){let t=!1,n=()=>{t=!1},l,e,r=`${a[3]}px`,s,i,o,f,u;Vt(a[11]);let m=z(a[6]),c=[];for(let p=0;p<m.length;p+=1)c[p]=at(ot(a,m,p));let k=z(a[7]),h=[];for(let p=0;p<k.length;p+=1)h[p]=ft(st(a,k,p));const E=p=>U(h[p],1,1,()=>{h[p]=null});return{c(){e=C("ol");for(let p=0;p<c.length;p+=1)c[p].c();s=A(),i=C("table");for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){e=w(p,"OL",{id:!0,class:!0});var g=B(e);for(let P=0;P<c.length;P+=1)c[P].l(g);g.forEach(_),s=y(p),i=w(p,"TABLE",{id:!0});var v=B(i);for(let P=0;P<h.length;P+=1)h[P].l(v);v.forEach(_),this.h()},h(){L(e,"id","indexList"),L(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),Ve(e,"--barTop",r),L(i,"id","artistTable")},m(p,g){T(p,e,g);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(e,null);T(p,s,g),T(p,i,g);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(i,null);a[12](i),o=!0,f||(u=te(window,"scroll",()=>{t=!0,clearTimeout(l),l=setTimeout(n,100),a[11]()}),f=!0)},p(p,[g]){if(g&4&&!t&&(t=!0,clearTimeout(l),scrollTo(window.pageXOffset,p[2]),l=setTimeout(n,100)),g&64){m=z(p[6]);let v;for(v=0;v<m.length;v+=1){const P=ot(p,m,v);c[v]?c[v].p(P,g):(c[v]=at(P),c[v].c(),c[v].m(e,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=m.length}if(g&8&&r!==(r=`${p[3]}px`)&&Ve(e,"--barTop",r),g&931){k=z(p[7]);let v;for(v=0;v<k.length;v+=1){const P=st(p,k,v);h[v]?(h[v].p(P,g),N(h[v],1)):(h[v]=ft(P),h[v].c(),N(h[v],1),h[v].m(i,null))}for(x(),v=k.length;v<h.length;v+=1)E(v);ee()}},i(p){if(!o){for(let g=0;g<k.length;g+=1)N(h[g]);o=!0}},o(p){h=h.filter(Mt);for(let g=0;g<h.length;g+=1)U(h[g]);o=!1},d(p){p&&(_(e),_(s),_(i)),pe(c,p),pe(h,p),a[12](null),f=!1,u()}}}function _l(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=e.reduce((g,v)=>{const P=v.artist;return g[P]||(g[P]=[]),g[P].push(v),g},{}),i=[],o=Object.keys(s).sort(Ke).map((g,v,P)=>{if(v===0||g[0].toLowerCase()!=P[v-1][0].toLowerCase()){const S="anchor_letter_"+g[0];return i.push({letter:g[0],tag:S}),{name:g,tag:S}}return{name:g}});let f,u=0,m;const c=g=>{if(m){var v=m.getBoundingClientRect();if(v.top<20){n(3,u=20);return}n(3,u=v.top)}},k=(g,v,P)=>s[g].sort(($,I)=>$.title<I.title?-1:1).filter($=>{const I=$.type;return P[I]===!1?!1:v.length===0?!0:!!$.title.toLowerCase().match(v.toLowerCase())}),h=(g,v)=>!!g.toLowerCase().match(v.toLowerCase());function E(){n(2,f=window.pageYOffset)}function p(g){zt[g?"unshift":"push"](()=>{m=g,n(4,m)})}return a.$$set=g=>{"searchString"in g&&n(0,l=g.searchString),"chords"in g&&n(10,e=g.chords),"filters"in g&&n(1,r=g.filters)},a.$$.update=()=>{a.$$.dirty&4&&c()},[l,r,f,u,m,s,i,o,k,h,e,E,p]}class dl extends Le{constructor(t){super(),Te(this,t,_l,hl,he,{searchString:0,chords:10,filters:1})}}function ut(a,t,n){const l=a.slice();return l[5]=t[n],l}function ht(a,t,n){const l=a.slice();return l[8]=t[n],l}function _t(a){let t,n,l=a[3](a[5])+"",e,r,s,i,o,f=z(a[2][a[5]]),u=[];for(let c=0;c<f.length;c+=1)u[c]=mt(ht(a,f,c));const m=c=>U(u[c],1,1,()=>{u[c]=null});return{c(){t=C("div"),n=C("span"),e=H(l),r=A(),s=C("ul");for(let c=0;c<u.length;c+=1)u[c].c();i=A(),this.h()},l(c){t=w(c,"DIV",{});var k=B(t);n=w(k,"SPAN",{});var h=B(n);e=R(h,l),h.forEach(_),r=y(k),s=w(k,"UL",{class:!0});var E=B(s);for(let p=0;p<u.length;p+=1)u[p].l(E);E.forEach(_),i=y(k),k.forEach(_),this.h()},h(){L(s,"class","ul2col-container")},m(c,k){T(c,t,k),d(t,n),d(n,e),d(t,r),d(t,s);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(s,null);d(t,i),o=!0},p(c,k){if((!o||k&4)&&l!==(l=c[3](c[5])+"")&&Me(e,l),k&6){f=z(c[2][c[5]]);let h;for(h=0;h<f.length;h+=1){const E=ht(c,f,h);u[h]?(u[h].p(E,k),N(u[h],1)):(u[h]=mt(E),u[h].c(),N(u[h],1),u[h].m(s,null))}for(x(),h=f.length;h<u.length;h+=1)m(h);ee()}},i(c){if(!o){for(let k=0;k<f.length;k+=1)N(u[k]);o=!0}},o(c){u=u.filter(Boolean);for(let k=0;k<u.length;k+=1)U(u[k]);o=!1},d(c){c&&_(t),pe(u,c)}}}function dt(a){let t,n,l,e;return n=new Ie({props:{chord:a[8],showArtist:!0}}),{c(){t=C("li"),ce(n.$$.fragment),l=A(),this.h()},l(r){t=w(r,"LI",{class:!0});var s=B(t);ge(n.$$.fragment,s),l=y(s),s.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(r,s){T(r,t,s),fe(n,t,null),d(t,l),e=!0},p(r,s){const i={};s&4&&(i.chord=r[8]),n.$set(i)},i(r){e||(N(n.$$.fragment,r),e=!0)},o(r){U(n.$$.fragment,r),e=!1},d(r){r&&_(t),ue(n)}}}function mt(a){let t,n,l=a[1][a[8].type]&&dt(a);return{c(){l&&l.c(),t=Y()},l(e){l&&l.l(e),t=Y()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[1][e[8].type]?l?(l.p(e,r),r&6&&N(l,1)):(l=dt(e),l.c(),N(l,1),l.m(t.parentNode,t)):l&&(x(),U(l,1,1,()=>{l=null}),ee())},i(e){n||(N(l),n=!0)},o(e){U(l),n=!1},d(e){e&&_(t),l&&l.d(e)}}}function gt(a){let t=a[0].length===0||a[5].toLowerCase().match(a[0].toLowerCase()),n,l,e=t&&_t(a);return{c(){e&&e.c(),n=Y()},l(r){e&&e.l(r),n=Y()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&5&&(t=r[0].length===0||r[5].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,s),s&5&&N(e,1)):(e=_t(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function ml(a){let t,n,l=z(Object.keys(a[2]).sort(Ke)),e=[];for(let s=0;s<l.length;s+=1)e[s]=gt(ut(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=Y()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);t=Y()},m(s,i){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,i);T(s,t,i),n=!0},p(s,[i]){if(i&15){l=z(Object.keys(s[2]).sort(Ke));let o;for(o=0;o<l.length;o+=1){const f=ut(s,l,o);e[o]?(e[o].p(f,i),N(e[o],1)):(e[o]=gt(f),e[o].c(),N(e[o],1),e[o].m(t.parentNode,t))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function gl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),i={};for(const o of e)o.tags.forEach(u=>{i[u]||n(2,i[u]=[],i),i[u].push(o)});return Object.keys(i).forEach(o=>{i[o].sort((f,u)=>{const m=f.artist.toLowerCase(),c=u.artist.toLowerCase(),k=f.title.toLowerCase(),h=u.title.toLowerCase();return m<c?-1:m>c?1:k<h?-1:1})}),a.$$set=o=>{"searchString"in o&&n(0,l=o.searchString),"chords"in o&&n(4,e=o.chords),"filters"in o&&n(1,r=o.filters)},[l,r,i,s,e]}class pl extends Le{constructor(t){super(),Te(this,t,gl,ml,he,{searchString:0,chords:4,filters:1})}}function pt(a,t,n){const l=a.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function kt(a){let t,n,l,e,r,s=a[6]&&bt(a);return l=new Ie({props:{chord:a[5],showArtist:!0}}),{c(){t=C("li"),s&&s.c(),n=A(),ce(l.$$.fragment),e=A(),this.h()},l(i){t=w(i,"LI",{class:!0});var o=B(t);s&&s.l(o),n=y(o),ge(l.$$.fragment,o),e=y(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),s&&s.m(t,null),d(t,n),fe(l,t,null),d(t,e),r=!0},p(i,o){i[6]?s?s.p(i,o):(s=bt(i),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const f={};o&1&&(f.chord=i[5]),l.$set(f)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&_(t),s&&s.d(),ue(l)}}}function bt(a){let t,n=a[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=R(r,"("),l=R(r,n),e=R(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Me(l,n)},d(r){r&&(_(t),_(l),_(e))}}}function vt(a){let t=a[4](a[5],a[1],a[2]),n,l,e=t&&kt(a);return{c(){e&&e.c(),n=Y()},l(r){e&&e.l(r),n=Y()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&N(e,1)):(e=kt(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function Ct(a){let t,n,l=z(a[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=vt(pt(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){t=C("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=w(s,"UL",{class:!0});var i=B(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(s,i){T(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,i){if(i&31){l=z(s[0]);let o;for(o=0;o<l.length;o+=1){const f=pt(s,l,o);e[o]?(e[o].p(f,i),N(e[o],1)):(e[o]=vt(f),e[o].c(),N(e[o],1),e[o].m(t,null))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function kl(a){let t=a[0],n,l,e=Ct(a);return{c(){e.c(),n=Y()},l(r){e.l(r),n=Y()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&he(t,t=r[0])?(x(),U(e,1,1,ne),ee(),e=Ct(r),e.c(),N(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e.d(r)}}}function bl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Oe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((f,u)=>{const m=o.get(f.url),c=o.get(u.url);return m&&c?m.count!==c.count?c.count-m.count:c.lastAccessDateUnix-m.lastAccessDateUnix:m?-1:c?1:f.artist!=u.artist?f.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:f.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const i=(o,f,u)=>u[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return a.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,i]}class vl extends Le{constructor(t){super(),Te(this,t,bl,kl,he,{searchString:1,chords:0,filters:2})}}function wt(a){const t=a[2](a[5]);a[6]=t;const n=a[3](a[5]);a[7]=n}function Lt(a,t,n){const l=a.slice();return l[8]=t[n],l}function Tt(a){let t,n,l,e,r,s="Close",i,o,f,u={ctx:a,current:null,token:null,hasCatch:!0,pending:Ll,then:wl,catch:Cl,value:5,error:11};return xt(a[1],u),{c(){t=C("div"),n=C("div"),l=C("h3"),e=H(`Urls checks
                `),r=C("button"),r.textContent=s,i=A(),u.block.c(),this.h()},l(m){t=w(m,"DIV",{role:!0,class:!0});var c=B(t);n=w(c,"DIV",{class:!0});var k=B(n);l=w(k,"H3",{class:!0});var h=B(l);e=R(h,`Urls checks
                `),r=w(h,"BUTTON",{"data-svelte-h":!0}),X(r)!=="svelte-2m9p61"&&(r.textContent=s),h.forEach(_),i=y(k),u.block.l(k),k.forEach(_),c.forEach(_),this.h()},h(){L(l,"class","title-bar svelte-1b7k28l"),L(n,"class","contents svelte-1b7k28l"),L(t,"role","dialog"),L(t,"class","modal svelte-1b7k28l")},m(m,c){T(m,t,c),d(t,n),d(n,l),d(l,e),d(l,r),d(n,i),u.block.m(n,u.anchor=null),u.mount=()=>n,u.anchor=null,o||(f=te(r,"click",Jt),o=!0)},p(m,c){a=m,el(u,a,c)},d(m){m&&_(t),u.block.d(),u.token=null,u=null,o=!1,f()}}}function Cl(a){let t,n,l=a[11].message+"",e;return{c(){t=C("p"),n=H("Could not retrieve checks: "),e=H(l),this.h()},l(r){t=w(r,"P",{style:!0});var s=B(t);n=R(s,"Could not retrieve checks: "),e=R(s,l),s.forEach(_),this.h()},h(){Ve(t,"color","red")},m(r,s){T(r,t,s),d(t,n),d(t,e)},p:ne,d(r){r&&_(t)}}}function wl(a){wt(a);let t,n,l="Last Check",e,r,s="Checks",i,o,f="Skipped",u,m,c="Errors",k,h,E=a[6]+"",p,g,v,P=a[5].nbChecks+"",S,$,I,Z=a[5].nbSkipped+"",F,W,Se,$e=a[5].nbFails+"",se,Ae,re,Be,G,Q,Ee="Status",De,_e,Pe="Ref",ke,be,Ue="Host",de,oe,q="Data",ve,me=z(a[7]),K=[];for(let M=0;M<me.length;M+=1)K[M]=St(Lt(a,me,M));return{c(){t=C("div"),n=C("span"),n.textContent=l,e=A(),r=C("span"),r.textContent=s,i=A(),o=C("span"),o.textContent=f,u=A(),m=C("span"),m.textContent=c,k=A(),h=C("span"),p=H(E),g=A(),v=C("span"),S=H(P),$=A(),I=C("span"),F=H(Z),W=A(),Se=C("span"),se=H($e),Ae=A(),re=C("br"),Be=A(),G=C("div"),Q=C("span"),Q.textContent=Ee,De=A(),_e=C("span"),_e.textContent=Pe,ke=A(),be=C("span"),be.textContent=Ue,de=A(),oe=C("span"),oe.textContent=q,ve=A();for(let M=0;M<K.length;M+=1)K[M].c();this.h()},l(M){t=w(M,"DIV",{class:!0});var V=B(t);n=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-1lbvzb0"&&(n.textContent=l),e=y(V),r=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1wmxeaf"&&(r.textContent=s),i=y(V),o=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-txun94"&&(o.textContent=f),u=y(V),m=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-5mrj6x"&&(m.textContent=c),k=y(V),h=w(V,"SPAN",{class:!0});var O=B(h);p=R(O,E),O.forEach(_),g=y(V),v=w(V,"SPAN",{class:!0});var ae=B(v);S=R(ae,P),ae.forEach(_),$=y(V),I=w(V,"SPAN",{class:!0});var J=B(I);F=R(J,Z),J.forEach(_),W=y(V),Se=w(V,"SPAN",{class:!0});var Ce=B(Se);se=R(Ce,$e),Ce.forEach(_),V.forEach(_),Ae=y(M),re=w(M,"BR",{}),Be=y(M),G=w(M,"DIV",{class:!0});var le=B(G);Q=w(le,"SPAN",{class:!0,"data-svelte-h":!0}),X(Q)!=="svelte-1s7ffxq"&&(Q.textContent=Ee),De=y(le),_e=w(le,"SPAN",{class:!0,"data-svelte-h":!0}),X(_e)!=="svelte-1wa8gqx"&&(_e.textContent=Pe),ke=y(le),be=w(le,"SPAN",{class:!0,"data-svelte-h":!0}),X(be)!=="svelte-33rgke"&&(be.textContent=Ue),de=y(le),oe=w(le,"SPAN",{class:!0,"data-svelte-h":!0}),X(oe)!=="svelte-1yzk30k"&&(oe.textContent=q),ve=y(le);for(let b=0;b<K.length;b+=1)K[b].l(le);le.forEach(_),this.h()},h(){L(n,"class","col table-head svelte-1b7k28l"),L(r,"class","col table-head svelte-1b7k28l"),L(o,"class","col table-head svelte-1b7k28l"),L(m,"class","col table-head svelte-1b7k28l"),L(h,"class","col svelte-1b7k28l"),L(v,"class","col svelte-1b7k28l"),L(I,"class","col svelte-1b7k28l"),L(Se,"class","col svelte-1b7k28l"),L(t,"class","rows svelte-1b7k28l"),L(Q,"class","col table-head svelte-1b7k28l"),L(_e,"class","col table-head svelte-1b7k28l"),L(be,"class","col table-head svelte-1b7k28l"),L(oe,"class","col table-head svelte-1b7k28l"),L(G,"class","rows svelte-1b7k28l")},m(M,V){T(M,t,V),d(t,n),d(t,e),d(t,r),d(t,i),d(t,o),d(t,u),d(t,m),d(t,k),d(t,h),d(h,p),d(t,g),d(t,v),d(v,S),d(t,$),d(t,I),d(I,F),d(t,W),d(t,Se),d(Se,se),T(M,Ae,V),T(M,re,V),T(M,Be,V),T(M,G,V),d(G,Q),d(G,De),d(G,_e),d(G,ke),d(G,be),d(G,de),d(G,oe),d(G,ve);for(let O=0;O<K.length;O+=1)K[O]&&K[O].m(G,null)},p(M,V){if(wt(M),V&10){me=z(M[7]);let O;for(O=0;O<me.length;O+=1){const ae=Lt(M,me,O);K[O]?K[O].p(ae,V):(K[O]=St(ae),K[O].c(),K[O].m(G,null))}for(;O<K.length;O+=1)K[O].d(1);K.length=me.length}},d(M){M&&(_(t),_(Ae),_(re),_(Be),_(G)),pe(K,M)}}}function St(a){let t,n=a[8].status+"",l,e,r,s=a[8].chord.artist+"",i,o,f=a[8].chord.title+"",u,m,c,k,h=new URL(a[8].chord.url).hostname+"",E,p,g,v=(a[8].error?JSON.stringify(a[8].error):"")+"",P;return{c(){t=C("span"),l=H(n),e=A(),r=C("span"),i=H(s),o=H(" - "),u=H(f),m=A(),c=C("span"),k=C("a"),E=H(h),p=A(),g=C("span"),P=H(v),this.h()},l(S){t=w(S,"SPAN",{class:!0});var $=B(t);l=R($,n),$.forEach(_),e=y(S),r=w(S,"SPAN",{class:!0});var I=B(r);i=R(I,s),o=R(I," - "),u=R(I,f),I.forEach(_),m=y(S),c=w(S,"SPAN",{class:!0});var Z=B(c);k=w(Z,"A",{href:!0,target:!0,rel:!0});var F=B(k);E=R(F,h),F.forEach(_),Z.forEach(_),p=y(S),g=w(S,"SPAN",{class:!0});var W=B(g);P=R(W,v),W.forEach(_),this.h()},h(){L(t,"class","col svelte-1b7k28l"),L(r,"class","col svelte-1b7k28l"),L(k,"href",a[8].chord.url),L(k,"target","_blank"),L(k,"rel","noopener noreferrer"),L(c,"class","col svelte-1b7k28l"),L(g,"class","col svelte-1b7k28l")},m(S,$){T(S,t,$),d(t,l),T(S,e,$),T(S,r,$),d(r,i),d(r,o),d(r,u),T(S,m,$),T(S,c,$),d(c,k),d(k,E),T(S,p,$),T(S,g,$),d(g,P)},p:ne,d(S){S&&(_(t),_(e),_(r),_(m),_(c),_(p),_(g))}}}function Ll(a){let t,n="Fetching results...";return{c(){t=C("p"),t.textContent=n},l(l){t=w(l,"P",{"data-svelte-h":!0}),X(t)!=="svelte-gjakbw"&&(t.textContent=n)},m(l,e){T(l,t,e)},p:ne,d(l){l&&_(t)}}}function Tl(a){let t,n=a[0]&&Tt(a);return{c(){n&&n.c(),t=Y()},l(l){n&&n.l(l),t=Y()},m(l,e){n&&n.m(l,e),T(l,t,e)},p(l,[e]){l[0]?n?n.p(l,e):(n=Tt(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ne,o:ne,d(l){l&&_(t),n&&n.d(l)}}}function Sl(a,t,n){let{isOpen:l}=t;const e=Ht+"/chords/checkLinks";let r=fetch(e).then(o=>o.json());const s=o=>{const f=new Date(o.timestamp);return f.toDateString()+" "+f.toTimeString()},i=o=>o.fails.sort((f,u)=>f.chord.url<u.chord.url?-1:1);return a.$$set=o=>{"isOpen"in o&&n(0,l=o.isOpen)},[l,r,s,i]}class El extends Le{constructor(t){super(),Te(this,t,Sl,Tl,he,{isOpen:0})}}function Et(a,t,n){const l=a.slice();return l[10]=t[n],l}function At(a){let t,n=a[10].dateTag+"",l;return{c(){t=C("li"),l=H(n),this.h()},l(e){t=w(e,"LI",{class:!0});var r=B(t);l=R(r,n),r.forEach(_),this.h()},h(){L(t,"class","ul2col-separator")},m(e,r){T(e,t,r),d(t,l)},p(e,r){r&1&&n!==(n=e[10].dateTag+"")&&Me(l,n)},d(e){e&&_(t)}}}function yt(a){let t,n,l,e,r,s=a[10].dateTag&&At(a);return l=new Ie({props:{chord:a[10]}}),{c(){s&&s.c(),t=A(),n=C("li"),ce(l.$$.fragment),e=A(),this.h()},l(i){s&&s.l(i),t=y(i),n=w(i,"LI",{class:!0});var o=B(n);ge(l.$$.fragment,o),e=y(o),o.forEach(_),this.h()},h(){L(n,"class","ul2col-item")},m(i,o){s&&s.m(i,o),T(i,t,o),T(i,n,o),fe(l,n,null),d(n,e),r=!0},p(i,o){i[10].dateTag?s?s.p(i,o):(s=At(i),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const f={};o&1&&(f.chord=i[10]),l.$set(f)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&(_(t),_(n)),s&&s.d(i),ue(l)}}}function Al(a){let t,n,l,e,r="More...",s,i,o,f,u,m=z(a[0]),c=[];for(let h=0;h<m.length;h+=1)c[h]=yt(Et(a,m,h));const k=h=>U(c[h],1,1,()=>{c[h]=null});return{c(){t=C("div"),n=C("h3"),l=H(`Latest additions
        `),e=C("button"),e.textContent=r,s=A(),i=C("ul");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){t=w(h,"DIV",{});var E=B(t);n=w(E,"H3",{});var p=B(n);l=R(p,`Latest additions
        `),e=w(p,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-l2h3rt"&&(e.textContent=r),p.forEach(_),s=y(E),i=w(E,"UL",{class:!0});var g=B(i);for(let v=0;v<c.length;v+=1)c[v].l(g);g.forEach(_),E.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(i,"class","ul2col-container")},m(h,E){T(h,t,E),d(t,n),d(n,l),d(n,e),d(t,s),d(t,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(i,null);o=!0,f||(u=te(e,"click",a[3]),f=!0)},p(h,[E]){if(E&1){m=z(h[0]);let p;for(p=0;p<m.length;p+=1){const g=Et(h,m,p);c[p]?(c[p].p(g,E),N(c[p],1)):(c[p]=yt(g),c[p].c(),N(c[p],1),c[p].m(i,null))}for(x(),p=m.length;p<c.length;p+=1)k(p);ee()}},i(h){if(!o){for(let E=0;E<m.length;E+=1)N(c[E]);o=!0}},o(h){c=c.filter(Boolean);for(let E=0;E<c.length;E+=1)U(c[E]);o=!1},d(h){h&&_(t),pe(c,h),f=!1,u()}}}function yl(a,t,n){let{chords:l}=t;const e=Date.now(),r=1e3*3600*24*7,s=r*4,i=[{label:"last week",time:e-r},{label:"one month ago",time:e-s},{label:"two monthes ago",time:e-2*s},{label:"six monthes ago",time:e-6*s},{label:"one year ago",time:e-12*s}],o=l.filter(k=>k.creationDate).sort((k,h)=>h.creationDate-k.creationDate).map((k,h,E)=>{const p={...k};if(h>0){const g=E[h-1];for(const{time:v,label:P}of i)g.creationDate>v&&k.creationDate<v&&(p.dateTag=P)}return p});let f=6,u=[];const m=()=>{f+=4,n(0,u=o.slice(0,f))};Je(()=>{m()});const c=()=>m();return a.$$set=k=>{"chords"in k&&n(2,l=k.chords)},[u,m,l,c]}class Bl extends Le{constructor(t){super(),Te(this,t,yl,Al,he,{chords:2})}}function Bt(a,t,n){const l=a.slice();return l[5]=t[n],l}function Nt(a){let t,n=" ↶ ",l,e;return{c(){t=C("button"),t.textContent=n},l(r){t=w(r,"BUTTON",{"data-svelte-h":!0}),X(t)!=="svelte-1mg1zky"&&(t.textContent=n)},m(r,s){T(r,t,s),l||(e=te(t,"click",a[3]),l=!0)},p:ne,d(r){r&&_(t),l=!1,e()}}}function $t(a,t){let n,l,e,r;return l=new Ie({props:{chord:t[5],showArtist:!0}}),{key:a,first:null,c(){n=C("li"),ce(l.$$.fragment),e=A(),this.h()},l(s){n=w(s,"LI",{class:!0});var i=B(n);ge(l.$$.fragment,i),e=y(i),i.forEach(_),this.h()},h(){L(n,"class","ul2col-item"),this.first=n},m(s,i){T(s,n,i),fe(l,n,null),d(n,e),r=!0},p(s,i){t=s;const o={};i&2&&(o.chord=t[5]),l.$set(o)},i(s){r||(N(l.$$.fragment,s),r=!0)},o(s){U(l.$$.fragment,s),r=!1},d(s){s&&_(n),ue(l)}}}function Nl(a){let t,n,l,e,r,s,i="Get more random songs",o,f,u,m,c=[],k=new Map,h,E,p,g=a[0].length>ye&&Nt(a),v=z(a[1]);const P=S=>S[5].url;for(let S=0;S<v.length;S+=1){let $=Bt(a,v,S),I=P($);k.set(I,c[S]=$t(I,$))}return{c(){t=C("div"),n=C("h3"),l=H(`Random song
        `),e=C("span"),g&&g.c(),r=A(),s=C("button"),s.textContent=i,o=A(),f=C("br"),u=A(),m=C("ul");for(let S=0;S<c.length;S+=1)c[S].c();this.h()},l(S){t=w(S,"DIV",{});var $=B(t);n=w($,"H3",{});var I=B(n);l=R(I,`Random song
        `),e=w(I,"SPAN",{class:!0});var Z=B(e);g&&g.l(Z),r=y(Z),s=w(Z,"BUTTON",{"data-svelte-h":!0}),X(s)!=="svelte-1gfm3kd"&&(s.textContent=i),Z.forEach(_),I.forEach(_),o=y($),f=w($,"BR",{}),u=y($),m=w($,"UL",{class:!0});var F=B(m);for(let W=0;W<c.length;W+=1)c[W].l(F);F.forEach(_),$.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(m,"class","ul2col-container")},m(S,$){T(S,t,$),d(t,n),d(n,l),d(n,e),g&&g.m(e,null),d(e,r),d(e,s),d(t,o),d(t,f),d(t,u),d(t,m);for(let I=0;I<c.length;I+=1)c[I]&&c[I].m(m,null);h=!0,E||(p=te(s,"click",a[2]),E=!0)},p(S,[$]){S[0].length>ye?g?g.p(S,$):(g=Nt(S),g.c(),g.m(e,r)):g&&(g.d(1),g=null),$&2&&(v=z(S[1]),x(),c=Kt(c,$,P,1,S,v,k,m,Gt,$t,null,Bt),ee())},i(S){if(!h){for(let $=0;$<v.length;$+=1)N(c[$]);h=!0}},o(S){for(let $=0;$<c.length;$+=1)U(c[$]);h=!1},d(S){S&&_(t),g&&g.d();for(let $=0;$<c.length;$+=1)c[$].d();E=!1,p()}}}const ye=6;function $l(a,t,n){let{chords:l}=t,e=[],r=[];const s=()=>{e.length>=l.length-ye&&n(0,e=[]);for(let o=0;o<ye;o++){let f=-1;for(;f===-1||e.includes(f);)f=Math.floor(Math.random()*l.length);e.push(f)}n(1,r=e.slice(e.length-ye).map(o=>l[o]))},i=()=>{e.length<=ye||(e.splice(e.length-ye),n(1,r=e.slice(e.length-ye).map(o=>l[o])))};return Je(()=>{s()}),a.$$set=o=>{"chords"in o&&n(4,l=o.chords)},[e,r,s,i,l]}class Dl extends Le{constructor(t){super(),Te(this,t,$l,Nl,he,{chords:4})}}function Dt(a,t,n){const l=a.slice();return l[14]=t[n],l}function Pt(a,t,n){const l=a.slice();return l[17]=t[n],l[18]=t,l[19]=n,l}function Ut(a){let t,n,l,e,r,s,i;function o(){a[11].call(n,a[17])}function f(){return a[12](a[17])}return{c(){t=C("button"),n=C("input"),l=A(),e=C("span"),r=A(),this.h()},l(u){t=w(u,"BUTTON",{class:!0});var m=B(t);n=w(m,"INPUT",{id:!0,type:!0}),l=y(m),e=w(m,"SPAN",{class:!0}),B(e).forEach(_),r=y(m),m.forEach(_),this.h()},h(){L(n,"id",a[17]),L(n,"type","checkbox"),L(e,"class",Fe(ze(a[17]))+" svelte-kiyfxh"),L(t,"class","filter-control svelte-kiyfxh")},m(u,m){T(u,t,m),d(t,n),n.checked=a[2][a[17]],d(t,l),d(t,e),d(t,r),s||(i=[te(n,"change",o),te(t,"click",f)],s=!0)},p(u,m){a=u,m&36&&(n.checked=a[2][a[17]])},d(u){u&&_(t),s=!1,Ge(i)}}}function Ot(a){let t,n=a[14].label+"",l,e,r,s;function i(){return a[13](a[14])}return{c(){t=C("button"),l=H(n),e=A(),this.h()},l(o){t=w(o,"BUTTON",{class:!0});var f=B(t);l=R(f,n),e=y(f),f.forEach(_),this.h()},h(){L(t,"class","control svelte-kiyfxh"),Re(t,"selected",a[1]===a[14])},m(o,f){T(o,t,f),d(t,l),d(t,e),r||(s=te(t,"click",i),r=!0)},p(o,f){a=o,f&18&&Re(t,"selected",a[1]===a[14])},d(o){o&&_(t),r=!1,s()}}}function Pl(a){let t,n,l,e,r,s,i="Check dead links",o,f,u="Edit",m,c,k,h,E,p=a[3].length+"",g,v,P,S,$,I,Z,F,W,Se="All songs",$e,se,Ae,re,Be='<i class="fas fa-times-circle"></i>',G,Q,Ee,De="Filters",_e,Pe,ke,be="View",Ue,de,oe,q,ve,me,K,M;t=new Yt({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}}),c=new rl({}),S=new Bl({props:{chords:a[3]}}),I=new Dl({props:{chords:a[3]}});let V=z(a[5]),O=[];for(let b=0;b<V.length;b+=1)O[b]=Ut(Pt(a,V,b));let ae=z(a[4]),J=[];for(let b=0;b<ae.length;b+=1)J[b]=Ot(Dt(a,ae,b));var Ce=a[1].component;function le(b,j){return{props:{chords:b[3],searchString:b[0],filters:b[2]}}}return Ce&&(q=Ye(Ce,le(a))),{c(){ce(t.$$.fragment),n=A(),l=C("h2"),e=H(`Song book
    `),r=C("span"),s=C("button"),s.textContent=i,o=A(),f=C("button"),f.textContent=u,m=A(),ce(c.$$.fragment),k=A(),h=C("p"),E=H("This is a list of "),g=H(p),v=H(` song chords I have been gathering for the past 10 years and that
    I like to play.`),P=A(),ce(S.$$.fragment),$=A(),ce(I.$$.fragment),Z=A(),F=C("div"),W=C("h3"),W.textContent=Se,$e=H(`
    Search an artist, a title or a tag:`),se=C("input"),Ae=A(),re=C("button"),re.innerHTML=Be,G=A(),Q=C("div"),Ee=C("h4"),Ee.textContent=De,_e=A();for(let b=0;b<O.length;b+=1)O[b].c();Pe=A(),ke=C("h4"),ke.textContent=be,Ue=A(),de=C("div");for(let b=0;b<J.length;b+=1)J[b].c();oe=A(),q&&ce(q.$$.fragment),ve=Y(),this.h()},l(b){ge(t.$$.fragment,b),n=y(b),l=w(b,"H2",{});var j=B(l);e=R(j,`Song book
    `),r=w(j,"SPAN",{class:!0});var D=B(r);s=w(D,"BUTTON",{"data-svelte-h":!0}),X(s)!=="svelte-13v6ylk"&&(s.textContent=i),o=y(D),f=w(D,"BUTTON",{"data-svelte-h":!0}),X(f)!=="svelte-18v2orh"&&(f.textContent=u),D.forEach(_),j.forEach(_),m=y(b),ge(c.$$.fragment,b),k=y(b),h=w(b,"P",{});var we=B(h);E=R(we,"This is a list of "),g=R(we,p),v=R(we,` song chords I have been gathering for the past 10 years and that
    I like to play.`),we.forEach(_),P=y(b),ge(S.$$.fragment,b),$=y(b),ge(I.$$.fragment,b),Z=y(b),F=w(b,"DIV",{});var ie=B(F);W=w(ie,"H3",{"data-svelte-h":!0}),X(W)!=="svelte-bfvigd"&&(W.textContent=Se),$e=R(ie,`
    Search an artist, a title or a tag:`),se=w(ie,"INPUT",{type:!0}),Ae=y(ie),re=w(ie,"BUTTON",{"data-svelte-h":!0}),X(re)!=="svelte-5nqbye"&&(re.innerHTML=Be),G=y(ie),Q=w(ie,"DIV",{class:!0});var He=B(Q);Ee=w(He,"H4",{"data-svelte-h":!0}),X(Ee)!=="svelte-xazxp3"&&(Ee.textContent=De),_e=y(He);for(let Ne=0;Ne<O.length;Ne+=1)O[Ne].l(He);He.forEach(_),Pe=y(ie),ke=w(ie,"H4",{"data-svelte-h":!0}),X(ke)!=="svelte-1yp5l9r"&&(ke.textContent=be),Ue=y(ie),de=w(ie,"DIV",{class:!0});var Xe=B(de);for(let Ne=0;Ne<J.length;Ne+=1)J[Ne].l(Xe);Xe.forEach(_),ie.forEach(_),oe=y(b),q&&ge(q.$$.fragment,b),ve=Y(),this.h()},h(){Ve(s,"position","relative"),Ve(f,"position","relative"),L(r,"class","pull-right"),L(se,"type","text"),L(Q,"class","filter-controls-container svelte-kiyfxh"),L(de,"class","view-controls-container svelte-kiyfxh")},m(b,j){fe(t,b,j),T(b,n,j),T(b,l,j),d(l,e),d(l,r),d(r,s),d(r,o),d(r,f),T(b,m,j),fe(c,b,j),T(b,k,j),T(b,h,j),d(h,E),d(h,g),d(h,v),T(b,P,j),fe(S,b,j),T(b,$,j),fe(I,b,j),T(b,Z,j),T(b,F,j),d(F,W),d(F,$e),d(F,se),We(se,a[0]),d(F,Ae),d(F,re),d(F,G),d(F,Q),d(Q,Ee),d(Q,_e);for(let D=0;D<O.length;D+=1)O[D]&&O[D].m(Q,null);d(F,Pe),d(F,ke),d(F,Ue),d(F,de);for(let D=0;D<J.length;D+=1)J[D]&&J[D].m(de,null);T(b,oe,j),q&&fe(q,b,j),T(b,ve,j),me=!0,K||(M=[te(s,"click",a[7]),te(f,"click",a[8]),te(se,"input",a[9]),te(re,"click",a[10])],K=!0)},p(b,[j]){if(j&1&&se.value!==b[0]&&We(se,b[0]),j&36){V=z(b[5]);let D;for(D=0;D<V.length;D+=1){const we=Pt(b,V,D);O[D]?O[D].p(we,j):(O[D]=Ut(we),O[D].c(),O[D].m(Q,null))}for(;D<O.length;D+=1)O[D].d(1);O.length=V.length}if(j&18){ae=z(b[4]);let D;for(D=0;D<ae.length;D+=1){const we=Dt(b,ae,D);J[D]?J[D].p(we,j):(J[D]=Ot(we),J[D].c(),J[D].m(de,null))}for(;D<J.length;D+=1)J[D].d(1);J.length=ae.length}if(j&2&&Ce!==(Ce=b[1].component)){if(q){x();const D=q;U(D.$$.fragment,1,0,()=>{ue(D,1)}),ee()}Ce?(q=Ye(Ce,le(b)),ce(q.$$.fragment),N(q.$$.fragment,1),fe(q,ve.parentNode,ve)):q=null}else if(Ce){const D={};j&1&&(D.searchString=b[0]),j&4&&(D.filters=b[2]),q.$set(D)}},i(b){me||(N(t.$$.fragment,b),N(c.$$.fragment,b),N(S.$$.fragment,b),N(I.$$.fragment,b),q&&N(q.$$.fragment,b),me=!0)},o(b){U(t.$$.fragment,b),U(c.$$.fragment,b),U(S.$$.fragment,b),U(I.$$.fragment,b),q&&U(q.$$.fragment,b),me=!1},d(b){b&&(_(n),_(l),_(m),_(k),_(h),_(P),_($),_(Z),_(F),_(oe),_(ve)),ue(t,b),ue(c,b),ue(S,b),ue(I,b),pe(O,b),pe(J,b),q&&ue(q,b),K=!1,Ge(M)}}}function Ul(a,t,n){let{data:l}=t;const{chords:e}=l;Je(async()=>{try{const v=(await Ft()).reduce((P,S)=>(P.set(S.url,{...S}),P),new Map);Oe.set(v)}catch(g){const v=`<strong>Couldn't get visits count</strong><br/> ${g.message}`;Rt.push(v,{duration:0,theme:{"--toastBarBackground":"#FF0000"}})}});let r="";const s=[{label:"By artist",component:dl},{label:"By tags",component:pl},{label:"By frequency",component:vl},{label:"By access date",component:fl}];let i=s[0],o={pdf:!0,doc:!0,youtube:!0,link:!0};const f=Object.keys(o),u=()=>Xt(El),m=()=>tl("/songbook/edit");function c(){r=this.value,n(0,r)}const k=()=>n(0,r="");function h(g){o[g]=this.checked,n(2,o)}const E=g=>{n(2,o[g]=!o[g],o),n(2,o)},p=g=>n(1,i=g);return a.$$set=g=>{"data"in g&&n(6,l=g.data)},[r,i,o,e,s,f,l,u,m,c,k,h,E,p]}class Yl extends Le{constructor(t){super(),Te(this,t,Ul,Pl,he,{data:6})}}export{Yl as component,Xl as universal};
