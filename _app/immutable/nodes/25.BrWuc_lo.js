import"../chunks/NZTpNUN0.js";import{o as G}from"../chunks/CVDCh7bQ.js";import{p as A,c as w,f as l,a as o,d as E,g as t,u as S,b as u,s as f,e as c,r as p,t as I,i as J,h as K}from"../chunks/OOCdeaM4.js";import{s as P,d as N}from"../chunks/DBBHR-3t.js";import{i as H}from"../chunks/BMFH8sZT.js";import{a as F,s as U}from"../chunks/BY6cWyRb.js";import{u as V}from"../chunks/bMdrnNxv.js";import{M as O}from"../chunks/C8MJLfl1.js";import{M as j}from"../chunks/DKcpRBkl.js";import{e as Q,i as R}from"../chunks/80iJqotc.js";import{a as W}from"../chunks/Bfiui_HV.js";import{D as X}from"../chunks/DTyfSRsR.js";import{g as Y}from"../chunks/Bd9sQ8Nq.js";import"../chunks/DRxGxY2p.js";import"../chunks/DiYuexAL.js";import{p as Z}from"../chunks/BOKhb25Z.js";import{g as ee}from"../chunks/BmcunZc1.js";var te=u('<div class="event svelte-cyscl8"><div class="event-date"> </div> <div class="event-type"> </div> <div class="event-value"> </div></div>'),ae=u('<div class="event svelte-cyscl8"><div>Date</div> <div>Type</div> <div>Value</div></div> <!>',1),re=u("<p>Loading events</p>");function oe(h,n){A(n,!0);const y=()=>F(V,"$user",M),[M,k]=U();var v=w(),s=l(v);{var g=i=>{var _=w(),$=l(_);W($,()=>n.events,a=>{var e=re();o(a,e)},(a,e)=>{var r=ae(),d=f(l(r),2);Q(d,17,()=>t(e),R,(b,m)=>{const q=S(()=>X.fromSeconds(t(m).eventDateUnix).toLocal().toFormat("dd/MM/yy HH:mm"));var x=te(),D=c(x),z=c(D,!0);p(D);var L=f(D,2),B=c(L,!0);p(L);var T=f(L,2),C=c(T,!0);p(T),p(x),I(()=>{P(z,t(q)),P(B,t(m).type),P(C,t(m).value)}),o(b,x)}),o(a,r)},(a,e)=>{{let r=S(()=>({level:"error",header:"Something went wrong getting events",message:t(e)}));j(a,{get item(){return t(r)}})}}),o(i,_)};H(s,i=>{y()&&n.events&&i(g)})}o(h,v),E(),k()}var se=u("<div><button>Add an entry</button></div> <!>",1),ie=u("<!> <!>",1);function xe(h,n){A(n,!0);const y=()=>F(V,"$user",M),[M,k]=U();let v=K(void 0);const s={name:"Personal Tracker",description:"Track me metrics",iconPath:"/personal_tracker.png"};Z.set(s),G(()=>J(v,Y(),!0));var g=ie(),i=l(g);O(i,{get title(){return s.name},get description(){return s.description},get iconPath(){return s.iconPath}});var _=f(i,2);{var $=e=>{var r=se(),d=l(r),b=c(d);b.__click=()=>ee("/personal-tracker/add"),p(d);var m=f(d,2);oe(m,{get events(){return t(v)}}),o(e,r)},a=e=>{j(e,{item:{level:"info",header:"Login to add an entry or see events"}})};H(_,e=>{y()?e($):e(a,!1)})}o(h,g),E(),k()}N(["click"]);export{xe as component};
