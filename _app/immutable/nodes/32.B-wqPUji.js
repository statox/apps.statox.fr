import"../chunks/NZTpNUN0.js";import{p as R,d as E,a as S,b as N,e as h,i as m,h as T,g as e,r as u,s as p,f as W,t as j,a4 as F,be as L,n as G}from"../chunks/D6WCIunz.js";import{s as x,d as I,e as V}from"../chunks/BCejqCpM.js";import{s as B}from"../chunks/CZ-vVIq0.js";import{M as U}from"../chunks/MUC4Yodc.js";import{a as H}from"../chunks/BFpK0VWp.js";import{r as J}from"../chunks/DX1v07Pb.js";import{P as O}from"../chunks/CpQJmCmC.js";import{e as Q,i as X}from"../chunks/_3a0TLdx.js";import{T as Y}from"../chunks/DP3j-b_7.js";import"../chunks/DINClf5P.js";import"../chunks/BFNGRIwq.js";import{p as Z}from"../chunks/LSE9fGGF.js";/* empty css                */import"../chunks/DrxJRRsq.js";var $=E('<div id="canvas-container" class="d-flex justify-content-center"><!></div>');function ee(b,l){R(l,!0);let o=T(void 0);const d=t=>{t.setup=()=>{m(o,t,!0),t.createCanvas(600,100)},t.draw=()=>{const a=document.getElementById("canvas-container");if(a){const s=a?.clientWidth||600;t.width!==s&&t.resizeCanvas(s,100);const r=getComputedStyle(document.body),y=r.getPropertyValue("--nc-bg-2")||"white",i=r.getPropertyValue("--nc-tx-1")||"black";t.background(y),t.stroke(i)}const n=Date.now(),f=n-l.keptDuration;for(const s of l.taps){const r=t.map(s,n,f,t.width,0);t.line(r,0,r,t.height)}}};J(()=>{l.pause?e(o)?.noLoop():e(o)?.loop()}),H(()=>{e(o)?.remove()});var v=$(),g=h(v);O(g,{sketch:d}),u(v),S(b,v),N()}var te=E("<span> </span> <span> </span> <span> </span>",1),ae=E('<div class="container svelte-bqe4u5"><span class="col table-head svelte-bqe4u5">BPM</span> <span class="col table-head svelte-bqe4u5">Tempo</span> <span class="col table-head svelte-bqe4u5">Description</span> <!></div>');function oe(b,l){const o=[{name:"Larghissimo",description:"Extremely slow, slowest type of tempo",high:24},{name:"Adagissimo and Grave",description:"Very slow, very slow and solemn",low:24,high:40},{name:"Largo",description:"Slow and broad",low:40,high:66},{name:"Larghetto",description:"Rather slow and broad",low:44,high:66},{name:"Adagio",description:"Slow with great expression",low:44,high:68},{name:"Adagietto",description:"Slower than andante or slightly faster than adagio",low:46,high:80},{name:"Lento",description:"Slow",low:52,high:108},{name:"Andante",description:"At a walking pace, moderately slow",low:56,high:108},{name:"Andantino",description:"Slightly faster than andante, but slower than moderato (although, in some cases, it can be taken to mean slightly slower than andante)",low:80,high:108},{name:"Andante moderato",description:"Between andante and moderato (at a moderate walking speed)",low:80,high:108},{name:"Moderato",description:"At a moderate speed",low:108,high:120},{name:"Allegretto",description:"By the mid-19th century, moderately fast",low:112,high:120},{name:"Allegro moderato",description:"Close to, but not quite allegro",low:116,high:120},{name:"Allegro",description:"Fast and bright",low:120,high:156},{name:"Molto Allegro or Allegro vivace",description:"At least slightly faster and livelier than allegro, but always at its range (and no faster than vivace)",low:124,high:156},{name:"Vivace",description:"Lively and fast",low:156,high:176},{name:"Vivacissimo and Allegrissimo",description:"Very fast, lively and bright",low:172,high:176},{name:"Presto",description:"Very fast",low:168,high:200},{name:"Prestissimo",description:"Extremely fast (At this tempo, cut common time is often used)",low:200}],d=(a,n)=>a>(n.low??0)&&a<=(n.high??9999),v=a=>{if(a.high&&a.low)return`${a.low} - ${a.high}`;if(a.low)return`>${a.low}`;if(a.high)return`<${a.high}`};var g=ae(),t=p(h(g),6);Q(t,17,()=>o,X,(a,n)=>{var f=te(),s=W(f);let r;var y=h(s,!0);u(s);var i=p(s,2);let _;var C=h(i,!0);u(i);var w=p(i,2);let k;var A=h(w,!0);u(w),j((D,P,q,c)=>{r=B(s,1,"col svelte-bqe4u5",null,r,D),x(y,P),_=B(i,1,"col svelte-bqe4u5",null,_,q),x(C,e(n).name),k=B(w,1,"col svelte-bqe4u5",null,k,c),x(A,e(n).description)},[()=>({selected:d(l.currentBpm,e(n))}),()=>v(e(n)),()=>({selected:d(l.currentBpm,e(n))}),()=>({selected:d(l.currentBpm,e(n))})]),S(a,f)}),u(g),S(b,g)}var ne=E('<!> <div class="container svelte-1w445lz"><div>Press the space bar or click/tap anywhere on the page to get a bpm.</div> <div> <br/>BPM</div> <div class="controls svelte-1w445lz"><button class="control-button svelte-1w445lz">Reset (c)</button> <button class="control-button svelte-1w445lz"> </button></div> <!> <!></div>',1);function _e(b,l){R(l,!0),Z.set("Tap Tempo");let o=T(F(new Y)),d=T(!1);const v=()=>{e(t)||(e(o).addBeat(),m(o,e(o),!0),m(d,!0),setTimeout(()=>m(d,!1),100))},g=()=>{e(o).reset(),m(o,e(o),!0)};let t=T(!1),a=!0;const n=c=>{const M=" ",z="Enter",K="c";if([M,z,K].includes(c.key)&&(c.preventDefault(),!!a)){if(a=!1,c.key===M){m(t,!1),v();return}if(c.key===z){m(t,!e(t));return}c.key===K&&(g(),m(o,e(o),!0))}},f=c=>{!a&&c.key===" "&&(a=!0,c.preventDefault())};var s=ne();V("keydown",L,n),V("keyup",L,f),V("pointerdown",L,v);var r=W(s);U(r,{title:"TapTempo",description:"Tap Tempo Metronome",iconPath:"/tap_tempo.png"});var y=p(r,2),i=p(h(y),2);let _;var C=h(i,!0);G(2),u(i);var w=p(i,2),k=h(w);k.__click=g;var A=p(k,2);A.__click=()=>m(t,!e(t));var D=h(A);u(A),u(w);var P=p(w,2);ee(P,{get taps(){return e(o).taps},get keptDuration(){return e(o).keptDuration},get pause(){return e(t)}});var q=p(P,2);oe(q,{get currentBpm(){return e(o).bpm}}),u(y),j(()=>{_=B(i,1,"bpm svelte-1w445lz",null,_,{tapped:e(d)}),x(C,e(o).bpm),x(D,`${e(t)?"Play":"Pause"} (Enter)`)}),S(b,s),N()}I(["click"]);export{_e as component};
