import"../chunks/disclose-version.Bg9kRutz.js";import{i as J}from"../chunks/legacy.OjKiwS2-.js";import{p as U,aY as ie,g as r,an as oe,ao as ae,al as v,am as s,x as q,ap as G,s as P,B as Q,z as N,y as R,A as le,w as W,b2 as ee,ac as ve}from"../chunks/index-client.CflxByDC.js";import{s as F}from"../chunks/render.BKP2kCYY.js";import{i as Y}from"../chunks/if.DypW3AvO.js";import{k as fe}from"../chunks/key.DBOJXgKb.js";import{e as K,i as z}from"../chunks/each.Z673LCtr.js";import{a as T,t as A,f as re,n as he,e as de}from"../chunks/template.BNipMNgO.js";import{b as te}from"../chunks/select.CodWXztp.js";import{p as V}from"../chunks/props.B1tCRvRm.js";import{P as ce}from"../chunks/P5.DPIc4DlI.js";import{s as ue}from"../chunks/style.PwPRnE0L.js";import{m as be}from"../chunks/Modals.5B6rnlQ8.js";import{p as ye}from"../chunks/Main.svelte_svelte_type_style_lang.BXDs9EHj.js";const E=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Z=M=>{if(M<1||M>7)throw new Error(`Unkown degree ${M}`);return["I","II","III","IV","V","VI","VII"][M-1]};var _e=A('<div class="d-flex justify-content-center"><!></div>');function xe(M,I){U(I,!1);let y=G(),w=V(I,"labelMode",8,"name"),f=V(I,"notesToDisplay",8);const d=["C","D","E","F","G","A","B"],x=["C#","D#","F#","G#","A#"],i=14,C=t=>{const B=[80,70,60,150],e=[80,70,60],o=t.width/i;for(let a=0;a<i;a++){const c=d[a%d.length];t.strokeWeight(1),t.stroke(B),t.noFill(),t.rect(o*a,0,o,t.height);const h=c+"#";x.includes(h)&&(t.fill(e),t.rect(o*a+2*o/3,0,o/2,t.height*.65))}},L=(t,B,e)=>{if(e==="name")return B;const o=t.indexOf(B);if(o===-1)throw new Error("note not in scale");return Z(o+1)},k=t=>{const B=t.width/i;for(let e=0;e<i;e++){const o=d[e%d.length],a=f().indexOf(o);if(a>=0){a===0?t.fill([250,80,80]):t.fill("black");const _=B*e+B/2,g=t.height*.8;t.circle(_,g,20),t.noStroke(),t.fill("white");const b=L(f(),o,w());t.text(b,_-t.textWidth(b)/2,g+t.textSize()/2)}const c=o+"#",h=f().indexOf(c);if(h>=0){h===0?t.fill([250,80,80]):t.fill("black");const _=B*e+B,g=t.height*.5;t.circle(_,g,20),t.noStroke(),t.fill("white");const b=L(f(),c,w());t.text(b,_-t.textWidth(b)/2,g+t.textSize()/2)}}},u=t=>{t.setup=()=>{P(y,t),t.createCanvas(900,300),t.textStyle(t.BOLD)},t.draw=()=>{t.background([200,190,170]),C(t),k(t),t.noLoop()}};ie(()=>{var t;(t=r(y))==null||t.remove()}),oe(()=>(Q(f()),Q(w()),r(y)),()=>{var t;(f()||w())&&((t=r(y))==null||t.draw())}),ae(),J();var p=_e(),j=v(p);ce(j,{sketch:u}),s(p),T(M,p),q()}var pe=A('<div class="d-flex justify-content-center"><!></div>');function we(M,I){U(I,!1);let y=G(),w=V(I,"labelMode",8,"name"),f=V(I,"notesToDisplay",8);const d=["E","A","D","G","B","E"],x=15,i=d.map(e=>{const o=E.indexOf(e);if(o===-1)throw new Error(`Base ${e} not found`);const a=[e];for(let c=1;c<x;c++){const h=E[(o+c)%E.length];a.push(h)}return a}),C=30,L=e=>{const o=[80,70,60,150],a=e.height/6;for(let g=0;g<i.length;g++){const b=d[g],D=a*g+a/2;e.strokeWeight(1),e.stroke(o),e.noFill(),e.line(C,D,e.width,D),e.noStroke(),e.fill(o),e.text(b,5,e.height-D+e.textSize()/2)}e.strokeWeight(5),e.stroke(o),e.noFill(),e.line(C,a/2,C,e.height-a/2),e.strokeWeight(1);const c=e.width/i[0].length;for(let g=1;g<x;g++){const b=C+c*g;e.line(b,a/2,b,e.height-a/2)}const h=[3,5,7,9,15];for(const g of h){let{x:b,y:D}=p({string:2,fret:g});D-=a/2,e.fill(o),e.circle(b,D,10)}const _=[1,3];for(const g of _){let{x:b,y:D}=p({string:g,fret:12});D-=a/2,e.fill(o),e.circle(b,D,10)}},k=(e,o,a)=>{if(a==="name")return o;const c=e.indexOf(o);if(c===-1)throw new Error("note not in scale");return Z(c+1)},u=e=>{for(let o=0;o<6;o++){const a=i[o];for(let c=0;c<a.length;c++){const h=a[c];if(!f().includes(h))continue;const _={string:o,fret:c},{x:g,y:b}=p(_);f().indexOf(h)===0?e.fill([250,80,80]):e.fill("black"),e.circle(g,b,20),e.noStroke(),e.fill("white");const D=k(f(),h,w());e.text(D,g-e.textWidth(D)/2,b+e.textSize()/2)}}},p=e=>{const{string:o,fret:a}=e,c=r(y).height/6,h=c*(5-o)+c/2;if(a===0)return{x:C,y:h};const _=r(y).width/i[0].length;return{x:C+_*(a-1)+_*.5,y:h}},j=e=>{e.setup=()=>{P(y,e),e.createCanvas(900,300),e.textStyle(e.BOLD)},e.draw=()=>{e.background([200,190,170]),L(e),u(e),e.noLoop()}};ie(()=>{var e;(e=r(y))==null||e.remove()}),oe(()=>(Q(f()),Q(w()),r(y)),()=>{var e;(f()||w())&&((e=r(y))==null||e.draw())}),ae(),J();var t=pe(),B=v(t);ce(B,{sketch:j}),s(t),T(M,t),q()}var ke=A('<h3>Instrument</h3> <div><button>C / IV</button> <button><i class="fas fa-guitar"></i> / <i class="fas fa-keyboard"></i></button></div> <!> <!>',1);function Se(M,I){U(I,!1);let y=V(I,"notesToDisplay",8),w=G("name");const f=["neck","keyboard","both"];let d=G(0);J();var x=ke(),i=N(R(x),2),C=v(i),L=N(C,2);s(i);var k=N(i,2);{var u=t=>{we(t,{get notesToDisplay(){return y()},get labelMode(){return r(w)}})};Y(k,t=>{["neck","both"].includes(f[r(d)])&&t(u)})}var p=N(k,2);{var j=t=>{xe(t,{get notesToDisplay(){return y()},get labelMode(){return r(w)}})};Y(p,t=>{["keyboard","both"].includes(f[r(d)])&&t(j)})}re("click",C,()=>P(w,r(w)==="name"?"degree":"name")),re("click",L,()=>P(d,(r(d)+1)%f.length)),T(M,x),q()}var Ie=A(`<div role="dialog" class="modal svelte-5yv1o0"><div class="contents svelte-5yv1o0"><h4 class="title-bar svelte-5yv1o0">Chord Progressions <button>Close</button></h4> <div>This is a list of chord progressions I took from David Benett's videos and elsewhere
                too <ul><li><a href="https://www.youtube.com/watch?v=Vyc8lezaa9g" rel="noopener noreferrer" target="_blank">David Benett - 7 super common chord progressions and why they work</a></li> <li><a href="https://www.youtube.com/watch?v=v3YbEL-_eoI" rel="noopener noreferrer" target="_blank">David Benett - 6 more common chord progressions and why they work</a></li></ul> The user can change the tonic note in the "Scales" section and the progressions will
                change the actual chords to play.</div></div></div>`);function Ce(M,I){var y=de(),w=R(y);{var f=d=>{var x=Ie(),i=v(x),C=v(i),L=N(v(C));L.__click=function(...k){var u;(u=I.close)==null||u.apply(this,k)},s(C),le(2),s(i),s(x),T(d,x)};Y(w,d=>{I.isOpen&&d(f)})}T(M,y)}he(["click"]);const De=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}];var Ne=A("<span><b>Examples:</b> </span>"),Be=A('<div class="progression-step"><div class="step-degree svelte-1p3ym4z"> </div> <div class="step-value svelte-1p3ym4z"> </div></div>'),Me=A('<div><h4> </h4> <!> <div class="progression-table svelte-1p3ym4z"></div></div> <br>',1),Te=A('<h3>Chord Progressions <span><button aria-label="info"><i class="fa fa-info-circle" aria-hidden="true"></i></button></span></h3> <!>',1);function je(M,I){U(I,!1);let y=V(I,"scaleNotes",24,()=>[]);const w=k=>{let u=Z(k.degree);return k.minor&&(u=u.toLowerCase()),k.flat&&(u="b"+u),u},f=k=>{const u=y()[k.degree-1];let p=E.indexOf(u);k.flat&&(p--,p===-1&&(p=E.length-1));let j=E[p];return k.minor&&(j+="m"),j};J();var d=Te(),x=R(d),i=N(v(x)),C=v(i);ue(C,"position","relative"),s(i),s(x);var L=N(x,2);K(L,1,()=>De,z,(k,u)=>{var p=Me(),j=R(p),t=v(j),B=v(t,!0);s(t);var e=N(t,2);{var o=c=>{var h=Ne(),_=N(v(h));W(()=>F(_,` ${r(u).examples.join(", ")??""}`)),s(h),T(c,h)};Y(e,c=>{r(u).examples&&c(o)})}var a=N(e,2);K(a,5,()=>r(u).chords,z,(c,h)=>{var _=Be(),g=v(_),b=v(g,!0);W(()=>F(b,w(r(h)))),s(g);var D=N(g,2),$=v(D,!0);W(()=>F($,f(r(h)))),s(D),s(_),T(c,_)}),s(a),s(j),le(2),W(()=>F(B,r(u).name)),T(k,p)}),re("click",C,()=>be.open(Ce)),T(M,d),q()}var Ae=A("<option> </option>"),Le=A("<option> </option>"),Oe=A("<option> </option>"),We=A('<th class="svelte-gg3pfu"> </th>'),Ee=A('<td class="svelte-gg3pfu"> </td>'),Fe=A('<table><thead><tr><th class="svelte-gg3pfu"><label for="tonicInput">Tonic</label></th><th class="svelte-gg3pfu"><label for="scaleInput">Scale</label></th><th class="svelte-gg3pfu"><label for="modeInput">mode</label></th></tr></thead><tbody><tr><td class="svelte-gg3pfu"><select id="tonicInput"></select></td><td class="svelte-gg3pfu"><select id="scaleInput"></select></td><td class="svelte-gg3pfu"><select id="modeInput"></select></td></tr></tbody></table> <br> <table><tbody><tr></tr><tr></tr></tbody></table> <!> <!>',1);function Ze(M,I){U(I,!1),ye.set("Scales");const y=[{name:"Major",intervals:[2,2,1,2,2,2,1],chords:["major","minor","minor","diminished","major","minor","major"]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2],chords:["minor","diminished","major","minor","major","major","minor"]},{name:"Pentatonic major",intervals:[2,2,3,2,3],chords:["major","minor","minor","major","minor"]},{name:"Pentatonic minor",intervals:[3,2,2,3,2],chords:["minor","major","minor","major","major"]}],w=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let f=G("C"),d=G(y[0]),x=G(w[0]),i=G([]);const C=(m,l,n)=>{const{intervals:S}=l;P(i,[m]);const O=E.indexOf(m);if(O===-1)throw new Error(`Tonic ${m} not found`);let H=O;for(const X of S)H=(H+X)%E.length,r(i).push(E[H]);r(i).pop();for(let X=1;X<n.degree;X++)r(i).push(r(i).shift())},L=(m,l)=>{let n=Z(m);return l==="minor"?n=n.toLowerCase():l==="diminished"&&(n+="°"),n},k=(m,l)=>{let n=m;return l==="minor"?n+="m":l==="diminished"&&(n+="°"),n};oe(()=>(r(f),r(d),r(x)),()=>{C(r(f),r(d),r(x))}),ae(),J();var u=Fe(),p=R(u),j=N(v(p)),t=v(j),B=v(t),e=v(B);W(()=>{r(f),ee(()=>{})}),K(e,5,()=>E,z,(m,l)=>{var n=Ae(),S={},O=v(n,!0);s(n),W(()=>{S!==(S=r(l))&&(n.value=(n.__value=r(l))==null?"":r(l)),F(O,r(l))}),T(m,n)}),s(e),s(B);var o=N(B),a=v(o);W(()=>{r(d),ee(()=>{})}),K(a,5,()=>y,z,(m,l)=>{var n=Le(),S={},O=v(n,!0);s(n),W(()=>{S!==(S=r(l))&&(n.value=(n.__value=r(l))==null?"":r(l)),F(O,r(l).name)}),T(m,n)}),s(a),s(o);var h=N(o),_=v(h);W(()=>{r(x),ee(()=>{})}),K(_,5,()=>w,z,(m,l)=>{var n=Oe(),S={},O=v(n,!0);s(n),W(()=>{S!==(S=r(l))&&(n.value=(n.__value=r(l))==null?"":r(l)),F(O,r(l).name)}),T(m,n)}),s(_),s(h),s(t),s(j),s(p);var b=N(p,4),D=v(b),$=v(D);K($,5,()=>r(d).chords,z,(m,l,n)=>{var S=We(),O=v(S,!0);W(()=>F(O,L(n+1,r(l)))),s(S),T(m,S)}),s($);var ne=N($);K(ne,5,()=>r(i),z,(m,l,n)=>{var S=Ee();const O=ve(()=>r(d).chords[n]);var H=v(S,!0);W(()=>F(H,k(r(l),r(O)))),s(S),T(m,S)}),s(ne),s(D),s(b);var se=N(b,2);Se(se,{get notesToDisplay(){return r(i)}});var ge=N(se,2);{var me=m=>{var l=de(),n=R(l);fe(n,()=>r(i),S=>{je(S,{get scaleNotes(){return r(i)}})}),T(m,l)};Y(ge,m=>{["Major","Natural minor"].includes(r(d).name)&&m(me)})}te(e,()=>r(f),m=>P(f,m)),te(a,()=>r(d),m=>P(d,m)),te(_,()=>r(x),m=>P(x,m)),T(M,u),q()}export{Ze as component};
