import{g as Mt,a as Ot,u as jt,b as Ft}from"../chunks/api.Iw6VlMK_.js";import{s as he,L as Vt,f as C,g as w,M as Y,j as L,F as Re,i as T,w as te,r as ne,d as _,A as Ge,a as E,l as H,h as y,c as A,m as R,K as Fe,G as d,_ as qt,e as J,O as pe,n as Me,k as Ve,p as zt,o as Xe,q as Je,S as We}from"../chunks/scheduler.N2tVA6Cn.js";import{S as Le,i as Te,g as x,t as U,c as ee,a as B,b as ce,d as ge,m as fe,e as ue}from"../chunks/index.F8-NL695.js";import{e as z,u as Kt,o as Gt}from"../chunks/each.xo_Rzlzl.js";import{a as Xt,o as Yt}from"../chunks/store.uasmQUFa.js";/* empty css                          */import{M as Jt}from"../chunks/Main.bTe1Nigg.js";import{w as Wt}from"../chunks/index.Br-J-IE8.js";import{b as Qt}from"../chunks/paths.QFtkgo6H.js";import{t as Ht}from"../chunks/service.JxV0fwjW.js";import{h as Zt,u as xt}from"../chunks/await_block.qGf0cQZo.js";import{P as el}from"../chunks/public.C30nq52-.js";import{g as tl}from"../chunks/navigation.RwGFLpzX.js";const ll=async()=>({chords:await Mt()}),Yl=Object.freeze(Object.defineProperty({__proto__:null,load:ll},Symbol.toStringTag,{value:"Module"})),{clearTimeout:Qe,setTimeout:Ze,window:qe}=Ot;function nl(a){let t=!1,n=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',s,i;return Vt(a[3]),{c(){e=C("button"),e.innerHTML=r,this.h()},l(o){e=w(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ed45ug"&&(e.innerHTML=r),this.h()},h(){L(e,"class","top-link svelte-1kbb9q3"),Re(e,"hide",a[1])},m(o,f){T(o,e,f),s||(i=[te(qe,"scroll",()=>{t=!0,Qe(l),l=Ze(n,100),a[3]()}),te(e,"click",a[2])],s=!0)},p(o,[f]){f&1&&!t&&(t=!0,Qe(l),scrollTo(qe.pageXOffset,o[0]),l=Ze(n,100)),f&2&&Re(e,"hide",o[1])},i:ne,o:ne,d(o){o&&_(e),s=!1,Ge(i)}}}function sl(a,t,n){let l,e=!0,r;const s=f=>{f>0?n(1,e=!1):n(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{n(1,e=!0)},3e3)},i=()=>{const f=document.documentElement.scrollTop||document.body.scrollTop;f>0&&(window.requestAnimationFrame(i),window.scrollTo(0,f-f/2))};function o(){n(0,l=qe.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&s(l)},[l,e,i,o]}class rl extends Le{constructor(t){super(),Te(this,t,sl,nl,he,{})}}const Ie=Wt(),ze=a=>a==="doc"?"fas fa-file-word":a==="pdf"?"fas fa-file-pdf":a==="youtube"?"fa fa-youtube":"fas fa-link";function ol(a){let t,n,l,e,r,s,i,o,f;return{c(){t=C("span"),l=E(),e=C("span"),r=C("a"),s=H(a[2]),this.h()},l(u){t=w(u,"SPAN",{class:!0}),y(t).forEach(_),l=A(u),e=w(u,"SPAN",{});var g=y(e);r=w(g,"A",{href:!0,target:!0,rel:!0,title:!0});var c=y(r);s=R(c,a[2]),c.forEach(_),g.forEach(_),this.h()},h(){L(t,"class",n=Fe(ze(a[0].type))+" svelte-1gxig14"),L(r,"href",i=a[3](a[0])),L(r,"target","_blank"),L(r,"rel","noopener noreferrer"),L(r,"title",a[1])},m(u,g){T(u,t,g),T(u,l,g),T(u,e,g),d(e,r),d(r,s),o||(f=te(r,"click",a[4]),o=!0)},p(u,[g]){g&1&&n!==(n=Fe(ze(u[0].type))+" svelte-1gxig14")&&L(t,"class",n),g&1&&i!==(i=u[3](u[0]))&&L(r,"href",i),g&2&&L(r,"title",u[1])},i:ne,o:ne,d(u){u&&(_(t),_(l),_(e)),o=!1,f()}}}function al(a,t,n){let{chord:l}=t,{showArtist:e=!1}=t,r;Ie.subscribe(f=>{if(f&&f.has(l.url)){const u=f.get(l.url),g=new Date(u.lastAccessDateUnix*1e3);n(1,r=`visits: ${u.count} - last: ${g.toLocaleDateString()}`)}});const s=(e?l.artist+" - ":"")+l.title,i=f=>f.type==="doc"?`${Qt}/docviewer/${f.url}`:f.url,o=async()=>{try{await jt(l.url);const f=qt(Ie),u=f.get(l.url)||{count:0,lastAccessDateUnix:0};u.count++,u.lastAccessDateUnix=Date.now()/1e3,f.set(l.url,u),Ie.set(f)}catch(f){const u=`<strong>Visit not counted</strong><br/> ${f.message}`;Ht.push(u,{initial:0,theme:{"--toastBarBackground":"#FF0000"}})}};return a.$$set=f=>{"chord"in f&&n(0,l=f.chord),"showArtist"in f&&n(5,e=f.showArtist)},[l,r,s,i,o,e]}class Oe extends Le{constructor(t){super(),Te(this,t,al,ol,he,{chord:0,showArtist:5})}}function xe(a,t,n){const l=a.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function et(a){let t,n,l,e,r,s=a[6]&&tt(a);return l=new Oe({props:{chord:a[5],showArtist:!0}}),{c(){t=C("li"),s&&s.c(),n=E(),ce(l.$$.fragment),e=E(),this.h()},l(i){t=w(i,"LI",{class:!0});var o=y(t);s&&s.l(o),n=A(o),ge(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),s&&s.m(t,null),d(t,n),fe(l,t,null),d(t,e),r=!0},p(i,o){i[6]?s?s.p(i,o):(s=tt(i),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const f={};o&1&&(f.chord=i[5]),l.$set(f)},i(i){r||(B(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&_(t),s&&s.d(),ue(l)}}}function tt(a){let t,n=a[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=R(r,"("),l=R(r,n),e=R(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Me(l,n)},d(r){r&&(_(t),_(l),_(e))}}}function lt(a){let t=a[4](a[5],a[1],a[2]),n,l,e=t&&et(a);return{c(){e&&e.c(),n=J()},l(r){e&&e.l(r),n=J()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&B(e,1)):(e=et(r),e.c(),B(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(B(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function nt(a){let t,n,l=z(a[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=lt(xe(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){t=C("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=w(s,"UL",{class:!0});var i=y(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(s,i){T(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,i){if(i&31){l=z(s[0]);let o;for(o=0;o<l.length;o+=1){const f=xe(s,l,o);e[o]?(e[o].p(f,i),B(e[o],1)):(e[o]=lt(f),e[o].c(),B(e[o],1),e[o].m(t,null))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)B(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function il(a){let t=a[0],n,l,e=nt(a);return{c(){e.c(),n=J()},l(r){e.l(r),n=J()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&he(t,t=r[0])?(x(),U(e,1,1,ne),ee(),e=nt(r),e.c(),B(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(B(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e.d(r)}}}function cl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Ie.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((f,u)=>{const g=o.get(f.url),c=o.get(u.url);return g&&c?c.lastAccessDateUnix-g.lastAccessDateUnix:g?-1:c?1:f.artist!=u.artist?f.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:f.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const i=(o,f,u)=>u[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return a.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,i]}class fl extends Le{constructor(t){super(),Te(this,t,cl,il,he,{searchString:1,chords:0,filters:2})}}const ul=(a,t)=>a<t?-1:a>t?1:0,Ke=(a,t)=>{const n=a.toLowerCase(),l=t.toLowerCase();return ul(n,l)},{Boolean:Rt}=Ot;function st(a,t,n){const l=a.slice();l[14]=t[n];const e=l[8](l[14].name,l[0],l[1]);l[15]=e;const r=l[9](l[14].name,l[0]);return l[16]=r,l}function rt(a,t,n){const l=a.slice();return l[20]=t[n],l}function je(a){const t=a.slice(),n=t[16]?t[5][t[14].name]:t[15];return t[19]=n,t}function ot(a,t,n){const l=a.slice();return l[23]=t[n],l}function at(a){let t,n,l=a[23].letter.toUpperCase()+"",e,r;return{c(){t=C("li"),n=C("a"),e=H(l),r=E(),this.h()},l(s){t=w(s,"LI",{class:!0});var i=y(t);n=w(i,"A",{href:!0,class:!0});var o=y(n);e=R(o,l),o.forEach(_),r=A(i),i.forEach(_),this.h()},h(){L(n,"href","#"+a[23].tag),L(n,"class","navigationLink svelte-1deg5s8"),L(t,"class","navigationBtn svelte-1deg5s8")},m(s,i){T(s,t,i),d(t,n),d(n,e),d(t,r)},p:ne,d(s){s&&_(t)}}}function it(a){let t,n,l=a[14].name+"",e,r,s,i,o,f=z(a[19]),u=[];for(let c=0;c<f.length;c+=1)u[c]=ct(rt(a,f,c));const g=c=>U(u[c],1,1,()=>{u[c]=null});return{c(){t=C("tr"),n=C("td"),e=H(l),r=E(),s=C("ul");for(let c=0;c<u.length;c+=1)u[c].c();i=E(),this.h()},l(c){t=w(c,"TR",{class:!0});var b=y(t);n=w(b,"TD",{id:!0,class:!0});var h=y(n);e=R(h,l),r=A(h),s=w(h,"UL",{class:!0});var N=y(s);for(let p=0;p<u.length;p+=1)u[p].l(N);N.forEach(_),h.forEach(_),i=A(b),b.forEach(_),this.h()},h(){L(s,"class","ul2col-container"),L(n,"id",a[14].tag),L(n,"class","svelte-1deg5s8"),L(t,"class","svelte-1deg5s8")},m(c,b){T(c,t,b),d(t,n),d(n,e),d(n,r),d(n,s);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(s,null);d(t,i),o=!0},p(c,b){if(b&931){f=z(c[19]);let h;for(h=0;h<f.length;h+=1){const N=rt(c,f,h);u[h]?(u[h].p(N,b),B(u[h],1)):(u[h]=ct(N),u[h].c(),B(u[h],1),u[h].m(s,null))}for(x(),h=f.length;h<u.length;h+=1)g(h);ee()}},i(c){if(!o){for(let b=0;b<f.length;b+=1)B(u[b]);o=!0}},o(c){u=u.filter(Rt);for(let b=0;b<u.length;b+=1)U(u[b]);o=!1},d(c){c&&_(t),pe(u,c)}}}function ct(a){let t,n,l,e;return n=new Oe({props:{chord:a[20]}}),{c(){t=C("li"),ce(n.$$.fragment),l=E(),this.h()},l(r){t=w(r,"LI",{class:!0});var s=y(t);ge(n.$$.fragment,s),l=A(s),s.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(r,s){T(r,t,s),fe(n,t,null),d(t,l),e=!0},p(r,s){const i={};s&3&&(i.chord=r[20]),n.$set(i)},i(r){e||(B(n.$$.fragment,r),e=!0)},o(r){U(n.$$.fragment,r),e=!1},d(r){r&&_(t),ue(n)}}}function ft(a){let t,n,l=(a[16]||a[15].length>0)&&it(je(a));return{c(){l&&l.c(),t=J()},l(e){l&&l.l(e),t=J()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[16]||e[15].length>0?l?(l.p(je(e),r),r&3&&B(l,1)):(l=it(je(e)),l.c(),B(l,1),l.m(t.parentNode,t)):l&&(x(),U(l,1,1,()=>{l=null}),ee())},i(e){n||(B(l),n=!0)},o(e){U(l),n=!1},d(e){e&&_(t),l&&l.d(e)}}}function hl(a){let t=!1,n=()=>{t=!1},l,e,r=`${a[3]}px`,s,i,o,f,u;Vt(a[11]);let g=z(a[6]),c=[];for(let p=0;p<g.length;p+=1)c[p]=at(ot(a,g,p));let b=z(a[7]),h=[];for(let p=0;p<b.length;p+=1)h[p]=ft(st(a,b,p));const N=p=>U(h[p],1,1,()=>{h[p]=null});return{c(){e=C("ol");for(let p=0;p<c.length;p+=1)c[p].c();s=E(),i=C("table");for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){e=w(p,"OL",{id:!0,class:!0});var m=y(e);for(let P=0;P<c.length;P+=1)c[P].l(m);m.forEach(_),s=A(p),i=w(p,"TABLE",{id:!0});var v=y(i);for(let P=0;P<h.length;P+=1)h[P].l(v);v.forEach(_),this.h()},h(){L(e,"id","indexList"),L(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),Ve(e,"--barTop",r),L(i,"id","artistTable")},m(p,m){T(p,e,m);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(e,null);T(p,s,m),T(p,i,m);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(i,null);a[12](i),o=!0,f||(u=te(window,"scroll",()=>{t=!0,clearTimeout(l),l=setTimeout(n,100),a[11]()}),f=!0)},p(p,[m]){if(m&4&&!t&&(t=!0,clearTimeout(l),scrollTo(window.pageXOffset,p[2]),l=setTimeout(n,100)),m&64){g=z(p[6]);let v;for(v=0;v<g.length;v+=1){const P=ot(p,g,v);c[v]?c[v].p(P,m):(c[v]=at(P),c[v].c(),c[v].m(e,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=g.length}if(m&8&&r!==(r=`${p[3]}px`)&&Ve(e,"--barTop",r),m&931){b=z(p[7]);let v;for(v=0;v<b.length;v+=1){const P=st(p,b,v);h[v]?(h[v].p(P,m),B(h[v],1)):(h[v]=ft(P),h[v].c(),B(h[v],1),h[v].m(i,null))}for(x(),v=b.length;v<h.length;v+=1)N(v);ee()}},i(p){if(!o){for(let m=0;m<b.length;m+=1)B(h[m]);o=!0}},o(p){h=h.filter(Rt);for(let m=0;m<h.length;m+=1)U(h[m]);o=!1},d(p){p&&(_(e),_(s),_(i)),pe(c,p),pe(h,p),a[12](null),f=!1,u()}}}function _l(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=e.reduce((m,v)=>{const P=v.artist;return m[P]||(m[P]=[]),m[P].push(v),m},{}),i=[],o=Object.keys(s).sort(Ke).map((m,v,P)=>{if(v===0||m[0].toLowerCase()!=P[v-1][0].toLowerCase()){const S="anchor_letter_"+m[0];return i.push({letter:m[0],tag:S}),{name:m,tag:S}}return{name:m}});let f,u=0,g;const c=m=>{if(g){var v=g.getBoundingClientRect();if(v.top<20){n(3,u=20);return}n(3,u=v.top)}},b=(m,v,P)=>s[m].sort((D,O)=>D.title<O.title?-1:1).filter(D=>{const O=D.type;return P[O]===!1?!1:v.length===0?!0:!!D.title.toLowerCase().match(v.toLowerCase())}),h=(m,v)=>!!m.toLowerCase().match(v.toLowerCase());function N(){n(2,f=window.pageYOffset)}function p(m){zt[m?"unshift":"push"](()=>{g=m,n(4,g)})}return a.$$set=m=>{"searchString"in m&&n(0,l=m.searchString),"chords"in m&&n(10,e=m.chords),"filters"in m&&n(1,r=m.filters)},a.$$.update=()=>{a.$$.dirty&4&&c()},[l,r,f,u,g,s,i,o,b,h,e,N,p]}class dl extends Le{constructor(t){super(),Te(this,t,_l,hl,he,{searchString:0,chords:10,filters:1})}}function ut(a,t,n){const l=a.slice();return l[5]=t[n],l}function ht(a,t,n){const l=a.slice();return l[8]=t[n],l}function _t(a){let t,n,l=a[3](a[5])+"",e,r,s,i,o,f=z(a[2][a[5]]),u=[];for(let c=0;c<f.length;c+=1)u[c]=mt(ht(a,f,c));const g=c=>U(u[c],1,1,()=>{u[c]=null});return{c(){t=C("div"),n=C("span"),e=H(l),r=E(),s=C("ul");for(let c=0;c<u.length;c+=1)u[c].c();i=E(),this.h()},l(c){t=w(c,"DIV",{});var b=y(t);n=w(b,"SPAN",{});var h=y(n);e=R(h,l),h.forEach(_),r=A(b),s=w(b,"UL",{class:!0});var N=y(s);for(let p=0;p<u.length;p+=1)u[p].l(N);N.forEach(_),i=A(b),b.forEach(_),this.h()},h(){L(s,"class","ul2col-container")},m(c,b){T(c,t,b),d(t,n),d(n,e),d(t,r),d(t,s);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(s,null);d(t,i),o=!0},p(c,b){if((!o||b&4)&&l!==(l=c[3](c[5])+"")&&Me(e,l),b&6){f=z(c[2][c[5]]);let h;for(h=0;h<f.length;h+=1){const N=ht(c,f,h);u[h]?(u[h].p(N,b),B(u[h],1)):(u[h]=mt(N),u[h].c(),B(u[h],1),u[h].m(s,null))}for(x(),h=f.length;h<u.length;h+=1)g(h);ee()}},i(c){if(!o){for(let b=0;b<f.length;b+=1)B(u[b]);o=!0}},o(c){u=u.filter(Boolean);for(let b=0;b<u.length;b+=1)U(u[b]);o=!1},d(c){c&&_(t),pe(u,c)}}}function dt(a){let t,n,l,e;return n=new Oe({props:{chord:a[8],showArtist:!0}}),{c(){t=C("li"),ce(n.$$.fragment),l=E(),this.h()},l(r){t=w(r,"LI",{class:!0});var s=y(t);ge(n.$$.fragment,s),l=A(s),s.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(r,s){T(r,t,s),fe(n,t,null),d(t,l),e=!0},p(r,s){const i={};s&4&&(i.chord=r[8]),n.$set(i)},i(r){e||(B(n.$$.fragment,r),e=!0)},o(r){U(n.$$.fragment,r),e=!1},d(r){r&&_(t),ue(n)}}}function mt(a){let t,n,l=a[1][a[8].type]&&dt(a);return{c(){l&&l.c(),t=J()},l(e){l&&l.l(e),t=J()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[1][e[8].type]?l?(l.p(e,r),r&6&&B(l,1)):(l=dt(e),l.c(),B(l,1),l.m(t.parentNode,t)):l&&(x(),U(l,1,1,()=>{l=null}),ee())},i(e){n||(B(l),n=!0)},o(e){U(l),n=!1},d(e){e&&_(t),l&&l.d(e)}}}function gt(a){let t=a[0].length===0||a[5].toLowerCase().match(a[0].toLowerCase()),n,l,e=t&&_t(a);return{c(){e&&e.c(),n=J()},l(r){e&&e.l(r),n=J()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&5&&(t=r[0].length===0||r[5].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,s),s&5&&B(e,1)):(e=_t(r),e.c(),B(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(B(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function ml(a){let t,n,l=z(Object.keys(a[2]).sort(Ke)),e=[];for(let s=0;s<l.length;s+=1)e[s]=gt(ut(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=J()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);t=J()},m(s,i){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,i);T(s,t,i),n=!0},p(s,[i]){if(i&15){l=z(Object.keys(s[2]).sort(Ke));let o;for(o=0;o<l.length;o+=1){const f=ut(s,l,o);e[o]?(e[o].p(f,i),B(e[o],1)):(e[o]=gt(f),e[o].c(),B(e[o],1),e[o].m(t.parentNode,t))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)B(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function gl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),i={};for(const o of e)o.tags.forEach(u=>{i[u]||n(2,i[u]=[],i),i[u].push(o)});return Object.keys(i).forEach(o=>{i[o].sort((f,u)=>{const g=f.artist.toLowerCase(),c=u.artist.toLowerCase(),b=f.title.toLowerCase(),h=u.title.toLowerCase();return g<c?-1:g>c?1:b<h?-1:1})}),a.$$set=o=>{"searchString"in o&&n(0,l=o.searchString),"chords"in o&&n(4,e=o.chords),"filters"in o&&n(1,r=o.filters)},[l,r,i,s,e]}class pl extends Le{constructor(t){super(),Te(this,t,gl,ml,he,{searchString:0,chords:4,filters:1})}}function pt(a,t,n){const l=a.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function kt(a){let t,n,l,e,r,s=a[6]&&bt(a);return l=new Oe({props:{chord:a[5],showArtist:!0}}),{c(){t=C("li"),s&&s.c(),n=E(),ce(l.$$.fragment),e=E(),this.h()},l(i){t=w(i,"LI",{class:!0});var o=y(t);s&&s.l(o),n=A(o),ge(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),s&&s.m(t,null),d(t,n),fe(l,t,null),d(t,e),r=!0},p(i,o){i[6]?s?s.p(i,o):(s=bt(i),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const f={};o&1&&(f.chord=i[5]),l.$set(f)},i(i){r||(B(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&_(t),s&&s.d(),ue(l)}}}function bt(a){let t,n=a[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=R(r,"("),l=R(r,n),e=R(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Me(l,n)},d(r){r&&(_(t),_(l),_(e))}}}function vt(a){let t=a[4](a[5],a[1],a[2]),n,l,e=t&&kt(a);return{c(){e&&e.c(),n=J()},l(r){e&&e.l(r),n=J()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&B(e,1)):(e=kt(r),e.c(),B(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(B(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function Ct(a){let t,n,l=z(a[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=vt(pt(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){t=C("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=w(s,"UL",{class:!0});var i=y(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(s,i){T(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,i){if(i&31){l=z(s[0]);let o;for(o=0;o<l.length;o+=1){const f=pt(s,l,o);e[o]?(e[o].p(f,i),B(e[o],1)):(e[o]=vt(f),e[o].c(),B(e[o],1),e[o].m(t,null))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)B(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function kl(a){let t=a[0],n,l,e=Ct(a);return{c(){e.c(),n=J()},l(r){e.l(r),n=J()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&he(t,t=r[0])?(x(),U(e,1,1,ne),ee(),e=Ct(r),e.c(),B(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(B(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e.d(r)}}}function bl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Ie.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((f,u)=>{const g=o.get(f.url),c=o.get(u.url);return g&&c?g.count!==c.count?c.count-g.count:c.lastAccessDateUnix-g.lastAccessDateUnix:g?-1:c?1:f.artist!=u.artist?f.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:f.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const i=(o,f,u)=>u[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return a.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,i]}class vl extends Le{constructor(t){super(),Te(this,t,bl,kl,he,{searchString:1,chords:0,filters:2})}}function wt(a){const t=a[2](a[5]);a[6]=t;const n=a[3](a[5]);a[7]=n}function Lt(a,t,n){const l=a.slice();return l[8]=t[n],l}function Tt(a){let t,n,l,e,r,s="Close",i,o,f,u={ctx:a,current:null,token:null,hasCatch:!0,pending:Ll,then:wl,catch:Cl,value:5,error:11};return Zt(a[1],u),{c(){t=C("div"),n=C("div"),l=C("h3"),e=H(`Urls checks
                `),r=C("button"),r.textContent=s,i=E(),u.block.c(),this.h()},l(g){t=w(g,"DIV",{role:!0,class:!0});var c=y(t);n=w(c,"DIV",{class:!0});var b=y(n);l=w(b,"H3",{class:!0});var h=y(l);e=R(h,`Urls checks
                `),r=w(h,"BUTTON",{"data-svelte-h":!0}),Y(r)!=="svelte-2m9p61"&&(r.textContent=s),h.forEach(_),i=A(b),u.block.l(b),b.forEach(_),c.forEach(_),this.h()},h(){L(l,"class","title-bar svelte-1b7k28l"),L(n,"class","contents svelte-1b7k28l"),L(t,"role","dialog"),L(t,"class","modal svelte-1b7k28l")},m(g,c){T(g,t,c),d(t,n),d(n,l),d(l,e),d(l,r),d(n,i),u.block.m(n,u.anchor=null),u.mount=()=>n,u.anchor=null,o||(f=te(r,"click",Xt),o=!0)},p(g,c){a=g,xt(u,a,c)},d(g){g&&_(t),u.block.d(),u.token=null,u=null,o=!1,f()}}}function Cl(a){let t,n,l=a[11].message+"",e;return{c(){t=C("p"),n=H("Could not retrieve checks: "),e=H(l),this.h()},l(r){t=w(r,"P",{style:!0});var s=y(t);n=R(s,"Could not retrieve checks: "),e=R(s,l),s.forEach(_),this.h()},h(){Ve(t,"color","red")},m(r,s){T(r,t,s),d(t,n),d(t,e)},p:ne,d(r){r&&_(t)}}}function wl(a){wt(a);let t,n,l="Last Check",e,r,s="Checks",i,o,f="Skipped",u,g,c="Errors",b,h,N=a[6]+"",p,m,v,P=a[5].nbChecks+"",S,D,O,Z=a[5].nbSkipped+"",F,W,Se,De=a[5].nbFails+"",se,Ae,re,Be,G,Q,Ee="Status",$e,_e,Pe="Ref",ke,be,Ue="Host",de,oe,q="Data",ve,me=z(a[7]),K=[];for(let M=0;M<me.length;M+=1)K[M]=St(Lt(a,me,M));return{c(){t=C("div"),n=C("span"),n.textContent=l,e=E(),r=C("span"),r.textContent=s,i=E(),o=C("span"),o.textContent=f,u=E(),g=C("span"),g.textContent=c,b=E(),h=C("span"),p=H(N),m=E(),v=C("span"),S=H(P),D=E(),O=C("span"),F=H(Z),W=E(),Se=C("span"),se=H(De),Ae=E(),re=C("br"),Be=E(),G=C("div"),Q=C("span"),Q.textContent=Ee,$e=E(),_e=C("span"),_e.textContent=Pe,ke=E(),be=C("span"),be.textContent=Ue,de=E(),oe=C("span"),oe.textContent=q,ve=E();for(let M=0;M<K.length;M+=1)K[M].c();this.h()},l(M){t=w(M,"DIV",{class:!0});var V=y(t);n=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1lbvzb0"&&(n.textContent=l),e=A(V),r=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1wmxeaf"&&(r.textContent=s),i=A(V),o=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-txun94"&&(o.textContent=f),u=A(V),g=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(g)!=="svelte-5mrj6x"&&(g.textContent=c),b=A(V),h=w(V,"SPAN",{class:!0});var I=y(h);p=R(I,N),I.forEach(_),m=A(V),v=w(V,"SPAN",{class:!0});var ae=y(v);S=R(ae,P),ae.forEach(_),D=A(V),O=w(V,"SPAN",{class:!0});var X=y(O);F=R(X,Z),X.forEach(_),W=A(V),Se=w(V,"SPAN",{class:!0});var Ce=y(Se);se=R(Ce,De),Ce.forEach(_),V.forEach(_),Ae=A(M),re=w(M,"BR",{}),Be=A(M),G=w(M,"DIV",{class:!0});var le=y(G);Q=w(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Q)!=="svelte-1s7ffxq"&&(Q.textContent=Ee),$e=A(le),_e=w(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_e)!=="svelte-1wa8gqx"&&(_e.textContent=Pe),ke=A(le),be=w(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(be)!=="svelte-33rgke"&&(be.textContent=Ue),de=A(le),oe=w(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(oe)!=="svelte-1yzk30k"&&(oe.textContent=q),ve=A(le);for(let k=0;k<K.length;k+=1)K[k].l(le);le.forEach(_),this.h()},h(){L(n,"class","col table-head svelte-1b7k28l"),L(r,"class","col table-head svelte-1b7k28l"),L(o,"class","col table-head svelte-1b7k28l"),L(g,"class","col table-head svelte-1b7k28l"),L(h,"class","col svelte-1b7k28l"),L(v,"class","col svelte-1b7k28l"),L(O,"class","col svelte-1b7k28l"),L(Se,"class","col svelte-1b7k28l"),L(t,"class","rows svelte-1b7k28l"),L(Q,"class","col table-head svelte-1b7k28l"),L(_e,"class","col table-head svelte-1b7k28l"),L(be,"class","col table-head svelte-1b7k28l"),L(oe,"class","col table-head svelte-1b7k28l"),L(G,"class","rows svelte-1b7k28l")},m(M,V){T(M,t,V),d(t,n),d(t,e),d(t,r),d(t,i),d(t,o),d(t,u),d(t,g),d(t,b),d(t,h),d(h,p),d(t,m),d(t,v),d(v,S),d(t,D),d(t,O),d(O,F),d(t,W),d(t,Se),d(Se,se),T(M,Ae,V),T(M,re,V),T(M,Be,V),T(M,G,V),d(G,Q),d(G,$e),d(G,_e),d(G,ke),d(G,be),d(G,de),d(G,oe),d(G,ve);for(let I=0;I<K.length;I+=1)K[I]&&K[I].m(G,null)},p(M,V){if(wt(M),V&10){me=z(M[7]);let I;for(I=0;I<me.length;I+=1){const ae=Lt(M,me,I);K[I]?K[I].p(ae,V):(K[I]=St(ae),K[I].c(),K[I].m(G,null))}for(;I<K.length;I+=1)K[I].d(1);K.length=me.length}},d(M){M&&(_(t),_(Ae),_(re),_(Be),_(G)),pe(K,M)}}}function St(a){let t,n=a[8].status+"",l,e,r,s=a[8].chord.artist+"",i,o,f=a[8].chord.title+"",u,g,c,b,h=new URL(a[8].chord.url).hostname+"",N,p,m,v=(a[8].error?JSON.stringify(a[8].error):"")+"",P;return{c(){t=C("span"),l=H(n),e=E(),r=C("span"),i=H(s),o=H(" - "),u=H(f),g=E(),c=C("span"),b=C("a"),N=H(h),p=E(),m=C("span"),P=H(v),this.h()},l(S){t=w(S,"SPAN",{class:!0});var D=y(t);l=R(D,n),D.forEach(_),e=A(S),r=w(S,"SPAN",{class:!0});var O=y(r);i=R(O,s),o=R(O," - "),u=R(O,f),O.forEach(_),g=A(S),c=w(S,"SPAN",{class:!0});var Z=y(c);b=w(Z,"A",{href:!0,target:!0,rel:!0});var F=y(b);N=R(F,h),F.forEach(_),Z.forEach(_),p=A(S),m=w(S,"SPAN",{class:!0});var W=y(m);P=R(W,v),W.forEach(_),this.h()},h(){L(t,"class","col svelte-1b7k28l"),L(r,"class","col svelte-1b7k28l"),L(b,"href",a[8].chord.url),L(b,"target","_blank"),L(b,"rel","noopener noreferrer"),L(c,"class","col svelte-1b7k28l"),L(m,"class","col svelte-1b7k28l")},m(S,D){T(S,t,D),d(t,l),T(S,e,D),T(S,r,D),d(r,i),d(r,o),d(r,u),T(S,g,D),T(S,c,D),d(c,b),d(b,N),T(S,p,D),T(S,m,D),d(m,P)},p:ne,d(S){S&&(_(t),_(e),_(r),_(g),_(c),_(p),_(m))}}}function Ll(a){let t,n="Fetching results...";return{c(){t=C("p"),t.textContent=n},l(l){t=w(l,"P",{"data-svelte-h":!0}),Y(t)!=="svelte-gjakbw"&&(t.textContent=n)},m(l,e){T(l,t,e)},p:ne,d(l){l&&_(t)}}}function Tl(a){let t,n=a[0]&&Tt(a);return{c(){n&&n.c(),t=J()},l(l){n&&n.l(l),t=J()},m(l,e){n&&n.m(l,e),T(l,t,e)},p(l,[e]){l[0]?n?n.p(l,e):(n=Tt(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ne,o:ne,d(l){l&&_(t),n&&n.d(l)}}}function Sl(a,t,n){let{isOpen:l}=t;const e=el+"/chords/checkLinks";let r=fetch(e).then(o=>o.json());const s=o=>{const f=new Date(o.timestamp);return f.toDateString()+" "+f.toTimeString()},i=o=>o.fails.sort((f,u)=>f.chord.url<u.chord.url?-1:1);return a.$$set=o=>{"isOpen"in o&&n(0,l=o.isOpen)},[l,r,s,i]}class El extends Le{constructor(t){super(),Te(this,t,Sl,Tl,he,{isOpen:0})}}function Et(a,t,n){const l=a.slice();return l[10]=t[n],l}function At(a){let t,n=a[10].dateTag+"",l;return{c(){t=C("li"),l=H(n),this.h()},l(e){t=w(e,"LI",{class:!0});var r=y(t);l=R(r,n),r.forEach(_),this.h()},h(){L(t,"class","ul2col-separator")},m(e,r){T(e,t,r),d(t,l)},p(e,r){r&1&&n!==(n=e[10].dateTag+"")&&Me(l,n)},d(e){e&&_(t)}}}function yt(a){let t,n,l,e,r,s=a[10].dateTag&&At(a);return l=new Oe({props:{chord:a[10]}}),{c(){s&&s.c(),t=E(),n=C("li"),ce(l.$$.fragment),e=E(),this.h()},l(i){s&&s.l(i),t=A(i),n=w(i,"LI",{class:!0});var o=y(n);ge(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(n,"class","ul2col-item")},m(i,o){s&&s.m(i,o),T(i,t,o),T(i,n,o),fe(l,n,null),d(n,e),r=!0},p(i,o){i[10].dateTag?s?s.p(i,o):(s=At(i),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const f={};o&1&&(f.chord=i[10]),l.$set(f)},i(i){r||(B(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&(_(t),_(n)),s&&s.d(i),ue(l)}}}function Al(a){let t,n,l,e,r="More...",s,i,o,f,u,g=z(a[0]),c=[];for(let h=0;h<g.length;h+=1)c[h]=yt(Et(a,g,h));const b=h=>U(c[h],1,1,()=>{c[h]=null});return{c(){t=C("div"),n=C("h3"),l=H(`Latest additions
        `),e=C("button"),e.textContent=r,s=E(),i=C("ul");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){t=w(h,"DIV",{});var N=y(t);n=w(N,"H3",{});var p=y(n);l=R(p,`Latest additions
        `),e=w(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-l2h3rt"&&(e.textContent=r),p.forEach(_),s=A(N),i=w(N,"UL",{class:!0});var m=y(i);for(let v=0;v<c.length;v+=1)c[v].l(m);m.forEach(_),N.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(i,"class","ul2col-container")},m(h,N){T(h,t,N),d(t,n),d(n,l),d(n,e),d(t,s),d(t,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(i,null);o=!0,f||(u=te(e,"click",a[3]),f=!0)},p(h,[N]){if(N&1){g=z(h[0]);let p;for(p=0;p<g.length;p+=1){const m=Et(h,g,p);c[p]?(c[p].p(m,N),B(c[p],1)):(c[p]=yt(m),c[p].c(),B(c[p],1),c[p].m(i,null))}for(x(),p=g.length;p<c.length;p+=1)b(p);ee()}},i(h){if(!o){for(let N=0;N<g.length;N+=1)B(c[N]);o=!0}},o(h){c=c.filter(Boolean);for(let N=0;N<c.length;N+=1)U(c[N]);o=!1},d(h){h&&_(t),pe(c,h),f=!1,u()}}}function yl(a,t,n){let{chords:l}=t;const e=Date.now(),r=1e3*3600*24*7,s=r*4,i=[{label:"last week",time:e-r},{label:"one month ago",time:e-s},{label:"two monthes ago",time:e-2*s},{label:"six monthes ago",time:e-6*s},{label:"one year ago",time:e-12*s}],o=l.filter(b=>b.creationDate).sort((b,h)=>h.creationDate-b.creationDate).map((b,h,N)=>{const p={...b};if(h>0){const m=N[h-1];for(const{time:v,label:P}of i)m.creationDate>v&&b.creationDate<v&&(p.dateTag=P)}return p});let f=6,u=[];const g=()=>{f+=4,n(0,u=o.slice(0,f))};Xe(()=>{g()});const c=()=>g();return a.$$set=b=>{"chords"in b&&n(2,l=b.chords)},[u,g,l,c]}class Bl extends Le{constructor(t){super(),Te(this,t,yl,Al,he,{chords:2})}}function Bt(a,t,n){const l=a.slice();return l[5]=t[n],l}function Nt(a){let t,n=" ↶ ",l,e;return{c(){t=C("button"),t.textContent=n},l(r){t=w(r,"BUTTON",{"data-svelte-h":!0}),Y(t)!=="svelte-1mg1zky"&&(t.textContent=n)},m(r,s){T(r,t,s),l||(e=te(t,"click",a[3]),l=!0)},p:ne,d(r){r&&_(t),l=!1,e()}}}function Dt(a,t){let n,l,e,r;return l=new Oe({props:{chord:t[5],showArtist:!0}}),{key:a,first:null,c(){n=C("li"),ce(l.$$.fragment),e=E(),this.h()},l(s){n=w(s,"LI",{class:!0});var i=y(n);ge(l.$$.fragment,i),e=A(i),i.forEach(_),this.h()},h(){L(n,"class","ul2col-item"),this.first=n},m(s,i){T(s,n,i),fe(l,n,null),d(n,e),r=!0},p(s,i){t=s;const o={};i&2&&(o.chord=t[5]),l.$set(o)},i(s){r||(B(l.$$.fragment,s),r=!0)},o(s){U(l.$$.fragment,s),r=!1},d(s){s&&_(n),ue(l)}}}function Nl(a){let t,n,l,e,r,s,i="Get more random songs",o,f,u,g,c=[],b=new Map,h,N,p,m=a[0].length>ye&&Nt(a),v=z(a[1]);const P=S=>S[5].url;for(let S=0;S<v.length;S+=1){let D=Bt(a,v,S),O=P(D);b.set(O,c[S]=Dt(O,D))}return{c(){t=C("div"),n=C("h3"),l=H(`Random song
        `),e=C("span"),m&&m.c(),r=E(),s=C("button"),s.textContent=i,o=E(),f=C("br"),u=E(),g=C("ul");for(let S=0;S<c.length;S+=1)c[S].c();this.h()},l(S){t=w(S,"DIV",{});var D=y(t);n=w(D,"H3",{});var O=y(n);l=R(O,`Random song
        `),e=w(O,"SPAN",{class:!0});var Z=y(e);m&&m.l(Z),r=A(Z),s=w(Z,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-1gfm3kd"&&(s.textContent=i),Z.forEach(_),O.forEach(_),o=A(D),f=w(D,"BR",{}),u=A(D),g=w(D,"UL",{class:!0});var F=y(g);for(let W=0;W<c.length;W+=1)c[W].l(F);F.forEach(_),D.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(g,"class","ul2col-container")},m(S,D){T(S,t,D),d(t,n),d(n,l),d(n,e),m&&m.m(e,null),d(e,r),d(e,s),d(t,o),d(t,f),d(t,u),d(t,g);for(let O=0;O<c.length;O+=1)c[O]&&c[O].m(g,null);h=!0,N||(p=te(s,"click",a[2]),N=!0)},p(S,[D]){S[0].length>ye?m?m.p(S,D):(m=Nt(S),m.c(),m.m(e,r)):m&&(m.d(1),m=null),D&2&&(v=z(S[1]),x(),c=Kt(c,D,P,1,S,v,b,g,Gt,Dt,null,Bt),ee())},i(S){if(!h){for(let D=0;D<v.length;D+=1)B(c[D]);h=!0}},o(S){for(let D=0;D<c.length;D+=1)U(c[D]);h=!1},d(S){S&&_(t),m&&m.d();for(let D=0;D<c.length;D+=1)c[D].d();N=!1,p()}}}const ye=6;function Dl(a,t,n){let{chords:l}=t,e=[],r=[];const s=()=>{e.length>=l.length-ye&&n(0,e=[]);for(let o=0;o<ye;o++){let f=-1;for(;f===-1||e.includes(f);)f=Math.floor(Math.random()*l.length);e.push(f)}n(1,r=e.slice(e.length-ye).map(o=>l[o]))},i=()=>{e.length<=ye||(e.splice(e.length-ye),n(1,r=e.slice(e.length-ye).map(o=>l[o])))};return Xe(()=>{s()}),a.$$set=o=>{"chords"in o&&n(4,l=o.chords)},[e,r,s,i,l]}class $l extends Le{constructor(t){super(),Te(this,t,Dl,Nl,he,{chords:4})}}function $t(a,t,n){const l=a.slice();return l[14]=t[n],l}function Pt(a,t,n){const l=a.slice();return l[17]=t[n],l[18]=t,l[19]=n,l}function Ut(a){let t,n,l,e,r,s,i;function o(){a[11].call(n,a[17])}function f(){return a[12](a[17])}return{c(){t=C("button"),n=C("input"),l=E(),e=C("span"),r=E(),this.h()},l(u){t=w(u,"BUTTON",{class:!0});var g=y(t);n=w(g,"INPUT",{id:!0,type:!0}),l=A(g),e=w(g,"SPAN",{class:!0}),y(e).forEach(_),r=A(g),g.forEach(_),this.h()},h(){L(n,"id",a[17]),L(n,"type","checkbox"),L(e,"class",Fe(ze(a[17]))+" svelte-kiyfxh"),L(t,"class","filter-control svelte-kiyfxh")},m(u,g){T(u,t,g),d(t,n),n.checked=a[2][a[17]],d(t,l),d(t,e),d(t,r),s||(i=[te(n,"change",o),te(t,"click",f)],s=!0)},p(u,g){a=u,g&36&&(n.checked=a[2][a[17]])},d(u){u&&_(t),s=!1,Ge(i)}}}function It(a){let t,n=a[14].label+"",l,e,r,s;function i(){return a[13](a[14])}return{c(){t=C("button"),l=H(n),e=E(),this.h()},l(o){t=w(o,"BUTTON",{class:!0});var f=y(t);l=R(f,n),e=A(f),f.forEach(_),this.h()},h(){L(t,"class","control svelte-kiyfxh"),Re(t,"selected",a[1]===a[14])},m(o,f){T(o,t,f),d(t,l),d(t,e),r||(s=te(t,"click",i),r=!0)},p(o,f){a=o,f&18&&Re(t,"selected",a[1]===a[14])},d(o){o&&_(t),r=!1,s()}}}function Pl(a){let t,n,l,e,r,s,i="Check dead links",o,f,u="Edit",g,c,b,h,N,p=a[3].length+"",m,v,P,S,D,O,Z,F,W,Se="All songs",De,se,Ae,re,Be='<i class="fas fa-times-circle"></i>',G,Q,Ee,$e="Filters",_e,Pe,ke,be="View",Ue,de,oe,q,ve,me,K,M;t=new Jt({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}}),c=new rl({}),S=new Bl({props:{chords:a[3]}}),O=new $l({props:{chords:a[3]}});let V=z(a[5]),I=[];for(let k=0;k<V.length;k+=1)I[k]=Ut(Pt(a,V,k));let ae=z(a[4]),X=[];for(let k=0;k<ae.length;k+=1)X[k]=It($t(a,ae,k));var Ce=a[1].component;function le(k,j){return{props:{chords:k[3],searchString:k[0],filters:k[2]}}}return Ce&&(q=Je(Ce,le(a))),{c(){ce(t.$$.fragment),n=E(),l=C("h2"),e=H(`Song book
    `),r=C("span"),s=C("button"),s.textContent=i,o=E(),f=C("button"),f.textContent=u,g=E(),ce(c.$$.fragment),b=E(),h=C("p"),N=H("This is a list of "),m=H(p),v=H(` song chords I have been gathering for the past 10 years and that
    I like to play.`),P=E(),ce(S.$$.fragment),D=E(),ce(O.$$.fragment),Z=E(),F=C("div"),W=C("h3"),W.textContent=Se,De=H(`
    Search an artist, a title or a tag:`),se=C("input"),Ae=E(),re=C("button"),re.innerHTML=Be,G=E(),Q=C("div"),Ee=C("h4"),Ee.textContent=$e,_e=E();for(let k=0;k<I.length;k+=1)I[k].c();Pe=E(),ke=C("h4"),ke.textContent=be,Ue=E(),de=C("div");for(let k=0;k<X.length;k+=1)X[k].c();oe=E(),q&&ce(q.$$.fragment),ve=J(),this.h()},l(k){ge(t.$$.fragment,k),n=A(k),l=w(k,"H2",{});var j=y(l);e=R(j,`Song book
    `),r=w(j,"SPAN",{class:!0});var $=y(r);s=w($,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-13v6ylk"&&(s.textContent=i),o=A($),f=w($,"BUTTON",{"data-svelte-h":!0}),Y(f)!=="svelte-18v2orh"&&(f.textContent=u),$.forEach(_),j.forEach(_),g=A(k),ge(c.$$.fragment,k),b=A(k),h=w(k,"P",{});var we=y(h);N=R(we,"This is a list of "),m=R(we,p),v=R(we,` song chords I have been gathering for the past 10 years and that
    I like to play.`),we.forEach(_),P=A(k),ge(S.$$.fragment,k),D=A(k),ge(O.$$.fragment,k),Z=A(k),F=w(k,"DIV",{});var ie=y(F);W=w(ie,"H3",{"data-svelte-h":!0}),Y(W)!=="svelte-bfvigd"&&(W.textContent=Se),De=R(ie,`
    Search an artist, a title or a tag:`),se=w(ie,"INPUT",{type:!0}),Ae=A(ie),re=w(ie,"BUTTON",{"data-svelte-h":!0}),Y(re)!=="svelte-5nqbye"&&(re.innerHTML=Be),G=A(ie),Q=w(ie,"DIV",{class:!0});var He=y(Q);Ee=w(He,"H4",{"data-svelte-h":!0}),Y(Ee)!=="svelte-xazxp3"&&(Ee.textContent=$e),_e=A(He);for(let Ne=0;Ne<I.length;Ne+=1)I[Ne].l(He);He.forEach(_),Pe=A(ie),ke=w(ie,"H4",{"data-svelte-h":!0}),Y(ke)!=="svelte-1yp5l9r"&&(ke.textContent=be),Ue=A(ie),de=w(ie,"DIV",{class:!0});var Ye=y(de);for(let Ne=0;Ne<X.length;Ne+=1)X[Ne].l(Ye);Ye.forEach(_),ie.forEach(_),oe=A(k),q&&ge(q.$$.fragment,k),ve=J(),this.h()},h(){Ve(s,"position","relative"),Ve(f,"position","relative"),L(r,"class","pull-right"),L(se,"type","text"),L(Q,"class","filter-controls-container svelte-kiyfxh"),L(de,"class","view-controls-container svelte-kiyfxh")},m(k,j){fe(t,k,j),T(k,n,j),T(k,l,j),d(l,e),d(l,r),d(r,s),d(r,o),d(r,f),T(k,g,j),fe(c,k,j),T(k,b,j),T(k,h,j),d(h,N),d(h,m),d(h,v),T(k,P,j),fe(S,k,j),T(k,D,j),fe(O,k,j),T(k,Z,j),T(k,F,j),d(F,W),d(F,De),d(F,se),We(se,a[0]),d(F,Ae),d(F,re),d(F,G),d(F,Q),d(Q,Ee),d(Q,_e);for(let $=0;$<I.length;$+=1)I[$]&&I[$].m(Q,null);d(F,Pe),d(F,ke),d(F,Ue),d(F,de);for(let $=0;$<X.length;$+=1)X[$]&&X[$].m(de,null);T(k,oe,j),q&&fe(q,k,j),T(k,ve,j),me=!0,K||(M=[te(s,"click",a[7]),te(f,"click",a[8]),te(se,"input",a[9]),te(re,"click",a[10])],K=!0)},p(k,[j]){if(j&1&&se.value!==k[0]&&We(se,k[0]),j&36){V=z(k[5]);let $;for($=0;$<V.length;$+=1){const we=Pt(k,V,$);I[$]?I[$].p(we,j):(I[$]=Ut(we),I[$].c(),I[$].m(Q,null))}for(;$<I.length;$+=1)I[$].d(1);I.length=V.length}if(j&18){ae=z(k[4]);let $;for($=0;$<ae.length;$+=1){const we=$t(k,ae,$);X[$]?X[$].p(we,j):(X[$]=It(we),X[$].c(),X[$].m(de,null))}for(;$<X.length;$+=1)X[$].d(1);X.length=ae.length}if(j&2&&Ce!==(Ce=k[1].component)){if(q){x();const $=q;U($.$$.fragment,1,0,()=>{ue($,1)}),ee()}Ce?(q=Je(Ce,le(k)),ce(q.$$.fragment),B(q.$$.fragment,1),fe(q,ve.parentNode,ve)):q=null}else if(Ce){const $={};j&1&&($.searchString=k[0]),j&4&&($.filters=k[2]),q.$set($)}},i(k){me||(B(t.$$.fragment,k),B(c.$$.fragment,k),B(S.$$.fragment,k),B(O.$$.fragment,k),q&&B(q.$$.fragment,k),me=!0)},o(k){U(t.$$.fragment,k),U(c.$$.fragment,k),U(S.$$.fragment,k),U(O.$$.fragment,k),q&&U(q.$$.fragment,k),me=!1},d(k){k&&(_(n),_(l),_(g),_(b),_(h),_(P),_(D),_(Z),_(F),_(oe),_(ve)),ue(t,k),ue(c,k),ue(S,k),ue(O,k),pe(I,k),pe(X,k),q&&ue(q,k),K=!1,Ge(M)}}}function Ul(a,t,n){let{data:l}=t;const{chords:e}=l;Xe(async()=>{try{const v=(await Ft()).reduce((P,S)=>(P.set(S.url,{...S}),P),new Map);Ie.set(v)}catch(m){const v=`<strong>Couldn't get visits count</strong><br/> ${m.message}`;Ht.push(v,{duration:0,theme:{"--toastBarBackground":"#FF0000"}})}});let r="";const s=[{label:"By artist",component:dl},{label:"By tags",component:pl},{label:"By frequency",component:vl},{label:"By access date",component:fl}];let i=s[0],o={pdf:!0,doc:!0,youtube:!0,link:!0};const f=Object.keys(o),u=()=>Yt(El),g=()=>tl("/songbook/edit");function c(){r=this.value,n(0,r)}const b=()=>n(0,r="");function h(m){o[m]=this.checked,n(2,o)}const N=m=>{n(2,o[m]=!o[m],o),n(2,o)},p=m=>n(1,i=m);return a.$$set=m=>{"data"in m&&n(6,l=m.data)},[r,i,o,e,s,f,l,u,g,c,b,h,N,p]}class Jl extends Le{constructor(t){super(),Te(this,t,Ul,Pl,he,{data:6})}}export{Jl as component,Yl as universal};
