import{g as Rt,a as It,u as jt,b as qt,c as Ft}from"../chunks/api.TqZfzgIh.js";import{s as he,A as Vt,e as w,c as C,z as Y,r as L,D as Me,i as T,C as te,n as ne,f as _,y as Ke,a as E,t as H,b as y,g as A,d as M,ac as qe,h as d,q as zt,H as G,M as pe,j as Re,E as Ve,J as Jt,w as Xe,K as Ge,O as We}from"../chunks/scheduler.C_O4dLgy.js";import{S as Le,i as Te,g as x,t as U,c as ee,a as N,b as ce,d as ge,m as fe,e as ue}from"../chunks/index.DGUmas_3.js";import{e as z,u as Kt,o as Xt}from"../chunks/each.wPxVKH2l.js";import{c as Yt,o as Gt}from"../chunks/store.BpAop99O.js";/* empty css                          */import{M as Wt}from"../chunks/Main.YAGOLTaz.js";import{w as Qt}from"../chunks/index.BVbaK7KS.js";import{b as Zt}from"../chunks/paths.DSmRA_w-.js";import{t as Ht}from"../chunks/service.CyR-EFg2.js";import{h as xt,u as el}from"../chunks/await_block.bZQ4LcnS.js";import{g as tl}from"../chunks/entry.DiTp-aLn.js";const ll=!1,nl=async()=>({chords:await Rt()}),Yl=Object.freeze(Object.defineProperty({__proto__:null,load:nl,ssr:ll},Symbol.toStringTag,{value:"Module"})),{clearTimeout:Qe,setTimeout:Ze,window:Fe}=It;function sl(a){let t=!1,n=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',s,i;return Vt(a[3]),{c(){e=w("button"),e.innerHTML=r,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ed45ug"&&(e.innerHTML=r),this.h()},h(){L(e,"class","top-link svelte-1kbb9q3"),Me(e,"hide",a[1])},m(o,u){T(o,e,u),s||(i=[te(Fe,"scroll",()=>{t=!0,Qe(l),l=Ze(n,100),a[3]()}),te(e,"click",a[2])],s=!0)},p(o,[u]){u&1&&!t&&(t=!0,Qe(l),scrollTo(Fe.pageXOffset,o[0]),l=Ze(n,100)),u&2&&Me(e,"hide",o[1])},i:ne,o:ne,d(o){o&&_(e),s=!1,Ke(i)}}}function rl(a,t,n){let l,e=!0,r;const s=u=>{u>0?n(1,e=!1):n(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{n(1,e=!0)},3e3)},i=()=>{const u=document.documentElement.scrollTop||document.body.scrollTop;u>0&&(window.requestAnimationFrame(i),window.scrollTo(0,u-u/2))};function o(){n(0,l=Fe.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&s(l)},[l,e,i,o]}class ol extends Le{constructor(t){super(),Te(this,t,rl,sl,he,{})}}const Oe=Qt(),ze=a=>a==="doc"?"fas fa-file-word":a==="pdf"?"fas fa-file-pdf":a==="youtube"?"fa fa-youtube":"fas fa-link";function al(a){let t,n,l,e,r,s,i,o,u;return{c(){t=w("span"),l=E(),e=w("span"),r=w("a"),s=H(a[2]),this.h()},l(f){t=C(f,"SPAN",{class:!0}),y(t).forEach(_),l=A(f),e=C(f,"SPAN",{});var g=y(e);r=C(g,"A",{href:!0,target:!0,rel:!0,title:!0});var c=y(r);s=M(c,a[2]),c.forEach(_),g.forEach(_),this.h()},h(){L(t,"class",n=qe(ze(a[0].type))+" svelte-1gxig14"),L(r,"href",i=a[3](a[0])),L(r,"target","_blank"),L(r,"rel","noopener noreferrer"),L(r,"title",a[1])},m(f,g){T(f,t,g),T(f,l,g),T(f,e,g),d(e,r),d(r,s),o||(u=te(r,"click",a[4]),o=!0)},p(f,[g]){g&1&&n!==(n=qe(ze(f[0].type))+" svelte-1gxig14")&&L(t,"class",n),g&1&&i!==(i=f[3](f[0]))&&L(r,"href",i),g&2&&L(r,"title",f[1])},i:ne,o:ne,d(f){f&&(_(t),_(l),_(e)),o=!1,u()}}}function il(a,t,n){let{chord:l}=t,{showArtist:e=!1}=t,r;Oe.subscribe(u=>{if(u&&u.has(l.url)){const f=u.get(l.url),g=new Date(f.lastAccessDateUnix*1e3);n(1,r=`visits: ${f.count} - last: ${g.toLocaleDateString()}`)}});const s=(e?l.artist+" - ":"")+l.title,i=u=>u.type==="doc"?`${Zt}/docviewer/${u.url}`:u.url,o=async()=>{try{await jt(l.url);const u=zt(Oe),f=u.get(l.url)||{count:0,lastAccessDateUnix:0};f.count++,f.lastAccessDateUnix=Date.now()/1e3,u.set(l.url,f),Oe.set(u)}catch(u){const f=`<strong>Visit not counted</strong><br/> ${u.message}`;Ht.push(f,{initial:0,theme:{"--toastBarBackground":"#FF0000"}})}};return a.$$set=u=>{"chord"in u&&n(0,l=u.chord),"showArtist"in u&&n(5,e=u.showArtist)},[l,r,s,i,o,e]}class Ie extends Le{constructor(t){super(),Te(this,t,il,al,he,{chord:0,showArtist:5})}}function xe(a,t,n){const l=a.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function et(a){let t,n,l,e,r,s=a[6]&&tt(a);return l=new Ie({props:{chord:a[5],showArtist:!0}}),{c(){t=w("li"),s&&s.c(),n=E(),ce(l.$$.fragment),e=E(),this.h()},l(i){t=C(i,"LI",{class:!0});var o=y(t);s&&s.l(o),n=A(o),ge(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),s&&s.m(t,null),d(t,n),fe(l,t,null),d(t,e),r=!0},p(i,o){i[6]?s?s.p(i,o):(s=tt(i),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=i[5]),l.$set(u)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&_(t),s&&s.d(),ue(l)}}}function tt(a){let t,n=a[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=M(r,"("),l=M(r,n),e=M(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Re(l,n)},d(r){r&&(_(t),_(l),_(e))}}}function lt(a){let t=a[4](a[5],a[1],a[2]),n,l,e=t&&et(a);return{c(){e&&e.c(),n=G()},l(r){e&&e.l(r),n=G()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&N(e,1)):(e=et(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function nt(a){let t,n,l=z(a[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=lt(xe(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){t=w("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var i=y(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(s,i){T(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,i){if(i&31){l=z(s[0]);let o;for(o=0;o<l.length;o+=1){const u=xe(s,l,o);e[o]?(e[o].p(u,i),N(e[o],1)):(e[o]=lt(u),e[o].c(),N(e[o],1),e[o].m(t,null))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function cl(a){let t=a[0],n,l,e=nt(a);return{c(){e.c(),n=G()},l(r){e.l(r),n=G()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&he(t,t=r[0])?(x(),U(e,1,1,ne),ee(),e=nt(r),e.c(),N(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e.d(r)}}}function fl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Oe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,f)=>{const g=o.get(u.url),c=o.get(f.url);return g&&c?c.lastAccessDateUnix-g.lastAccessDateUnix:g?-1:c?1:u.artist!=f.artist?u.artist.toLowerCase()<f.artist.toLowerCase()?-1:1:u.title.toLowerCase()<f.title.toLowerCase()?-1:1})))});const i=(o,u,f)=>f[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return a.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,i]}class ul extends Le{constructor(t){super(),Te(this,t,fl,cl,he,{searchString:1,chords:0,filters:2})}}const hl=(a,t)=>a<t?-1:a>t?1:0,Je=(a,t)=>{const n=a.toLowerCase(),l=t.toLowerCase();return hl(n,l)},{Boolean:Mt}=It;function st(a,t,n){const l=a.slice();l[14]=t[n];const e=l[8](l[14].name,l[0],l[1]);l[15]=e;const r=l[9](l[14].name,l[0]);return l[16]=r,l}function rt(a,t,n){const l=a.slice();return l[20]=t[n],l}function je(a){const t=a.slice(),n=t[16]?t[5][t[14].name]:t[15];return t[19]=n,t}function ot(a,t,n){const l=a.slice();return l[23]=t[n],l}function at(a){let t,n,l=a[23].letter.toUpperCase()+"",e,r;return{c(){t=w("li"),n=w("a"),e=H(l),r=E(),this.h()},l(s){t=C(s,"LI",{class:!0});var i=y(t);n=C(i,"A",{href:!0,class:!0});var o=y(n);e=M(o,l),o.forEach(_),r=A(i),i.forEach(_),this.h()},h(){L(n,"href","#"+a[23].tag),L(n,"class","navigationLink svelte-1deg5s8"),L(t,"class","navigationBtn svelte-1deg5s8")},m(s,i){T(s,t,i),d(t,n),d(n,e),d(t,r)},p:ne,d(s){s&&_(t)}}}function it(a){let t,n,l=a[14].name+"",e,r,s,i,o,u=z(a[19]),f=[];for(let c=0;c<u.length;c+=1)f[c]=ct(rt(a,u,c));const g=c=>U(f[c],1,1,()=>{f[c]=null});return{c(){t=w("tr"),n=w("td"),e=H(l),r=E(),s=w("ul");for(let c=0;c<f.length;c+=1)f[c].c();i=E(),this.h()},l(c){t=C(c,"TR",{class:!0});var b=y(t);n=C(b,"TD",{id:!0,class:!0});var h=y(n);e=M(h,l),r=A(h),s=C(h,"UL",{class:!0});var B=y(s);for(let p=0;p<f.length;p+=1)f[p].l(B);B.forEach(_),h.forEach(_),i=A(b),b.forEach(_),this.h()},h(){L(s,"class","ul2col-container"),L(n,"id",a[14].tag),L(n,"class","svelte-1deg5s8"),L(t,"class","svelte-1deg5s8")},m(c,b){T(c,t,b),d(t,n),d(n,e),d(n,r),d(n,s);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(s,null);d(t,i),o=!0},p(c,b){if(b&931){u=z(c[19]);let h;for(h=0;h<u.length;h+=1){const B=rt(c,u,h);f[h]?(f[h].p(B,b),N(f[h],1)):(f[h]=ct(B),f[h].c(),N(f[h],1),f[h].m(s,null))}for(x(),h=u.length;h<f.length;h+=1)g(h);ee()}},i(c){if(!o){for(let b=0;b<u.length;b+=1)N(f[b]);o=!0}},o(c){f=f.filter(Mt);for(let b=0;b<f.length;b+=1)U(f[b]);o=!1},d(c){c&&_(t),pe(f,c)}}}function ct(a){let t,n,l,e;return n=new Ie({props:{chord:a[20]}}),{c(){t=w("li"),ce(n.$$.fragment),l=E(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=y(t);ge(n.$$.fragment,s),l=A(s),s.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(r,s){T(r,t,s),fe(n,t,null),d(t,l),e=!0},p(r,s){const i={};s&3&&(i.chord=r[20]),n.$set(i)},i(r){e||(N(n.$$.fragment,r),e=!0)},o(r){U(n.$$.fragment,r),e=!1},d(r){r&&_(t),ue(n)}}}function ft(a){let t,n,l=(a[16]||a[15].length>0)&&it(je(a));return{c(){l&&l.c(),t=G()},l(e){l&&l.l(e),t=G()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[16]||e[15].length>0?l?(l.p(je(e),r),r&3&&N(l,1)):(l=it(je(e)),l.c(),N(l,1),l.m(t.parentNode,t)):l&&(x(),U(l,1,1,()=>{l=null}),ee())},i(e){n||(N(l),n=!0)},o(e){U(l),n=!1},d(e){e&&_(t),l&&l.d(e)}}}function _l(a){let t=!1,n=()=>{t=!1},l,e,r=`${a[3]}px`,s,i,o,u,f;Vt(a[11]);let g=z(a[6]),c=[];for(let p=0;p<g.length;p+=1)c[p]=at(ot(a,g,p));let b=z(a[7]),h=[];for(let p=0;p<b.length;p+=1)h[p]=ft(st(a,b,p));const B=p=>U(h[p],1,1,()=>{h[p]=null});return{c(){e=w("ol");for(let p=0;p<c.length;p+=1)c[p].c();s=E(),i=w("table");for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){e=C(p,"OL",{id:!0,class:!0});var m=y(e);for(let P=0;P<c.length;P+=1)c[P].l(m);m.forEach(_),s=A(p),i=C(p,"TABLE",{id:!0});var v=y(i);for(let P=0;P<h.length;P+=1)h[P].l(v);v.forEach(_),this.h()},h(){L(e,"id","indexList"),L(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),Ve(e,"--barTop",r),L(i,"id","artistTable")},m(p,m){T(p,e,m);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(e,null);T(p,s,m),T(p,i,m);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(i,null);a[12](i),o=!0,u||(f=te(window,"scroll",()=>{t=!0,clearTimeout(l),l=setTimeout(n,100),a[11]()}),u=!0)},p(p,[m]){if(m&4&&!t&&(t=!0,clearTimeout(l),scrollTo(window.pageXOffset,p[2]),l=setTimeout(n,100)),m&64){g=z(p[6]);let v;for(v=0;v<g.length;v+=1){const P=ot(p,g,v);c[v]?c[v].p(P,m):(c[v]=at(P),c[v].c(),c[v].m(e,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=g.length}if(m&8&&r!==(r=`${p[3]}px`)&&Ve(e,"--barTop",r),m&931){b=z(p[7]);let v;for(v=0;v<b.length;v+=1){const P=st(p,b,v);h[v]?(h[v].p(P,m),N(h[v],1)):(h[v]=ft(P),h[v].c(),N(h[v],1),h[v].m(i,null))}for(x(),v=b.length;v<h.length;v+=1)B(v);ee()}},i(p){if(!o){for(let m=0;m<b.length;m+=1)N(h[m]);o=!0}},o(p){h=h.filter(Mt);for(let m=0;m<h.length;m+=1)U(h[m]);o=!1},d(p){p&&(_(e),_(s),_(i)),pe(c,p),pe(h,p),a[12](null),u=!1,f()}}}function dl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=e.reduce((m,v)=>{const P=v.artist;return m[P]||(m[P]=[]),m[P].push(v),m},{}),i=[],o=Object.keys(s).sort(Je).map((m,v,P)=>{if(v===0||m[0].toLowerCase()!=P[v-1][0].toLowerCase()){const S="anchor_letter_"+m[0];return i.push({letter:m[0],tag:S}),{name:m,tag:S}}return{name:m}});let u,f=0,g;const c=m=>{if(g){var v=g.getBoundingClientRect();if(v.top<20){n(3,f=20);return}n(3,f=v.top)}},b=(m,v,P)=>s[m].sort((D,I)=>D.title<I.title?-1:1).filter(D=>{const I=D.type;return P[I]===!1?!1:v.length===0?!0:!!D.title.toLowerCase().match(v.toLowerCase())}),h=(m,v)=>!!m.toLowerCase().match(v.toLowerCase());function B(){n(2,u=window.pageYOffset)}function p(m){Jt[m?"unshift":"push"](()=>{g=m,n(4,g)})}return a.$$set=m=>{"searchString"in m&&n(0,l=m.searchString),"chords"in m&&n(10,e=m.chords),"filters"in m&&n(1,r=m.filters)},a.$$.update=()=>{a.$$.dirty&4&&c()},[l,r,u,f,g,s,i,o,b,h,e,B,p]}class ml extends Le{constructor(t){super(),Te(this,t,dl,_l,he,{searchString:0,chords:10,filters:1})}}function ut(a,t,n){const l=a.slice();return l[5]=t[n],l}function ht(a,t,n){const l=a.slice();return l[8]=t[n],l}function _t(a){let t,n,l=a[3](a[5])+"",e,r,s,i,o,u=z(a[2][a[5]]),f=[];for(let c=0;c<u.length;c+=1)f[c]=mt(ht(a,u,c));const g=c=>U(f[c],1,1,()=>{f[c]=null});return{c(){t=w("div"),n=w("span"),e=H(l),r=E(),s=w("ul");for(let c=0;c<f.length;c+=1)f[c].c();i=E(),this.h()},l(c){t=C(c,"DIV",{});var b=y(t);n=C(b,"SPAN",{});var h=y(n);e=M(h,l),h.forEach(_),r=A(b),s=C(b,"UL",{class:!0});var B=y(s);for(let p=0;p<f.length;p+=1)f[p].l(B);B.forEach(_),i=A(b),b.forEach(_),this.h()},h(){L(s,"class","ul2col-container")},m(c,b){T(c,t,b),d(t,n),d(n,e),d(t,r),d(t,s);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(s,null);d(t,i),o=!0},p(c,b){if((!o||b&4)&&l!==(l=c[3](c[5])+"")&&Re(e,l),b&6){u=z(c[2][c[5]]);let h;for(h=0;h<u.length;h+=1){const B=ht(c,u,h);f[h]?(f[h].p(B,b),N(f[h],1)):(f[h]=mt(B),f[h].c(),N(f[h],1),f[h].m(s,null))}for(x(),h=u.length;h<f.length;h+=1)g(h);ee()}},i(c){if(!o){for(let b=0;b<u.length;b+=1)N(f[b]);o=!0}},o(c){f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)U(f[b]);o=!1},d(c){c&&_(t),pe(f,c)}}}function dt(a){let t,n,l,e;return n=new Ie({props:{chord:a[8],showArtist:!0}}),{c(){t=w("li"),ce(n.$$.fragment),l=E(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=y(t);ge(n.$$.fragment,s),l=A(s),s.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(r,s){T(r,t,s),fe(n,t,null),d(t,l),e=!0},p(r,s){const i={};s&4&&(i.chord=r[8]),n.$set(i)},i(r){e||(N(n.$$.fragment,r),e=!0)},o(r){U(n.$$.fragment,r),e=!1},d(r){r&&_(t),ue(n)}}}function mt(a){let t,n,l=a[1][a[8].type]&&dt(a);return{c(){l&&l.c(),t=G()},l(e){l&&l.l(e),t=G()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[1][e[8].type]?l?(l.p(e,r),r&6&&N(l,1)):(l=dt(e),l.c(),N(l,1),l.m(t.parentNode,t)):l&&(x(),U(l,1,1,()=>{l=null}),ee())},i(e){n||(N(l),n=!0)},o(e){U(l),n=!1},d(e){e&&_(t),l&&l.d(e)}}}function gt(a){let t=a[0].length===0||a[5].toLowerCase().match(a[0].toLowerCase()),n,l,e=t&&_t(a);return{c(){e&&e.c(),n=G()},l(r){e&&e.l(r),n=G()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&5&&(t=r[0].length===0||r[5].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,s),s&5&&N(e,1)):(e=_t(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function gl(a){let t,n,l=z(Object.keys(a[2]).sort(Je)),e=[];for(let s=0;s<l.length;s+=1)e[s]=gt(ut(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=G()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);t=G()},m(s,i){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,i);T(s,t,i),n=!0},p(s,[i]){if(i&15){l=z(Object.keys(s[2]).sort(Je));let o;for(o=0;o<l.length;o+=1){const u=ut(s,l,o);e[o]?(e[o].p(u,i),N(e[o],1)):(e[o]=gt(u),e[o].c(),N(e[o],1),e[o].m(t.parentNode,t))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function pl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),i={};for(const o of e)o.tags.forEach(f=>{i[f]||n(2,i[f]=[],i),i[f].push(o)});return Object.keys(i).forEach(o=>{i[o].sort((u,f)=>{const g=u.artist.toLowerCase(),c=f.artist.toLowerCase(),b=u.title.toLowerCase(),h=f.title.toLowerCase();return g<c?-1:g>c?1:b<h?-1:1})}),a.$$set=o=>{"searchString"in o&&n(0,l=o.searchString),"chords"in o&&n(4,e=o.chords),"filters"in o&&n(1,r=o.filters)},[l,r,i,s,e]}class kl extends Le{constructor(t){super(),Te(this,t,pl,gl,he,{searchString:0,chords:4,filters:1})}}function pt(a,t,n){const l=a.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function kt(a){let t,n,l,e,r,s=a[6]&&bt(a);return l=new Ie({props:{chord:a[5],showArtist:!0}}),{c(){t=w("li"),s&&s.c(),n=E(),ce(l.$$.fragment),e=E(),this.h()},l(i){t=C(i,"LI",{class:!0});var o=y(t);s&&s.l(o),n=A(o),ge(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),s&&s.m(t,null),d(t,n),fe(l,t,null),d(t,e),r=!0},p(i,o){i[6]?s?s.p(i,o):(s=bt(i),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=i[5]),l.$set(u)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&_(t),s&&s.d(),ue(l)}}}function bt(a){let t,n=a[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=M(r,"("),l=M(r,n),e=M(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Re(l,n)},d(r){r&&(_(t),_(l),_(e))}}}function vt(a){let t=a[4](a[5],a[1],a[2]),n,l,e=t&&kt(a);return{c(){e&&e.c(),n=G()},l(r){e&&e.l(r),n=G()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&N(e,1)):(e=kt(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function wt(a){let t,n,l=z(a[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=vt(pt(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){t=w("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var i=y(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(s,i){T(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,i){if(i&31){l=z(s[0]);let o;for(o=0;o<l.length;o+=1){const u=pt(s,l,o);e[o]?(e[o].p(u,i),N(e[o],1)):(e[o]=vt(u),e[o].c(),N(e[o],1),e[o].m(t,null))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function bl(a){let t=a[0],n,l,e=wt(a);return{c(){e.c(),n=G()},l(r){e.l(r),n=G()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&he(t,t=r[0])?(x(),U(e,1,1,ne),ee(),e=wt(r),e.c(),N(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e.d(r)}}}function vl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Oe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,f)=>{const g=o.get(u.url),c=o.get(f.url);return g&&c?g.count!==c.count?c.count-g.count:c.lastAccessDateUnix-g.lastAccessDateUnix:g?-1:c?1:u.artist!=f.artist?u.artist.toLowerCase()<f.artist.toLowerCase()?-1:1:u.title.toLowerCase()<f.title.toLowerCase()?-1:1})))});const i=(o,u,f)=>f[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return a.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,i]}class wl extends Le{constructor(t){super(),Te(this,t,vl,bl,he,{searchString:1,chords:0,filters:2})}}function Ct(a){const t=a[1](a[3]);a[4]=t;const n=a[2](a[3]);a[5]=n}function Lt(a,t,n){const l=a.slice();return l[6]=t[n],l}function Tt(a){let t,n,l,e,r,s="Close",i,o,u,f={ctx:a,current:null,token:null,hasCatch:!0,pending:Tl,then:Ll,catch:Cl,value:3,error:9};return xt(qt(),f),{c(){t=w("div"),n=w("div"),l=w("h3"),e=H(`Urls checks
                `),r=w("button"),r.textContent=s,i=E(),f.block.c(),this.h()},l(g){t=C(g,"DIV",{role:!0,class:!0});var c=y(t);n=C(c,"DIV",{class:!0});var b=y(n);l=C(b,"H3",{class:!0});var h=y(l);e=M(h,`Urls checks
                `),r=C(h,"BUTTON",{"data-svelte-h":!0}),Y(r)!=="svelte-2m9p61"&&(r.textContent=s),h.forEach(_),i=A(b),f.block.l(b),b.forEach(_),c.forEach(_),this.h()},h(){L(l,"class","title-bar svelte-1b7k28l"),L(n,"class","contents svelte-1b7k28l"),L(t,"role","dialog"),L(t,"class","modal svelte-1b7k28l")},m(g,c){T(g,t,c),d(t,n),d(n,l),d(l,e),d(l,r),d(n,i),f.block.m(n,f.anchor=null),f.mount=()=>n,f.anchor=null,o||(u=te(r,"click",Yt),o=!0)},p(g,c){a=g,el(f,a,c)},d(g){g&&_(t),f.block.d(),f.token=null,f=null,o=!1,u()}}}function Cl(a){let t,n,l=a[9].message+"",e;return{c(){t=w("p"),n=H("Could not retrieve checks: "),e=H(l),this.h()},l(r){t=C(r,"P",{style:!0});var s=y(t);n=M(s,"Could not retrieve checks: "),e=M(s,l),s.forEach(_),this.h()},h(){Ve(t,"color","red")},m(r,s){T(r,t,s),d(t,n),d(t,e)},p:ne,d(r){r&&_(t)}}}function Ll(a){Ct(a);let t,n,l="Last Check",e,r,s="Checks",i,o,u="Skipped",f,g,c="Errors",b,h,B=a[4]+"",p,m,v,P=a[3].nbChecks+"",S,D,I,Z=a[3].nbSkipped+"",q,W,Se,De=a[3].nbFails+"",se,Ae,re,Ne,K,Q,Ee="Status",$e,_e,Pe="Ref",ke,be,Ue="Host",de,oe,F="Data",ve,me=z(a[5]),J=[];for(let R=0;R<me.length;R+=1)J[R]=St(Lt(a,me,R));return{c(){t=w("div"),n=w("span"),n.textContent=l,e=E(),r=w("span"),r.textContent=s,i=E(),o=w("span"),o.textContent=u,f=E(),g=w("span"),g.textContent=c,b=E(),h=w("span"),p=H(B),m=E(),v=w("span"),S=H(P),D=E(),I=w("span"),q=H(Z),W=E(),Se=w("span"),se=H(De),Ae=E(),re=w("br"),Ne=E(),K=w("div"),Q=w("span"),Q.textContent=Ee,$e=E(),_e=w("span"),_e.textContent=Pe,ke=E(),be=w("span"),be.textContent=Ue,de=E(),oe=w("span"),oe.textContent=F,ve=E();for(let R=0;R<J.length;R+=1)J[R].c();this.h()},l(R){t=C(R,"DIV",{class:!0});var V=y(t);n=C(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1lbvzb0"&&(n.textContent=l),e=A(V),r=C(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1wmxeaf"&&(r.textContent=s),i=A(V),o=C(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-txun94"&&(o.textContent=u),f=A(V),g=C(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(g)!=="svelte-5mrj6x"&&(g.textContent=c),b=A(V),h=C(V,"SPAN",{class:!0});var O=y(h);p=M(O,B),O.forEach(_),m=A(V),v=C(V,"SPAN",{class:!0});var ae=y(v);S=M(ae,P),ae.forEach(_),D=A(V),I=C(V,"SPAN",{class:!0});var X=y(I);q=M(X,Z),X.forEach(_),W=A(V),Se=C(V,"SPAN",{class:!0});var we=y(Se);se=M(we,De),we.forEach(_),V.forEach(_),Ae=A(R),re=C(R,"BR",{}),Ne=A(R),K=C(R,"DIV",{class:!0});var le=y(K);Q=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Q)!=="svelte-1s7ffxq"&&(Q.textContent=Ee),$e=A(le),_e=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_e)!=="svelte-1wa8gqx"&&(_e.textContent=Pe),ke=A(le),be=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(be)!=="svelte-33rgke"&&(be.textContent=Ue),de=A(le),oe=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(oe)!=="svelte-1yzk30k"&&(oe.textContent=F),ve=A(le);for(let k=0;k<J.length;k+=1)J[k].l(le);le.forEach(_),this.h()},h(){L(n,"class","col table-head svelte-1b7k28l"),L(r,"class","col table-head svelte-1b7k28l"),L(o,"class","col table-head svelte-1b7k28l"),L(g,"class","col table-head svelte-1b7k28l"),L(h,"class","col svelte-1b7k28l"),L(v,"class","col svelte-1b7k28l"),L(I,"class","col svelte-1b7k28l"),L(Se,"class","col svelte-1b7k28l"),L(t,"class","rows svelte-1b7k28l"),L(Q,"class","col table-head svelte-1b7k28l"),L(_e,"class","col table-head svelte-1b7k28l"),L(be,"class","col table-head svelte-1b7k28l"),L(oe,"class","col table-head svelte-1b7k28l"),L(K,"class","rows svelte-1b7k28l")},m(R,V){T(R,t,V),d(t,n),d(t,e),d(t,r),d(t,i),d(t,o),d(t,f),d(t,g),d(t,b),d(t,h),d(h,p),d(t,m),d(t,v),d(v,S),d(t,D),d(t,I),d(I,q),d(t,W),d(t,Se),d(Se,se),T(R,Ae,V),T(R,re,V),T(R,Ne,V),T(R,K,V),d(K,Q),d(K,$e),d(K,_e),d(K,ke),d(K,be),d(K,de),d(K,oe),d(K,ve);for(let O=0;O<J.length;O+=1)J[O]&&J[O].m(K,null)},p(R,V){if(Ct(R),V&4){me=z(R[5]);let O;for(O=0;O<me.length;O+=1){const ae=Lt(R,me,O);J[O]?J[O].p(ae,V):(J[O]=St(ae),J[O].c(),J[O].m(K,null))}for(;O<J.length;O+=1)J[O].d(1);J.length=me.length}},d(R){R&&(_(t),_(Ae),_(re),_(Ne),_(K)),pe(J,R)}}}function St(a){let t,n=a[6].status+"",l,e,r,s=a[6].chord.artist+"",i,o,u=a[6].chord.title+"",f,g,c,b,h=new URL(a[6].chord.url).hostname+"",B,p,m,v=(a[6].error?JSON.stringify(a[6].error):"")+"",P;return{c(){t=w("span"),l=H(n),e=E(),r=w("span"),i=H(s),o=H(" - "),f=H(u),g=E(),c=w("span"),b=w("a"),B=H(h),p=E(),m=w("span"),P=H(v),this.h()},l(S){t=C(S,"SPAN",{class:!0});var D=y(t);l=M(D,n),D.forEach(_),e=A(S),r=C(S,"SPAN",{class:!0});var I=y(r);i=M(I,s),o=M(I," - "),f=M(I,u),I.forEach(_),g=A(S),c=C(S,"SPAN",{class:!0});var Z=y(c);b=C(Z,"A",{href:!0,target:!0,rel:!0});var q=y(b);B=M(q,h),q.forEach(_),Z.forEach(_),p=A(S),m=C(S,"SPAN",{class:!0});var W=y(m);P=M(W,v),W.forEach(_),this.h()},h(){L(t,"class","col svelte-1b7k28l"),L(r,"class","col svelte-1b7k28l"),L(b,"href",a[6].chord.url),L(b,"target","_blank"),L(b,"rel","noopener noreferrer"),L(c,"class","col svelte-1b7k28l"),L(m,"class","col svelte-1b7k28l")},m(S,D){T(S,t,D),d(t,l),T(S,e,D),T(S,r,D),d(r,i),d(r,o),d(r,f),T(S,g,D),T(S,c,D),d(c,b),d(b,B),T(S,p,D),T(S,m,D),d(m,P)},p:ne,d(S){S&&(_(t),_(e),_(r),_(g),_(c),_(p),_(m))}}}function Tl(a){let t,n="Fetching results...";return{c(){t=w("p"),t.textContent=n},l(l){t=C(l,"P",{"data-svelte-h":!0}),Y(t)!=="svelte-gjakbw"&&(t.textContent=n)},m(l,e){T(l,t,e)},p:ne,d(l){l&&_(t)}}}function Sl(a){let t,n=a[0]&&Tt(a);return{c(){n&&n.c(),t=G()},l(l){n&&n.l(l),t=G()},m(l,e){n&&n.m(l,e),T(l,t,e)},p(l,[e]){l[0]?n?n.p(l,e):(n=Tt(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ne,o:ne,d(l){l&&_(t),n&&n.d(l)}}}function El(a,t,n){let{isOpen:l}=t;const e=s=>{const i=new Date(s.timestamp);return i.toDateString()+" "+i.toTimeString()},r=s=>s.fails.sort((i,o)=>i.chord.url<o.chord.url?-1:1);return a.$$set=s=>{"isOpen"in s&&n(0,l=s.isOpen)},[l,e,r]}class Al extends Le{constructor(t){super(),Te(this,t,El,Sl,he,{isOpen:0})}}function Et(a,t,n){const l=a.slice();return l[10]=t[n],l}function At(a){let t,n=a[10].dateTag+"",l;return{c(){t=w("li"),l=H(n),this.h()},l(e){t=C(e,"LI",{class:!0});var r=y(t);l=M(r,n),r.forEach(_),this.h()},h(){L(t,"class","ul2col-separator")},m(e,r){T(e,t,r),d(t,l)},p(e,r){r&1&&n!==(n=e[10].dateTag+"")&&Re(l,n)},d(e){e&&_(t)}}}function yt(a){let t,n,l,e,r,s=a[10].dateTag&&At(a);return l=new Ie({props:{chord:a[10]}}),{c(){s&&s.c(),t=E(),n=w("li"),ce(l.$$.fragment),e=E(),this.h()},l(i){s&&s.l(i),t=A(i),n=C(i,"LI",{class:!0});var o=y(n);ge(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(n,"class","ul2col-item")},m(i,o){s&&s.m(i,o),T(i,t,o),T(i,n,o),fe(l,n,null),d(n,e),r=!0},p(i,o){i[10].dateTag?s?s.p(i,o):(s=At(i),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=i[10]),l.$set(u)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&(_(t),_(n)),s&&s.d(i),ue(l)}}}function yl(a){let t,n,l,e,r="More...",s,i,o,u,f,g=z(a[0]),c=[];for(let h=0;h<g.length;h+=1)c[h]=yt(Et(a,g,h));const b=h=>U(c[h],1,1,()=>{c[h]=null});return{c(){t=w("div"),n=w("h3"),l=H(`Latest additions
        `),e=w("button"),e.textContent=r,s=E(),i=w("ul");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){t=C(h,"DIV",{});var B=y(t);n=C(B,"H3",{});var p=y(n);l=M(p,`Latest additions
        `),e=C(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-l2h3rt"&&(e.textContent=r),p.forEach(_),s=A(B),i=C(B,"UL",{class:!0});var m=y(i);for(let v=0;v<c.length;v+=1)c[v].l(m);m.forEach(_),B.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(i,"class","ul2col-container")},m(h,B){T(h,t,B),d(t,n),d(n,l),d(n,e),d(t,s),d(t,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(i,null);o=!0,u||(f=te(e,"click",a[3]),u=!0)},p(h,[B]){if(B&1){g=z(h[0]);let p;for(p=0;p<g.length;p+=1){const m=Et(h,g,p);c[p]?(c[p].p(m,B),N(c[p],1)):(c[p]=yt(m),c[p].c(),N(c[p],1),c[p].m(i,null))}for(x(),p=g.length;p<c.length;p+=1)b(p);ee()}},i(h){if(!o){for(let B=0;B<g.length;B+=1)N(c[B]);o=!0}},o(h){c=c.filter(Boolean);for(let B=0;B<c.length;B+=1)U(c[B]);o=!1},d(h){h&&_(t),pe(c,h),u=!1,f()}}}function Nl(a,t,n){let{chords:l}=t;const e=Date.now(),r=1e3*3600*24*7,s=r*4,i=[{label:"last week",time:e-r},{label:"one month ago",time:e-s},{label:"two monthes ago",time:e-2*s},{label:"six monthes ago",time:e-6*s},{label:"one year ago",time:e-12*s}],o=l.filter(b=>b.creationDate).sort((b,h)=>h.creationDate-b.creationDate).map((b,h,B)=>{const p={...b};if(h>0){const m=B[h-1];for(const{time:v,label:P}of i)m.creationDate>v&&b.creationDate<v&&(p.dateTag=P)}return p});let u=6,f=[];const g=()=>{u+=4,n(0,f=o.slice(0,u))};Xe(()=>{g()});const c=()=>g();return a.$$set=b=>{"chords"in b&&n(2,l=b.chords)},[f,g,l,c]}class Bl extends Le{constructor(t){super(),Te(this,t,Nl,yl,he,{chords:2})}}function Nt(a,t,n){const l=a.slice();return l[5]=t[n],l}function Bt(a){let t,n=" ↶ ",l,e;return{c(){t=w("button"),t.textContent=n},l(r){t=C(r,"BUTTON",{"data-svelte-h":!0}),Y(t)!=="svelte-1mg1zky"&&(t.textContent=n)},m(r,s){T(r,t,s),l||(e=te(t,"click",a[3]),l=!0)},p:ne,d(r){r&&_(t),l=!1,e()}}}function Dt(a,t){let n,l,e,r;return l=new Ie({props:{chord:t[5],showArtist:!0}}),{key:a,first:null,c(){n=w("li"),ce(l.$$.fragment),e=E(),this.h()},l(s){n=C(s,"LI",{class:!0});var i=y(n);ge(l.$$.fragment,i),e=A(i),i.forEach(_),this.h()},h(){L(n,"class","ul2col-item"),this.first=n},m(s,i){T(s,n,i),fe(l,n,null),d(n,e),r=!0},p(s,i){t=s;const o={};i&2&&(o.chord=t[5]),l.$set(o)},i(s){r||(N(l.$$.fragment,s),r=!0)},o(s){U(l.$$.fragment,s),r=!1},d(s){s&&_(n),ue(l)}}}function Dl(a){let t,n,l,e,r,s,i="Get more random songs",o,u,f,g,c=[],b=new Map,h,B,p,m=a[0].length>ye&&Bt(a),v=z(a[1]);const P=S=>S[5].url;for(let S=0;S<v.length;S+=1){let D=Nt(a,v,S),I=P(D);b.set(I,c[S]=Dt(I,D))}return{c(){t=w("div"),n=w("h3"),l=H(`Random song
        `),e=w("span"),m&&m.c(),r=E(),s=w("button"),s.textContent=i,o=E(),u=w("br"),f=E(),g=w("ul");for(let S=0;S<c.length;S+=1)c[S].c();this.h()},l(S){t=C(S,"DIV",{});var D=y(t);n=C(D,"H3",{});var I=y(n);l=M(I,`Random song
        `),e=C(I,"SPAN",{class:!0});var Z=y(e);m&&m.l(Z),r=A(Z),s=C(Z,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-1gfm3kd"&&(s.textContent=i),Z.forEach(_),I.forEach(_),o=A(D),u=C(D,"BR",{}),f=A(D),g=C(D,"UL",{class:!0});var q=y(g);for(let W=0;W<c.length;W+=1)c[W].l(q);q.forEach(_),D.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(g,"class","ul2col-container")},m(S,D){T(S,t,D),d(t,n),d(n,l),d(n,e),m&&m.m(e,null),d(e,r),d(e,s),d(t,o),d(t,u),d(t,f),d(t,g);for(let I=0;I<c.length;I+=1)c[I]&&c[I].m(g,null);h=!0,B||(p=te(s,"click",a[2]),B=!0)},p(S,[D]){S[0].length>ye?m?m.p(S,D):(m=Bt(S),m.c(),m.m(e,r)):m&&(m.d(1),m=null),D&2&&(v=z(S[1]),x(),c=Kt(c,D,P,1,S,v,b,g,Xt,Dt,null,Nt),ee())},i(S){if(!h){for(let D=0;D<v.length;D+=1)N(c[D]);h=!0}},o(S){for(let D=0;D<c.length;D+=1)U(c[D]);h=!1},d(S){S&&_(t),m&&m.d();for(let D=0;D<c.length;D+=1)c[D].d();B=!1,p()}}}const ye=6;function $l(a,t,n){let{chords:l}=t,e=[],r=[];const s=()=>{e.length>=l.length-ye&&n(0,e=[]);for(let o=0;o<ye;o++){let u=-1;for(;u===-1||e.includes(u);)u=Math.floor(Math.random()*l.length);e.push(u)}n(1,r=e.slice(e.length-ye).map(o=>l[o]))},i=()=>{e.length<=ye||(e.splice(e.length-ye),n(1,r=e.slice(e.length-ye).map(o=>l[o])))};return Xe(()=>{s()}),a.$$set=o=>{"chords"in o&&n(4,l=o.chords)},[e,r,s,i,l]}class Pl extends Le{constructor(t){super(),Te(this,t,$l,Dl,he,{chords:4})}}function $t(a,t,n){const l=a.slice();return l[14]=t[n],l}function Pt(a,t,n){const l=a.slice();return l[17]=t[n],l[18]=t,l[19]=n,l}function Ut(a){let t,n,l,e,r,s,i;function o(){a[11].call(n,a[17])}function u(){return a[12](a[17])}return{c(){t=w("button"),n=w("input"),l=E(),e=w("span"),r=E(),this.h()},l(f){t=C(f,"BUTTON",{class:!0});var g=y(t);n=C(g,"INPUT",{id:!0,type:!0}),l=A(g),e=C(g,"SPAN",{class:!0}),y(e).forEach(_),r=A(g),g.forEach(_),this.h()},h(){L(n,"id",a[17]),L(n,"type","checkbox"),L(e,"class",qe(ze(a[17]))+" svelte-kiyfxh"),L(t,"class","filter-control svelte-kiyfxh")},m(f,g){T(f,t,g),d(t,n),n.checked=a[2][a[17]],d(t,l),d(t,e),d(t,r),s||(i=[te(n,"change",o),te(t,"click",u)],s=!0)},p(f,g){a=f,g&36&&(n.checked=a[2][a[17]])},d(f){f&&_(t),s=!1,Ke(i)}}}function Ot(a){let t,n=a[14].label+"",l,e,r,s;function i(){return a[13](a[14])}return{c(){t=w("button"),l=H(n),e=E(),this.h()},l(o){t=C(o,"BUTTON",{class:!0});var u=y(t);l=M(u,n),e=A(u),u.forEach(_),this.h()},h(){L(t,"class","control svelte-kiyfxh"),Me(t,"selected",a[1]===a[14])},m(o,u){T(o,t,u),d(t,l),d(t,e),r||(s=te(t,"click",i),r=!0)},p(o,u){a=o,u&18&&Me(t,"selected",a[1]===a[14])},d(o){o&&_(t),r=!1,s()}}}function Ul(a){let t,n,l,e,r,s,i="Check dead links",o,u,f="Edit",g,c,b,h,B,p=a[3].length+"",m,v,P,S,D,I,Z,q,W,Se="All songs",De,se,Ae,re,Ne='<i class="fas fa-times-circle"></i>',K,Q,Ee,$e="Filters",_e,Pe,ke,be="View",Ue,de,oe,F,ve,me,J,R;t=new Wt({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}}),c=new ol({}),S=new Bl({props:{chords:a[3]}}),I=new Pl({props:{chords:a[3]}});let V=z(a[5]),O=[];for(let k=0;k<V.length;k+=1)O[k]=Ut(Pt(a,V,k));let ae=z(a[4]),X=[];for(let k=0;k<ae.length;k+=1)X[k]=Ot($t(a,ae,k));var we=a[1].component;function le(k,j){return{props:{chords:k[3],searchString:k[0],filters:k[2]}}}return we&&(F=Ge(we,le(a))),{c(){ce(t.$$.fragment),n=E(),l=w("h2"),e=H(`Song book
    `),r=w("span"),s=w("button"),s.textContent=i,o=E(),u=w("button"),u.textContent=f,g=E(),ce(c.$$.fragment),b=E(),h=w("p"),B=H("This is a list of "),m=H(p),v=H(` song chords I have been gathering for the past 10 years and that
    I like to play.`),P=E(),ce(S.$$.fragment),D=E(),ce(I.$$.fragment),Z=E(),q=w("div"),W=w("h3"),W.textContent=Se,De=H(`
    Search an artist, a title or a tag:`),se=w("input"),Ae=E(),re=w("button"),re.innerHTML=Ne,K=E(),Q=w("div"),Ee=w("h4"),Ee.textContent=$e,_e=E();for(let k=0;k<O.length;k+=1)O[k].c();Pe=E(),ke=w("h4"),ke.textContent=be,Ue=E(),de=w("div");for(let k=0;k<X.length;k+=1)X[k].c();oe=E(),F&&ce(F.$$.fragment),ve=G(),this.h()},l(k){ge(t.$$.fragment,k),n=A(k),l=C(k,"H2",{});var j=y(l);e=M(j,`Song book
    `),r=C(j,"SPAN",{class:!0});var $=y(r);s=C($,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-13v6ylk"&&(s.textContent=i),o=A($),u=C($,"BUTTON",{"data-svelte-h":!0}),Y(u)!=="svelte-18v2orh"&&(u.textContent=f),$.forEach(_),j.forEach(_),g=A(k),ge(c.$$.fragment,k),b=A(k),h=C(k,"P",{});var Ce=y(h);B=M(Ce,"This is a list of "),m=M(Ce,p),v=M(Ce,` song chords I have been gathering for the past 10 years and that
    I like to play.`),Ce.forEach(_),P=A(k),ge(S.$$.fragment,k),D=A(k),ge(I.$$.fragment,k),Z=A(k),q=C(k,"DIV",{});var ie=y(q);W=C(ie,"H3",{"data-svelte-h":!0}),Y(W)!=="svelte-bfvigd"&&(W.textContent=Se),De=M(ie,`
    Search an artist, a title or a tag:`),se=C(ie,"INPUT",{type:!0}),Ae=A(ie),re=C(ie,"BUTTON",{"data-svelte-h":!0}),Y(re)!=="svelte-5nqbye"&&(re.innerHTML=Ne),K=A(ie),Q=C(ie,"DIV",{class:!0});var He=y(Q);Ee=C(He,"H4",{"data-svelte-h":!0}),Y(Ee)!=="svelte-xazxp3"&&(Ee.textContent=$e),_e=A(He);for(let Be=0;Be<O.length;Be+=1)O[Be].l(He);He.forEach(_),Pe=A(ie),ke=C(ie,"H4",{"data-svelte-h":!0}),Y(ke)!=="svelte-1yp5l9r"&&(ke.textContent=be),Ue=A(ie),de=C(ie,"DIV",{class:!0});var Ye=y(de);for(let Be=0;Be<X.length;Be+=1)X[Be].l(Ye);Ye.forEach(_),ie.forEach(_),oe=A(k),F&&ge(F.$$.fragment,k),ve=G(),this.h()},h(){Ve(s,"position","relative"),Ve(u,"position","relative"),L(r,"class","pull-right"),L(se,"type","text"),L(Q,"class","filter-controls-container svelte-kiyfxh"),L(de,"class","view-controls-container svelte-kiyfxh")},m(k,j){fe(t,k,j),T(k,n,j),T(k,l,j),d(l,e),d(l,r),d(r,s),d(r,o),d(r,u),T(k,g,j),fe(c,k,j),T(k,b,j),T(k,h,j),d(h,B),d(h,m),d(h,v),T(k,P,j),fe(S,k,j),T(k,D,j),fe(I,k,j),T(k,Z,j),T(k,q,j),d(q,W),d(q,De),d(q,se),We(se,a[0]),d(q,Ae),d(q,re),d(q,K),d(q,Q),d(Q,Ee),d(Q,_e);for(let $=0;$<O.length;$+=1)O[$]&&O[$].m(Q,null);d(q,Pe),d(q,ke),d(q,Ue),d(q,de);for(let $=0;$<X.length;$+=1)X[$]&&X[$].m(de,null);T(k,oe,j),F&&fe(F,k,j),T(k,ve,j),me=!0,J||(R=[te(s,"click",a[7]),te(u,"click",a[8]),te(se,"input",a[9]),te(re,"click",a[10])],J=!0)},p(k,[j]){if(j&1&&se.value!==k[0]&&We(se,k[0]),j&36){V=z(k[5]);let $;for($=0;$<V.length;$+=1){const Ce=Pt(k,V,$);O[$]?O[$].p(Ce,j):(O[$]=Ut(Ce),O[$].c(),O[$].m(Q,null))}for(;$<O.length;$+=1)O[$].d(1);O.length=V.length}if(j&18){ae=z(k[4]);let $;for($=0;$<ae.length;$+=1){const Ce=$t(k,ae,$);X[$]?X[$].p(Ce,j):(X[$]=Ot(Ce),X[$].c(),X[$].m(de,null))}for(;$<X.length;$+=1)X[$].d(1);X.length=ae.length}if(j&2&&we!==(we=k[1].component)){if(F){x();const $=F;U($.$$.fragment,1,0,()=>{ue($,1)}),ee()}we?(F=Ge(we,le(k)),ce(F.$$.fragment),N(F.$$.fragment,1),fe(F,ve.parentNode,ve)):F=null}else if(we){const $={};j&1&&($.searchString=k[0]),j&4&&($.filters=k[2]),F.$set($)}},i(k){me||(N(t.$$.fragment,k),N(c.$$.fragment,k),N(S.$$.fragment,k),N(I.$$.fragment,k),F&&N(F.$$.fragment,k),me=!0)},o(k){U(t.$$.fragment,k),U(c.$$.fragment,k),U(S.$$.fragment,k),U(I.$$.fragment,k),F&&U(F.$$.fragment,k),me=!1},d(k){k&&(_(n),_(l),_(g),_(b),_(h),_(P),_(D),_(Z),_(q),_(oe),_(ve)),ue(t,k),ue(c,k),ue(S,k),ue(I,k),pe(O,k),pe(X,k),F&&ue(F,k),J=!1,Ke(R)}}}function Ol(a,t,n){let{data:l}=t;const{chords:e}=l;Xe(async()=>{try{const v=(await Ft()).reduce((P,S)=>(P.set(S.url,{...S}),P),new Map);Oe.set(v)}catch(m){const v=`<strong>Couldn't get visits count</strong><br/> ${m.message}`;Ht.push(v,{duration:0,theme:{"--toastBarBackground":"#FF0000"}})}});let r="";const s=[{label:"By artist",component:ml},{label:"By tags",component:kl},{label:"By frequency",component:wl},{label:"By access date",component:ul}];let i=s[0],o={pdf:!0,doc:!0,youtube:!0,link:!0};const u=Object.keys(o),f=()=>Gt(Al),g=()=>tl("/songbook/edit");function c(){r=this.value,n(0,r)}const b=()=>n(0,r="");function h(m){o[m]=this.checked,n(2,o)}const B=m=>{n(2,o[m]=!o[m],o),n(2,o)},p=m=>n(1,i=m);return a.$$set=m=>{"data"in m&&n(6,l=m.data)},[r,i,o,e,s,u,l,f,g,c,b,h,B,p]}class Gl extends Le{constructor(t){super(),Te(this,t,Ol,Ul,he,{data:6})}}export{Gl as component,Yl as universal};
