import{g as Ft,a as Vt,u as jt,b as qt,c as zt}from"../chunks/api.BHDhrPJo.js";import{s as se,D as Ht,e as v,c as w,z as Y,m as L,F as Me,i as T,E as te,n as le,f as h,y as Ke,a as A,t as H,b as B,g as y,d as M,a5 as je,h as m,l as Gt,A as J,B as pe,j as Re,G as Ve,K as Kt,q as Xe,L as Je,O as We}from"../chunks/scheduler.fAu-Yx5A.js";import{S as Le,i as Te,g as Z,t as P,c as x,a as E,b as fe,d as ge,m as ue,e as he}from"../chunks/index.DICwlGiI.js";import{e as z,u as Xt,o as Yt}from"../chunks/each.DxvxzW-o.js";import{c as Jt,o as Wt}from"../chunks/store.Cw5L2-Pn.js";/* empty css                          */import{M as Qt}from"../chunks/Main.BOgRpKdc.js";import{w as Zt}from"../chunks/index.DUQcnKIG.js";import{b as xt}from"../chunks/paths.BuL4bs7b.js";import{t as Mt}from"../chunks/service.CynkMglu.js";import{h as el,u as tl}from"../chunks/await_block.DTGKniHf.js";import{g as ll}from"../chunks/entry.CfGosP7W.js";const nl=!1,sl=async()=>({chords:await Ft()}),Jl=Object.freeze(Object.defineProperty({__proto__:null,load:sl,ssr:nl},Symbol.toStringTag,{value:"Module"})),{clearTimeout:Qe,setTimeout:Ze,window:qe}=Vt;function rl(a){let t=!1,s=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',n,i;return Ht(a[3]),{c(){e=v("button"),e.innerHTML=r,this.h()},l(o){e=w(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ed45ug"&&(e.innerHTML=r),this.h()},h(){L(e,"class","top-link svelte-1kbb9q3"),Me(e,"hide",a[1])},m(o,c){T(o,e,c),n||(i=[te(qe,"scroll",()=>{t=!0,Qe(l),l=Ze(s,100),a[3]()}),te(e,"click",a[2])],n=!0)},p(o,[c]){c&1&&!t&&(t=!0,Qe(l),scrollTo(qe.pageXOffset,o[0]),l=Ze(s,100)),c&2&&Me(e,"hide",o[1])},i:le,o:le,d(o){o&&h(e),n=!1,Ke(i)}}}function ol(a,t,s){let l,e=!0,r;const n=c=>{c>0?s(1,e=!1):s(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{s(1,e=!0)},3e3)},i=()=>{const c=document.documentElement.scrollTop||document.body.scrollTop;c>0&&(window.requestAnimationFrame(i),window.scrollTo(0,c-c/2))};function o(){s(0,l=qe.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&n(l)},[l,e,i,o]}class al extends Le{constructor(t){super(),Te(this,t,ol,rl,se,{})}}const Oe=Zt(),ze=a=>a==="doc"?"fas fa-file-word":a==="pdf"?"fas fa-file-pdf":a==="youtube"?"fa fa-youtube":"fas fa-link";function il(a){let t,s,l,e,r,n,i,o,c;return{c(){t=v("span"),l=A(),e=v("span"),r=v("a"),n=H(a[2]),this.h()},l(u){t=w(u,"SPAN",{class:!0}),B(t).forEach(h),l=y(u),e=w(u,"SPAN",{});var d=B(e);r=w(d,"A",{href:!0,target:!0,rel:!0,title:!0});var f=B(r);n=M(f,a[2]),f.forEach(h),d.forEach(h),this.h()},h(){L(t,"class",s=je(ze(a[0].type))+" svelte-1gxig14"),L(r,"href",i=a[3](a[0])),L(r,"target","_blank"),L(r,"rel","noopener noreferrer"),L(r,"title",a[1])},m(u,d){T(u,t,d),T(u,l,d),T(u,e,d),m(e,r),m(r,n),o||(c=te(r,"click",a[4]),o=!0)},p(u,[d]){d&1&&s!==(s=je(ze(u[0].type))+" svelte-1gxig14")&&L(t,"class",s),d&1&&i!==(i=u[3](u[0]))&&L(r,"href",i),d&2&&L(r,"title",u[1])},i:le,o:le,d(u){u&&(h(t),h(l),h(e)),o=!1,c()}}}function cl(a,t,s){let{chord:l}=t,{showArtist:e=!1}=t,r;Oe.subscribe(c=>{if(c&&c.has(l.url)){const u=c.get(l.url),d=new Date(u.lastAccessDateUnix*1e3);s(1,r=`visits: ${u.count} - last: ${d.toLocaleDateString()}`)}});const n=(e?l.artist+" - ":"")+l.title,i=c=>c.type==="doc"?`${xt}/docviewer/${c.url}`:c.url,o=async()=>{try{await jt(l.url);const c=Gt(Oe),u=c.get(l.url)||{count:0,lastAccessDateUnix:0};u.count++,u.lastAccessDateUnix=Date.now()/1e3,c.set(l.url,u),Oe.set(c)}catch(c){const u=`<strong>Visit not counted</strong><br/> ${c.message}`;Mt.push(u,{initial:0,theme:{"--toastBarBackground":"#FF0000"}})}};return a.$$set=c=>{"chord"in c&&s(0,l=c.chord),"showArtist"in c&&s(5,e=c.showArtist)},[l,r,n,i,o,e]}class Ie extends Le{constructor(t){super(),Te(this,t,cl,il,se,{chord:0,showArtist:5})}}function xe(a,t,s){const l=a.slice();l[5]=t[s];const e=l[3].get(l[5].url);return l[6]=e,l}function et(a){let t,s,l,e,r,n=a[6]&&tt(a);return l=new Ie({props:{chord:a[5],showArtist:!0}}),{c(){t=v("li"),n&&n.c(),s=A(),fe(l.$$.fragment),e=A(),this.h()},l(i){t=w(i,"LI",{class:!0});var o=B(t);n&&n.l(o),s=y(o),ge(l.$$.fragment,o),e=y(o),o.forEach(h),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),n&&n.m(t,null),m(t,s),ue(l,t,null),m(t,e),r=!0},p(i,o){i[6]?n?n.p(i,o):(n=tt(i),n.c(),n.m(t,s)):n&&(n.d(1),n=null);const c={};o&1&&(c.chord=i[5]),l.$set(c)},i(i){r||(E(l.$$.fragment,i),r=!0)},o(i){P(l.$$.fragment,i),r=!1},d(i){i&&h(t),n&&n.d(),he(l)}}}function tt(a){let t,s=a[6].count+"",l,e;return{c(){t=H("("),l=H(s),e=H(")")},l(r){t=M(r,"("),l=M(r,s),e=M(r,")")},m(r,n){T(r,t,n),T(r,l,n),T(r,e,n)},p(r,n){n&9&&s!==(s=r[6].count+"")&&Re(l,s)},d(r){r&&(h(t),h(l),h(e))}}}function lt(a){let t=a[4](a[5],a[1],a[2]),s,l,e=t&&et(a);return{c(){e&&e.c(),s=J()},l(r){e&&e.l(r),s=J()},m(r,n){e&&e.m(r,n),T(r,s,n),l=!0},p(r,n){n&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,n),n&7&&E(e,1)):(e=et(r),e.c(),E(e,1),e.m(s.parentNode,s)):e&&(Z(),P(e,1,1,()=>{e=null}),x())},i(r){l||(E(e),l=!0)},o(r){P(e),l=!1},d(r){r&&h(s),e&&e.d(r)}}}function nt(a){let t,s,l=z(a[0]),e=[];for(let n=0;n<l.length;n+=1)e[n]=lt(xe(a,l,n));const r=n=>P(e[n],1,1,()=>{e[n]=null});return{c(){t=v("ul");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=w(n,"UL",{class:!0});var i=B(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(h),this.h()},h(){L(t,"class","ul2col-container")},m(n,i){T(n,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);s=!0},p(n,i){if(i&31){l=z(n[0]);let o;for(o=0;o<l.length;o+=1){const c=xe(n,l,o);e[o]?(e[o].p(c,i),E(e[o],1)):(e[o]=lt(c),e[o].c(),E(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)E(e[i]);s=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)P(e[i]);s=!1},d(n){n&&h(t),pe(e,n)}}}function fl(a){let t=a[0],s,l,e=nt(a);return{c(){e.c(),s=J()},l(r){e.l(r),s=J()},m(r,n){e.m(r,n),T(r,s,n),l=!0},p(r,[n]){n&1&&se(t,t=r[0])?(Z(),P(e,1,1,le),x(),e=nt(r),e.c(),E(e,1),e.m(s.parentNode,s)):e.p(r,n)},i(r){l||(E(e),l=!0)},o(r){P(e),l=!1},d(r){r&&h(s),e.d(r)}}}function ul(a,t,s){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,n;Oe.subscribe(o=>{o&&(s(3,n=o),s(0,e=e.sort((c,u)=>{const d=o.get(c.url),f=o.get(u.url);return d&&f?f.lastAccessDateUnix-d.lastAccessDateUnix:d?-1:f?1:c.artist!=u.artist?c.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:c.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const i=(o,c,u)=>u[o.type]===!1?!1:c.length===0||o.artist.toLowerCase().match(c.toLowerCase())?!0:o.title.toLowerCase().match(c.toLowerCase());return a.$$set=o=>{"searchString"in o&&s(1,l=o.searchString),"chords"in o&&s(0,e=o.chords),"filters"in o&&s(2,r=o.filters)},[e,l,r,n,i]}class hl extends Le{constructor(t){super(),Te(this,t,ul,fl,se,{searchString:1,chords:0,filters:2})}}const _l=(a,t)=>a<t?-1:a>t?1:0,Ge=(a,t)=>{const s=a.toLowerCase(),l=t.toLowerCase();return _l(s,l)},{Boolean:Rt}=Vt;function st(a,t,s){const l=a.slice();l[14]=t[s];const e=l[8](l[14].name,l[0],l[1]);l[15]=e;const r=l[9](l[14].name,l[0]);return l[16]=r,l}function rt(a,t,s){const l=a.slice();return l[20]=t[s],l}function Fe(a){const t=a.slice(),s=t[16]?t[5][t[14].name]:t[15];return t[19]=s,t}function ot(a,t,s){const l=a.slice();return l[23]=t[s],l}function at(a){let t,s,l=a[23].letter.toUpperCase()+"",e,r;return{c(){t=v("li"),s=v("a"),e=H(l),r=A(),this.h()},l(n){t=w(n,"LI",{class:!0});var i=B(t);s=w(i,"A",{href:!0,class:!0});var o=B(s);e=M(o,l),o.forEach(h),r=y(i),i.forEach(h),this.h()},h(){L(s,"href","#"+a[23].tag),L(s,"class","navigationLink svelte-1deg5s8"),L(t,"class","navigationBtn svelte-1deg5s8")},m(n,i){T(n,t,i),m(t,s),m(s,e),m(t,r)},p:le,d(n){n&&h(t)}}}function it(a){let t,s,l=a[14].name+"",e,r,n=a[0],i,o,c=ft(a);return{c(){t=v("tr"),s=v("td"),e=H(l),r=A(),c.c(),i=A(),this.h()},l(u){t=w(u,"TR",{class:!0});var d=B(t);s=w(d,"TD",{id:!0,class:!0});var f=B(s);e=M(f,l),r=y(f),c.l(f),f.forEach(h),i=y(d),d.forEach(h),this.h()},h(){L(s,"id",a[14].tag),L(s,"class","svelte-1deg5s8"),L(t,"class","svelte-1deg5s8")},m(u,d){T(u,t,d),m(t,s),m(s,e),m(s,r),c.m(s,null),m(t,i),o=!0},p(u,d){d&1&&se(n,n=u[0])?(Z(),P(c,1,1,le),x(),c=ft(u),c.c(),E(c,1),c.m(s,null)):c.p(u,d)},i(u){o||(E(c),o=!0)},o(u){P(c),o=!1},d(u){u&&h(t),c.d(u)}}}function ct(a){let t,s,l,e;return s=new Ie({props:{chord:a[20]}}),{c(){t=v("li"),fe(s.$$.fragment),l=A(),this.h()},l(r){t=w(r,"LI",{class:!0});var n=B(t);ge(s.$$.fragment,n),l=y(n),n.forEach(h),this.h()},h(){L(t,"class","ul2col-item")},m(r,n){T(r,t,n),ue(s,t,null),m(t,l),e=!0},p(r,n){const i={};n&3&&(i.chord=r[20]),s.$set(i)},i(r){e||(E(s.$$.fragment,r),e=!0)},o(r){P(s.$$.fragment,r),e=!1},d(r){r&&h(t),he(s)}}}function ft(a){let t,s,l=z(a[19]),e=[];for(let n=0;n<l.length;n+=1)e[n]=ct(rt(a,l,n));const r=n=>P(e[n],1,1,()=>{e[n]=null});return{c(){t=v("ul");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=w(n,"UL",{class:!0});var i=B(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(h),this.h()},h(){L(t,"class","ul2col-container")},m(n,i){T(n,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);s=!0},p(n,i){if(i&931){l=z(n[19]);let o;for(o=0;o<l.length;o+=1){const c=rt(n,l,o);e[o]?(e[o].p(c,i),E(e[o],1)):(e[o]=ct(c),e[o].c(),E(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)E(e[i]);s=!0}},o(n){e=e.filter(Rt);for(let i=0;i<e.length;i+=1)P(e[i]);s=!1},d(n){n&&h(t),pe(e,n)}}}function ut(a){let t,s,l=(a[16]||a[15].length>0)&&it(Fe(a));return{c(){l&&l.c(),t=J()},l(e){l&&l.l(e),t=J()},m(e,r){l&&l.m(e,r),T(e,t,r),s=!0},p(e,r){e[16]||e[15].length>0?l?(l.p(Fe(e),r),r&3&&E(l,1)):(l=it(Fe(e)),l.c(),E(l,1),l.m(t.parentNode,t)):l&&(Z(),P(l,1,1,()=>{l=null}),x())},i(e){s||(E(l),s=!0)},o(e){P(l),s=!1},d(e){e&&h(t),l&&l.d(e)}}}function dl(a){let t=!1,s=()=>{t=!1},l,e,r=`${a[3]}px`,n,i,o,c,u;Ht(a[11]);let d=z(a[6]),f=[];for(let p=0;p<d.length;p+=1)f[p]=at(ot(a,d,p));let C=z(a[7]),_=[];for(let p=0;p<C.length;p+=1)_[p]=ut(st(a,C,p));const D=p=>P(_[p],1,1,()=>{_[p]=null});return{c(){e=v("ol");for(let p=0;p<f.length;p+=1)f[p].c();n=A(),i=v("table");for(let p=0;p<_.length;p+=1)_[p].c();this.h()},l(p){e=w(p,"OL",{id:!0,class:!0});var g=B(e);for(let U=0;U<f.length;U+=1)f[U].l(g);g.forEach(h),n=y(p),i=w(p,"TABLE",{id:!0});var b=B(i);for(let U=0;U<_.length;U+=1)_[U].l(b);b.forEach(h),this.h()},h(){L(e,"id","indexList"),L(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),Ve(e,"--barTop",r),L(i,"id","artistTable")},m(p,g){T(p,e,g);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(e,null);T(p,n,g),T(p,i,g);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(i,null);a[12](i),o=!0,c||(u=te(window,"scroll",()=>{t=!0,clearTimeout(l),l=setTimeout(s,100),a[11]()}),c=!0)},p(p,[g]){if(g&4&&!t&&(t=!0,clearTimeout(l),scrollTo(window.pageXOffset,p[2]),l=setTimeout(s,100)),g&64){d=z(p[6]);let b;for(b=0;b<d.length;b+=1){const U=ot(p,d,b);f[b]?f[b].p(U,g):(f[b]=at(U),f[b].c(),f[b].m(e,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=d.length}if(g&8&&r!==(r=`${p[3]}px`)&&Ve(e,"--barTop",r),g&931){C=z(p[7]);let b;for(b=0;b<C.length;b+=1){const U=st(p,C,b);_[b]?(_[b].p(U,g),E(_[b],1)):(_[b]=ut(U),_[b].c(),E(_[b],1),_[b].m(i,null))}for(Z(),b=C.length;b<_.length;b+=1)D(b);x()}},i(p){if(!o){for(let g=0;g<C.length;g+=1)E(_[g]);o=!0}},o(p){_=_.filter(Rt);for(let g=0;g<_.length;g+=1)P(_[g]);o=!1},d(p){p&&(h(e),h(n),h(i)),pe(f,p),pe(_,p),a[12](null),c=!1,u()}}}function ml(a,t,s){let{searchString:l=""}=t,{chords:e}=t,{filters:r}=t;const n=e.reduce((g,b)=>{const U=b.artist;return g[U]||(g[U]=[]),g[U].push(b),g},{}),i=[],o=Object.keys(n).sort(Ge).map((g,b,U)=>{if(b===0||g[0].toLowerCase()!=U[b-1][0].toLowerCase()){const S="anchor_letter_"+g[0];return i.push({letter:g[0],tag:S}),{name:g,tag:S}}return{name:g}});let c,u=0,d;const f=g=>{if(d){var b=d.getBoundingClientRect();if(b.top<20){s(3,u=20);return}s(3,u=b.top)}},C=(g,b,U)=>n[g].sort((N,I)=>N.title<I.title?-1:1).filter(N=>{const I=N.type;return U[I]===!1?!1:b.length===0?!0:!!N.title.toLowerCase().match(b.toLowerCase())}),_=(g,b)=>!!g.toLowerCase().match(b.toLowerCase());function D(){s(2,c=window.pageYOffset)}function p(g){Kt[g?"unshift":"push"](()=>{d=g,s(4,d)})}return a.$$set=g=>{"searchString"in g&&s(0,l=g.searchString),"chords"in g&&s(10,e=g.chords),"filters"in g&&s(1,r=g.filters)},a.$$.update=()=>{a.$$.dirty&4&&f()},[l,r,c,u,d,n,i,o,C,_,e,D,p]}class gl extends Le{constructor(t){super(),Te(this,t,ml,dl,se,{searchString:0,chords:10,filters:1})}}function ht(a,t,s){const l=a.slice();return l[5]=t[s],l}function _t(a,t,s){const l=a.slice();return l[8]=t[s],l}function dt(a){let t,s,l=a[3](a[5])+"",e,r,n,i,o,c=z(a[2][a[5]]),u=[];for(let f=0;f<c.length;f+=1)u[f]=gt(_t(a,c,f));const d=f=>P(u[f],1,1,()=>{u[f]=null});return{c(){t=v("div"),s=v("span"),e=H(l),r=A(),n=v("ul");for(let f=0;f<u.length;f+=1)u[f].c();i=A(),this.h()},l(f){t=w(f,"DIV",{});var C=B(t);s=w(C,"SPAN",{});var _=B(s);e=M(_,l),_.forEach(h),r=y(C),n=w(C,"UL",{class:!0});var D=B(n);for(let p=0;p<u.length;p+=1)u[p].l(D);D.forEach(h),i=y(C),C.forEach(h),this.h()},h(){L(n,"class","ul2col-container")},m(f,C){T(f,t,C),m(t,s),m(s,e),m(t,r),m(t,n);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(n,null);m(t,i),o=!0},p(f,C){if((!o||C&4)&&l!==(l=f[3](f[5])+"")&&Re(e,l),C&6){c=z(f[2][f[5]]);let _;for(_=0;_<c.length;_+=1){const D=_t(f,c,_);u[_]?(u[_].p(D,C),E(u[_],1)):(u[_]=gt(D),u[_].c(),E(u[_],1),u[_].m(n,null))}for(Z(),_=c.length;_<u.length;_+=1)d(_);x()}},i(f){if(!o){for(let C=0;C<c.length;C+=1)E(u[C]);o=!0}},o(f){u=u.filter(Boolean);for(let C=0;C<u.length;C+=1)P(u[C]);o=!1},d(f){f&&h(t),pe(u,f)}}}function mt(a){let t,s,l,e;return s=new Ie({props:{chord:a[8],showArtist:!0}}),{c(){t=v("li"),fe(s.$$.fragment),l=A(),this.h()},l(r){t=w(r,"LI",{class:!0});var n=B(t);ge(s.$$.fragment,n),l=y(n),n.forEach(h),this.h()},h(){L(t,"class","ul2col-item")},m(r,n){T(r,t,n),ue(s,t,null),m(t,l),e=!0},p(r,n){const i={};n&4&&(i.chord=r[8]),s.$set(i)},i(r){e||(E(s.$$.fragment,r),e=!0)},o(r){P(s.$$.fragment,r),e=!1},d(r){r&&h(t),he(s)}}}function gt(a){let t,s,l=a[1][a[8].type]&&mt(a);return{c(){l&&l.c(),t=J()},l(e){l&&l.l(e),t=J()},m(e,r){l&&l.m(e,r),T(e,t,r),s=!0},p(e,r){e[1][e[8].type]?l?(l.p(e,r),r&6&&E(l,1)):(l=mt(e),l.c(),E(l,1),l.m(t.parentNode,t)):l&&(Z(),P(l,1,1,()=>{l=null}),x())},i(e){s||(E(l),s=!0)},o(e){P(l),s=!1},d(e){e&&h(t),l&&l.d(e)}}}function pt(a){let t=a[0].length===0||a[5].toLowerCase().match(a[0].toLowerCase()),s,l,e=t&&dt(a);return{c(){e&&e.c(),s=J()},l(r){e&&e.l(r),s=J()},m(r,n){e&&e.m(r,n),T(r,s,n),l=!0},p(r,n){n&5&&(t=r[0].length===0||r[5].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,n),n&5&&E(e,1)):(e=dt(r),e.c(),E(e,1),e.m(s.parentNode,s)):e&&(Z(),P(e,1,1,()=>{e=null}),x())},i(r){l||(E(e),l=!0)},o(r){P(e),l=!1},d(r){r&&h(s),e&&e.d(r)}}}function pl(a){let t,s,l=z(Object.keys(a[2]).sort(Ge)),e=[];for(let n=0;n<l.length;n+=1)e[n]=pt(ht(a,l,n));const r=n=>P(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=J()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=J()},m(n,i){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(n,i);T(n,t,i),s=!0},p(n,[i]){if(i&15){l=z(Object.keys(n[2]).sort(Ge));let o;for(o=0;o<l.length;o+=1){const c=ht(n,l,o);e[o]?(e[o].p(c,i),E(e[o],1)):(e[o]=pt(c),e[o].c(),E(e[o],1),e[o].m(t.parentNode,t))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)E(e[i]);s=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)P(e[i]);s=!1},d(n){n&&h(t),pe(e,n)}}}function kl(a,t,s){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const n=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),i={};for(const o of e)o.tags.forEach(u=>{i[u]||s(2,i[u]=[],i),i[u].push(o)});return Object.keys(i).forEach(o=>{i[o].sort((c,u)=>{const d=c.artist.toLowerCase(),f=u.artist.toLowerCase(),C=c.title.toLowerCase(),_=u.title.toLowerCase();return d<f?-1:d>f?1:C<_?-1:1})}),a.$$set=o=>{"searchString"in o&&s(0,l=o.searchString),"chords"in o&&s(4,e=o.chords),"filters"in o&&s(1,r=o.filters)},[l,r,i,n,e]}class bl extends Le{constructor(t){super(),Te(this,t,kl,pl,se,{searchString:0,chords:4,filters:1})}}function kt(a,t,s){const l=a.slice();l[5]=t[s];const e=l[3].get(l[5].url);return l[6]=e,l}function bt(a){let t,s,l,e,r,n=a[6]&&vt(a);return l=new Ie({props:{chord:a[5],showArtist:!0}}),{c(){t=v("li"),n&&n.c(),s=A(),fe(l.$$.fragment),e=A(),this.h()},l(i){t=w(i,"LI",{class:!0});var o=B(t);n&&n.l(o),s=y(o),ge(l.$$.fragment,o),e=y(o),o.forEach(h),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),n&&n.m(t,null),m(t,s),ue(l,t,null),m(t,e),r=!0},p(i,o){i[6]?n?n.p(i,o):(n=vt(i),n.c(),n.m(t,s)):n&&(n.d(1),n=null);const c={};o&1&&(c.chord=i[5]),l.$set(c)},i(i){r||(E(l.$$.fragment,i),r=!0)},o(i){P(l.$$.fragment,i),r=!1},d(i){i&&h(t),n&&n.d(),he(l)}}}function vt(a){let t,s=a[6].count+"",l,e;return{c(){t=H("("),l=H(s),e=H(")")},l(r){t=M(r,"("),l=M(r,s),e=M(r,")")},m(r,n){T(r,t,n),T(r,l,n),T(r,e,n)},p(r,n){n&9&&s!==(s=r[6].count+"")&&Re(l,s)},d(r){r&&(h(t),h(l),h(e))}}}function wt(a){let t=a[4](a[5],a[1],a[2]),s,l,e=t&&bt(a);return{c(){e&&e.c(),s=J()},l(r){e&&e.l(r),s=J()},m(r,n){e&&e.m(r,n),T(r,s,n),l=!0},p(r,n){n&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,n),n&7&&E(e,1)):(e=bt(r),e.c(),E(e,1),e.m(s.parentNode,s)):e&&(Z(),P(e,1,1,()=>{e=null}),x())},i(r){l||(E(e),l=!0)},o(r){P(e),l=!1},d(r){r&&h(s),e&&e.d(r)}}}function Ct(a){let t,s,l=z(a[0]),e=[];for(let n=0;n<l.length;n+=1)e[n]=wt(kt(a,l,n));const r=n=>P(e[n],1,1,()=>{e[n]=null});return{c(){t=v("ul");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=w(n,"UL",{class:!0});var i=B(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(h),this.h()},h(){L(t,"class","ul2col-container")},m(n,i){T(n,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);s=!0},p(n,i){if(i&31){l=z(n[0]);let o;for(o=0;o<l.length;o+=1){const c=kt(n,l,o);e[o]?(e[o].p(c,i),E(e[o],1)):(e[o]=wt(c),e[o].c(),E(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(n){if(!s){for(let i=0;i<l.length;i+=1)E(e[i]);s=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)P(e[i]);s=!1},d(n){n&&h(t),pe(e,n)}}}function vl(a){let t=a[0],s,l,e=Ct(a);return{c(){e.c(),s=J()},l(r){e.l(r),s=J()},m(r,n){e.m(r,n),T(r,s,n),l=!0},p(r,[n]){n&1&&se(t,t=r[0])?(Z(),P(e,1,1,le),x(),e=Ct(r),e.c(),E(e,1),e.m(s.parentNode,s)):e.p(r,n)},i(r){l||(E(e),l=!0)},o(r){P(e),l=!1},d(r){r&&h(s),e.d(r)}}}function wl(a,t,s){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,n;Oe.subscribe(o=>{o&&(s(3,n=o),s(0,e=e.sort((c,u)=>{const d=o.get(c.url),f=o.get(u.url);return d&&f?d.count!==f.count?f.count-d.count:f.lastAccessDateUnix-d.lastAccessDateUnix:d?-1:f?1:c.artist!=u.artist?c.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:c.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const i=(o,c,u)=>u[o.type]===!1?!1:c.length===0||o.artist.toLowerCase().match(c.toLowerCase())?!0:o.title.toLowerCase().match(c.toLowerCase());return a.$$set=o=>{"searchString"in o&&s(1,l=o.searchString),"chords"in o&&s(0,e=o.chords),"filters"in o&&s(2,r=o.filters)},[e,l,r,n,i]}class Cl extends Le{constructor(t){super(),Te(this,t,wl,vl,se,{searchString:1,chords:0,filters:2})}}function Lt(a){const t=a[1](a[3]);a[4]=t;const s=a[2](a[3]);a[5]=s}function Tt(a,t,s){const l=a.slice();return l[6]=t[s],l}function St(a){let t,s,l,e,r,n="Close",i,o,c,u={ctx:a,current:null,token:null,hasCatch:!0,pending:Sl,then:Tl,catch:Ll,value:3,error:9};return el(qt(),u),{c(){t=v("div"),s=v("div"),l=v("h3"),e=H(`Urls checks
                `),r=v("button"),r.textContent=n,i=A(),u.block.c(),this.h()},l(d){t=w(d,"DIV",{role:!0,class:!0});var f=B(t);s=w(f,"DIV",{class:!0});var C=B(s);l=w(C,"H3",{class:!0});var _=B(l);e=M(_,`Urls checks
                `),r=w(_,"BUTTON",{"data-svelte-h":!0}),Y(r)!=="svelte-2m9p61"&&(r.textContent=n),_.forEach(h),i=y(C),u.block.l(C),C.forEach(h),f.forEach(h),this.h()},h(){L(l,"class","title-bar svelte-1b7k28l"),L(s,"class","contents svelte-1b7k28l"),L(t,"role","dialog"),L(t,"class","modal svelte-1b7k28l")},m(d,f){T(d,t,f),m(t,s),m(s,l),m(l,e),m(l,r),m(s,i),u.block.m(s,u.anchor=null),u.mount=()=>s,u.anchor=null,o||(c=te(r,"click",Jt),o=!0)},p(d,f){a=d,tl(u,a,f)},d(d){d&&h(t),u.block.d(),u.token=null,u=null,o=!1,c()}}}function Ll(a){let t,s,l=a[9].message+"",e;return{c(){t=v("p"),s=H("Could not retrieve checks: "),e=H(l),this.h()},l(r){t=w(r,"P",{style:!0});var n=B(t);s=M(n,"Could not retrieve checks: "),e=M(n,l),n.forEach(h),this.h()},h(){Ve(t,"color","red")},m(r,n){T(r,t,n),m(t,s),m(t,e)},p:le,d(r){r&&h(t)}}}function Tl(a){Lt(a);let t,s,l="Last Check",e,r,n="Checks",i,o,c="Skipped",u,d,f="Errors",C,_,D=a[4]+"",p,g,b,U=a[3].nbChecks+"",S,N,I,ee=a[3].nbSkipped+"",j,W,Se,$e=a[3].nbFails+"",re,Ae,oe,Be,K,Q,Ee="Status",De,_e,Pe="Ref",ke,be,Ue="Host",de,ae,q="Data",ve,me=z(a[5]),G=[];for(let R=0;R<me.length;R+=1)G[R]=Et(Tt(a,me,R));return{c(){t=v("div"),s=v("span"),s.textContent=l,e=A(),r=v("span"),r.textContent=n,i=A(),o=v("span"),o.textContent=c,u=A(),d=v("span"),d.textContent=f,C=A(),_=v("span"),p=H(D),g=A(),b=v("span"),S=H(U),N=A(),I=v("span"),j=H(ee),W=A(),Se=v("span"),re=H($e),Ae=A(),oe=v("br"),Be=A(),K=v("div"),Q=v("span"),Q.textContent=Ee,De=A(),_e=v("span"),_e.textContent=Pe,ke=A(),be=v("span"),be.textContent=Ue,de=A(),ae=v("span"),ae.textContent=q,ve=A();for(let R=0;R<G.length;R+=1)G[R].c();this.h()},l(R){t=w(R,"DIV",{class:!0});var V=B(t);s=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(s)!=="svelte-1lbvzb0"&&(s.textContent=l),e=y(V),r=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1wmxeaf"&&(r.textContent=n),i=y(V),o=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-txun94"&&(o.textContent=c),u=y(V),d=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(d)!=="svelte-5mrj6x"&&(d.textContent=f),C=y(V),_=w(V,"SPAN",{class:!0});var O=B(_);p=M(O,D),O.forEach(h),g=y(V),b=w(V,"SPAN",{class:!0});var ie=B(b);S=M(ie,U),ie.forEach(h),N=y(V),I=w(V,"SPAN",{class:!0});var X=B(I);j=M(X,ee),X.forEach(h),W=y(V),Se=w(V,"SPAN",{class:!0});var we=B(Se);re=M(we,$e),we.forEach(h),V.forEach(h),Ae=y(R),oe=w(R,"BR",{}),Be=y(R),K=w(R,"DIV",{class:!0});var ne=B(K);Q=w(ne,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Q)!=="svelte-1s7ffxq"&&(Q.textContent=Ee),De=y(ne),_e=w(ne,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_e)!=="svelte-1wa8gqx"&&(_e.textContent=Pe),ke=y(ne),be=w(ne,"SPAN",{class:!0,"data-svelte-h":!0}),Y(be)!=="svelte-33rgke"&&(be.textContent=Ue),de=y(ne),ae=w(ne,"SPAN",{class:!0,"data-svelte-h":!0}),Y(ae)!=="svelte-1yzk30k"&&(ae.textContent=q),ve=y(ne);for(let k=0;k<G.length;k+=1)G[k].l(ne);ne.forEach(h),this.h()},h(){L(s,"class","col table-head svelte-1b7k28l"),L(r,"class","col table-head svelte-1b7k28l"),L(o,"class","col table-head svelte-1b7k28l"),L(d,"class","col table-head svelte-1b7k28l"),L(_,"class","col svelte-1b7k28l"),L(b,"class","col svelte-1b7k28l"),L(I,"class","col svelte-1b7k28l"),L(Se,"class","col svelte-1b7k28l"),L(t,"class","rows svelte-1b7k28l"),L(Q,"class","col table-head svelte-1b7k28l"),L(_e,"class","col table-head svelte-1b7k28l"),L(be,"class","col table-head svelte-1b7k28l"),L(ae,"class","col table-head svelte-1b7k28l"),L(K,"class","rows svelte-1b7k28l")},m(R,V){T(R,t,V),m(t,s),m(t,e),m(t,r),m(t,i),m(t,o),m(t,u),m(t,d),m(t,C),m(t,_),m(_,p),m(t,g),m(t,b),m(b,S),m(t,N),m(t,I),m(I,j),m(t,W),m(t,Se),m(Se,re),T(R,Ae,V),T(R,oe,V),T(R,Be,V),T(R,K,V),m(K,Q),m(K,De),m(K,_e),m(K,ke),m(K,be),m(K,de),m(K,ae),m(K,ve);for(let O=0;O<G.length;O+=1)G[O]&&G[O].m(K,null)},p(R,V){if(Lt(R),V&4){me=z(R[5]);let O;for(O=0;O<me.length;O+=1){const ie=Tt(R,me,O);G[O]?G[O].p(ie,V):(G[O]=Et(ie),G[O].c(),G[O].m(K,null))}for(;O<G.length;O+=1)G[O].d(1);G.length=me.length}},d(R){R&&(h(t),h(Ae),h(oe),h(Be),h(K)),pe(G,R)}}}function Et(a){let t,s=a[6].status+"",l,e,r,n=a[6].chord.artist+"",i,o,c=a[6].chord.title+"",u,d,f,C,_=new URL(a[6].chord.url).hostname+"",D,p,g,b=(a[6].error?JSON.stringify(a[6].error):"")+"",U;return{c(){t=v("span"),l=H(s),e=A(),r=v("span"),i=H(n),o=H(" - "),u=H(c),d=A(),f=v("span"),C=v("a"),D=H(_),p=A(),g=v("span"),U=H(b),this.h()},l(S){t=w(S,"SPAN",{class:!0});var N=B(t);l=M(N,s),N.forEach(h),e=y(S),r=w(S,"SPAN",{class:!0});var I=B(r);i=M(I,n),o=M(I," - "),u=M(I,c),I.forEach(h),d=y(S),f=w(S,"SPAN",{class:!0});var ee=B(f);C=w(ee,"A",{href:!0,target:!0,rel:!0});var j=B(C);D=M(j,_),j.forEach(h),ee.forEach(h),p=y(S),g=w(S,"SPAN",{class:!0});var W=B(g);U=M(W,b),W.forEach(h),this.h()},h(){L(t,"class","col svelte-1b7k28l"),L(r,"class","col svelte-1b7k28l"),L(C,"href",a[6].chord.url),L(C,"target","_blank"),L(C,"rel","noopener noreferrer"),L(f,"class","col svelte-1b7k28l"),L(g,"class","col svelte-1b7k28l")},m(S,N){T(S,t,N),m(t,l),T(S,e,N),T(S,r,N),m(r,i),m(r,o),m(r,u),T(S,d,N),T(S,f,N),m(f,C),m(C,D),T(S,p,N),T(S,g,N),m(g,U)},p:le,d(S){S&&(h(t),h(e),h(r),h(d),h(f),h(p),h(g))}}}function Sl(a){let t,s="Fetching results...";return{c(){t=v("p"),t.textContent=s},l(l){t=w(l,"P",{"data-svelte-h":!0}),Y(t)!=="svelte-gjakbw"&&(t.textContent=s)},m(l,e){T(l,t,e)},p:le,d(l){l&&h(t)}}}function El(a){let t,s=a[0]&&St(a);return{c(){s&&s.c(),t=J()},l(l){s&&s.l(l),t=J()},m(l,e){s&&s.m(l,e),T(l,t,e)},p(l,[e]){l[0]?s?s.p(l,e):(s=St(l),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:le,o:le,d(l){l&&h(t),s&&s.d(l)}}}function Al(a,t,s){let{isOpen:l}=t;const e=n=>{const i=new Date(n.timestamp);return i.toDateString()+" "+i.toTimeString()},r=n=>n.fails.sort((i,o)=>i.chord.url<o.chord.url?-1:1);return a.$$set=n=>{"isOpen"in n&&s(0,l=n.isOpen)},[l,e,r]}class yl extends Le{constructor(t){super(),Te(this,t,Al,El,se,{isOpen:0})}}function At(a,t,s){const l=a.slice();return l[10]=t[s],l}function yt(a){let t,s=a[10].dateTag+"",l;return{c(){t=v("li"),l=H(s),this.h()},l(e){t=w(e,"LI",{class:!0});var r=B(t);l=M(r,s),r.forEach(h),this.h()},h(){L(t,"class","ul2col-separator")},m(e,r){T(e,t,r),m(t,l)},p(e,r){r&1&&s!==(s=e[10].dateTag+"")&&Re(l,s)},d(e){e&&h(t)}}}function Bt(a){let t,s,l,e,r,n=a[10].dateTag&&yt(a);return l=new Ie({props:{chord:a[10]}}),{c(){n&&n.c(),t=A(),s=v("li"),fe(l.$$.fragment),e=A(),this.h()},l(i){n&&n.l(i),t=y(i),s=w(i,"LI",{class:!0});var o=B(s);ge(l.$$.fragment,o),e=y(o),o.forEach(h),this.h()},h(){L(s,"class","ul2col-item")},m(i,o){n&&n.m(i,o),T(i,t,o),T(i,s,o),ue(l,s,null),m(s,e),r=!0},p(i,o){i[10].dateTag?n?n.p(i,o):(n=yt(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null);const c={};o&1&&(c.chord=i[10]),l.$set(c)},i(i){r||(E(l.$$.fragment,i),r=!0)},o(i){P(l.$$.fragment,i),r=!1},d(i){i&&(h(t),h(s)),n&&n.d(i),he(l)}}}function Bl(a){let t,s,l,e,r="More...",n,i,o,c,u,d=z(a[0]),f=[];for(let _=0;_<d.length;_+=1)f[_]=Bt(At(a,d,_));const C=_=>P(f[_],1,1,()=>{f[_]=null});return{c(){t=v("div"),s=v("h3"),l=H(`Latest additions
        `),e=v("button"),e.textContent=r,n=A(),i=v("ul");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){t=w(_,"DIV",{});var D=B(t);s=w(D,"H3",{});var p=B(s);l=M(p,`Latest additions
        `),e=w(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-l2h3rt"&&(e.textContent=r),p.forEach(h),n=y(D),i=w(D,"UL",{class:!0});var g=B(i);for(let b=0;b<f.length;b+=1)f[b].l(g);g.forEach(h),D.forEach(h),this.h()},h(){L(e,"class","pull-right"),L(i,"class","ul2col-container")},m(_,D){T(_,t,D),m(t,s),m(s,l),m(s,e),m(t,n),m(t,i);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(i,null);o=!0,c||(u=te(e,"click",a[3]),c=!0)},p(_,[D]){if(D&1){d=z(_[0]);let p;for(p=0;p<d.length;p+=1){const g=At(_,d,p);f[p]?(f[p].p(g,D),E(f[p],1)):(f[p]=Bt(g),f[p].c(),E(f[p],1),f[p].m(i,null))}for(Z(),p=d.length;p<f.length;p+=1)C(p);x()}},i(_){if(!o){for(let D=0;D<d.length;D+=1)E(f[D]);o=!0}},o(_){f=f.filter(Boolean);for(let D=0;D<f.length;D+=1)P(f[D]);o=!1},d(_){_&&h(t),pe(f,_),c=!1,u()}}}function Nl(a,t,s){let{chords:l}=t;const e=Date.now(),r=1e3*3600*24*7,n=r*4,i=[{label:"last week",time:e-r},{label:"one month ago",time:e-n},{label:"two monthes ago",time:e-2*n},{label:"six monthes ago",time:e-6*n},{label:"one year ago",time:e-12*n}],o=l.filter(C=>C.creationDate).sort((C,_)=>_.creationDate-C.creationDate).map((C,_,D)=>{const p={...C};if(_>0){const g=D[_-1];for(const{time:b,label:U}of i)g.creationDate>b&&C.creationDate<b&&(p.dateTag=U)}return p});let c=6,u=[];const d=()=>{c+=4,s(0,u=o.slice(0,c))};Xe(()=>{d()});const f=()=>d();return a.$$set=C=>{"chords"in C&&s(2,l=C.chords)},[u,d,l,f]}class $l extends Le{constructor(t){super(),Te(this,t,Nl,Bl,se,{chords:2})}}function Nt(a,t,s){const l=a.slice();return l[5]=t[s],l}function $t(a){let t,s=" ↶ ",l,e;return{c(){t=v("button"),t.textContent=s},l(r){t=w(r,"BUTTON",{"data-svelte-h":!0}),Y(t)!=="svelte-1mg1zky"&&(t.textContent=s)},m(r,n){T(r,t,n),l||(e=te(t,"click",a[3]),l=!0)},p:le,d(r){r&&h(t),l=!1,e()}}}function Dt(a,t){let s,l,e,r;return l=new Ie({props:{chord:t[5],showArtist:!0}}),{key:a,first:null,c(){s=v("li"),fe(l.$$.fragment),e=A(),this.h()},l(n){s=w(n,"LI",{class:!0});var i=B(s);ge(l.$$.fragment,i),e=y(i),i.forEach(h),this.h()},h(){L(s,"class","ul2col-item"),this.first=s},m(n,i){T(n,s,i),ue(l,s,null),m(s,e),r=!0},p(n,i){t=n;const o={};i&2&&(o.chord=t[5]),l.$set(o)},i(n){r||(E(l.$$.fragment,n),r=!0)},o(n){P(l.$$.fragment,n),r=!1},d(n){n&&h(s),he(l)}}}function Dl(a){let t,s,l,e,r,n,i="Get more random songs",o,c,u,d,f=[],C=new Map,_,D,p,g=a[0].length>ye&&$t(a),b=z(a[1]);const U=S=>S[5].url;for(let S=0;S<b.length;S+=1){let N=Nt(a,b,S),I=U(N);C.set(I,f[S]=Dt(I,N))}return{c(){t=v("div"),s=v("h3"),l=H(`Random song
        `),e=v("span"),g&&g.c(),r=A(),n=v("button"),n.textContent=i,o=A(),c=v("br"),u=A(),d=v("ul");for(let S=0;S<f.length;S+=1)f[S].c();this.h()},l(S){t=w(S,"DIV",{});var N=B(t);s=w(N,"H3",{});var I=B(s);l=M(I,`Random song
        `),e=w(I,"SPAN",{class:!0});var ee=B(e);g&&g.l(ee),r=y(ee),n=w(ee,"BUTTON",{"data-svelte-h":!0}),Y(n)!=="svelte-1gfm3kd"&&(n.textContent=i),ee.forEach(h),I.forEach(h),o=y(N),c=w(N,"BR",{}),u=y(N),d=w(N,"UL",{class:!0});var j=B(d);for(let W=0;W<f.length;W+=1)f[W].l(j);j.forEach(h),N.forEach(h),this.h()},h(){L(e,"class","pull-right"),L(d,"class","ul2col-container")},m(S,N){T(S,t,N),m(t,s),m(s,l),m(s,e),g&&g.m(e,null),m(e,r),m(e,n),m(t,o),m(t,c),m(t,u),m(t,d);for(let I=0;I<f.length;I+=1)f[I]&&f[I].m(d,null);_=!0,D||(p=te(n,"click",a[2]),D=!0)},p(S,[N]){S[0].length>ye?g?g.p(S,N):(g=$t(S),g.c(),g.m(e,r)):g&&(g.d(1),g=null),N&2&&(b=z(S[1]),Z(),f=Xt(f,N,U,1,S,b,C,d,Yt,Dt,null,Nt),x())},i(S){if(!_){for(let N=0;N<b.length;N+=1)E(f[N]);_=!0}},o(S){for(let N=0;N<f.length;N+=1)P(f[N]);_=!1},d(S){S&&h(t),g&&g.d();for(let N=0;N<f.length;N+=1)f[N].d();D=!1,p()}}}const ye=6;function Pl(a,t,s){let{chords:l}=t,e=[],r=[];const n=()=>{e.length>=l.length-ye&&s(0,e=[]);for(let o=0;o<ye;o++){let c=-1;for(;c===-1||e.includes(c);)c=Math.floor(Math.random()*l.length);e.push(c)}s(1,r=e.slice(e.length-ye).map(o=>l[o]))},i=()=>{e.length<=ye||(e.splice(e.length-ye),s(1,r=e.slice(e.length-ye).map(o=>l[o])))};return Xe(()=>{n()}),a.$$set=o=>{"chords"in o&&s(4,l=o.chords)},[e,r,n,i,l]}class Ul extends Le{constructor(t){super(),Te(this,t,Pl,Dl,se,{chords:4})}}function Pt(a,t,s){const l=a.slice();return l[14]=t[s],l}function Ut(a,t,s){const l=a.slice();return l[17]=t[s],l[18]=t,l[19]=s,l}function Ot(a){let t,s,l,e,r,n,i;function o(){a[11].call(s,a[17])}function c(){return a[12](a[17])}return{c(){t=v("button"),s=v("input"),l=A(),e=v("span"),r=A(),this.h()},l(u){t=w(u,"BUTTON",{class:!0});var d=B(t);s=w(d,"INPUT",{id:!0,type:!0}),l=y(d),e=w(d,"SPAN",{class:!0}),B(e).forEach(h),r=y(d),d.forEach(h),this.h()},h(){L(s,"id",a[17]),L(s,"type","checkbox"),L(e,"class",je(ze(a[17]))+" svelte-kiyfxh"),L(t,"class","filter-control svelte-kiyfxh")},m(u,d){T(u,t,d),m(t,s),s.checked=a[2][a[17]],m(t,l),m(t,e),m(t,r),n||(i=[te(s,"change",o),te(t,"click",c)],n=!0)},p(u,d){a=u,d&36&&(s.checked=a[2][a[17]])},d(u){u&&h(t),n=!1,Ke(i)}}}function It(a){let t,s=a[14].label+"",l,e,r,n;function i(){return a[13](a[14])}return{c(){t=v("button"),l=H(s),e=A(),this.h()},l(o){t=w(o,"BUTTON",{class:!0});var c=B(t);l=M(c,s),e=y(c),c.forEach(h),this.h()},h(){L(t,"class","control svelte-kiyfxh"),Me(t,"selected",a[1]===a[14])},m(o,c){T(o,t,c),m(t,l),m(t,e),r||(n=te(t,"click",i),r=!0)},p(o,c){a=o,c&18&&Me(t,"selected",a[1]===a[14])},d(o){o&&h(t),r=!1,n()}}}function Ol(a){let t,s,l,e,r,n,i="Check dead links",o,c,u="Edit",d,f,C,_,D,p=a[3].length+"",g,b,U,S,N,I,ee,j,W,Se="All songs",$e,re,Ae,oe,Be='<i class="fas fa-times-circle"></i>',K,Q,Ee,De="Filters",_e,Pe,ke,be="View",Ue,de,ae,q,ve,me,G,R;t=new Qt({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}}),f=new al({}),S=new $l({props:{chords:a[3]}}),I=new Ul({props:{chords:a[3]}});let V=z(a[5]),O=[];for(let k=0;k<V.length;k+=1)O[k]=Ot(Ut(a,V,k));let ie=z(a[4]),X=[];for(let k=0;k<ie.length;k+=1)X[k]=It(Pt(a,ie,k));var we=a[1].component;function ne(k,F){return{props:{chords:k[3],searchString:k[0],filters:k[2]}}}return we&&(q=Je(we,ne(a))),{c(){fe(t.$$.fragment),s=A(),l=v("h2"),e=H(`Song book
    `),r=v("span"),n=v("button"),n.textContent=i,o=A(),c=v("button"),c.textContent=u,d=A(),fe(f.$$.fragment),C=A(),_=v("p"),D=H("This is a list of "),g=H(p),b=H(` song chords I have been gathering for the past 10 years and that
    I like to play.`),U=A(),fe(S.$$.fragment),N=A(),fe(I.$$.fragment),ee=A(),j=v("div"),W=v("h3"),W.textContent=Se,$e=H(`
    Search an artist, a title or a tag:`),re=v("input"),Ae=A(),oe=v("button"),oe.innerHTML=Be,K=A(),Q=v("div"),Ee=v("h4"),Ee.textContent=De,_e=A();for(let k=0;k<O.length;k+=1)O[k].c();Pe=A(),ke=v("h4"),ke.textContent=be,Ue=A(),de=v("div");for(let k=0;k<X.length;k+=1)X[k].c();ae=A(),q&&fe(q.$$.fragment),ve=J(),this.h()},l(k){ge(t.$$.fragment,k),s=y(k),l=w(k,"H2",{});var F=B(l);e=M(F,`Song book
    `),r=w(F,"SPAN",{class:!0});var $=B(r);n=w($,"BUTTON",{"data-svelte-h":!0}),Y(n)!=="svelte-13v6ylk"&&(n.textContent=i),o=y($),c=w($,"BUTTON",{"data-svelte-h":!0}),Y(c)!=="svelte-18v2orh"&&(c.textContent=u),$.forEach(h),F.forEach(h),d=y(k),ge(f.$$.fragment,k),C=y(k),_=w(k,"P",{});var Ce=B(_);D=M(Ce,"This is a list of "),g=M(Ce,p),b=M(Ce,` song chords I have been gathering for the past 10 years and that
    I like to play.`),Ce.forEach(h),U=y(k),ge(S.$$.fragment,k),N=y(k),ge(I.$$.fragment,k),ee=y(k),j=w(k,"DIV",{});var ce=B(j);W=w(ce,"H3",{"data-svelte-h":!0}),Y(W)!=="svelte-bfvigd"&&(W.textContent=Se),$e=M(ce,`
    Search an artist, a title or a tag:`),re=w(ce,"INPUT",{type:!0}),Ae=y(ce),oe=w(ce,"BUTTON",{"data-svelte-h":!0}),Y(oe)!=="svelte-5nqbye"&&(oe.innerHTML=Be),K=y(ce),Q=w(ce,"DIV",{class:!0});var He=B(Q);Ee=w(He,"H4",{"data-svelte-h":!0}),Y(Ee)!=="svelte-xazxp3"&&(Ee.textContent=De),_e=y(He);for(let Ne=0;Ne<O.length;Ne+=1)O[Ne].l(He);He.forEach(h),Pe=y(ce),ke=w(ce,"H4",{"data-svelte-h":!0}),Y(ke)!=="svelte-1yp5l9r"&&(ke.textContent=be),Ue=y(ce),de=w(ce,"DIV",{class:!0});var Ye=B(de);for(let Ne=0;Ne<X.length;Ne+=1)X[Ne].l(Ye);Ye.forEach(h),ce.forEach(h),ae=y(k),q&&ge(q.$$.fragment,k),ve=J(),this.h()},h(){Ve(n,"position","relative"),Ve(c,"position","relative"),L(r,"class","pull-right"),L(re,"type","text"),L(Q,"class","filter-controls-container svelte-kiyfxh"),L(de,"class","view-controls-container svelte-kiyfxh")},m(k,F){ue(t,k,F),T(k,s,F),T(k,l,F),m(l,e),m(l,r),m(r,n),m(r,o),m(r,c),T(k,d,F),ue(f,k,F),T(k,C,F),T(k,_,F),m(_,D),m(_,g),m(_,b),T(k,U,F),ue(S,k,F),T(k,N,F),ue(I,k,F),T(k,ee,F),T(k,j,F),m(j,W),m(j,$e),m(j,re),We(re,a[0]),m(j,Ae),m(j,oe),m(j,K),m(j,Q),m(Q,Ee),m(Q,_e);for(let $=0;$<O.length;$+=1)O[$]&&O[$].m(Q,null);m(j,Pe),m(j,ke),m(j,Ue),m(j,de);for(let $=0;$<X.length;$+=1)X[$]&&X[$].m(de,null);T(k,ae,F),q&&ue(q,k,F),T(k,ve,F),me=!0,G||(R=[te(n,"click",a[7]),te(c,"click",a[8]),te(re,"input",a[9]),te(oe,"click",a[10])],G=!0)},p(k,[F]){if(F&1&&re.value!==k[0]&&We(re,k[0]),F&36){V=z(k[5]);let $;for($=0;$<V.length;$+=1){const Ce=Ut(k,V,$);O[$]?O[$].p(Ce,F):(O[$]=Ot(Ce),O[$].c(),O[$].m(Q,null))}for(;$<O.length;$+=1)O[$].d(1);O.length=V.length}if(F&18){ie=z(k[4]);let $;for($=0;$<ie.length;$+=1){const Ce=Pt(k,ie,$);X[$]?X[$].p(Ce,F):(X[$]=It(Ce),X[$].c(),X[$].m(de,null))}for(;$<X.length;$+=1)X[$].d(1);X.length=ie.length}if(F&2&&we!==(we=k[1].component)){if(q){Z();const $=q;P($.$$.fragment,1,0,()=>{he($,1)}),x()}we?(q=Je(we,ne(k)),fe(q.$$.fragment),E(q.$$.fragment,1),ue(q,ve.parentNode,ve)):q=null}else if(we){const $={};F&1&&($.searchString=k[0]),F&4&&($.filters=k[2]),q.$set($)}},i(k){me||(E(t.$$.fragment,k),E(f.$$.fragment,k),E(S.$$.fragment,k),E(I.$$.fragment,k),q&&E(q.$$.fragment,k),me=!0)},o(k){P(t.$$.fragment,k),P(f.$$.fragment,k),P(S.$$.fragment,k),P(I.$$.fragment,k),q&&P(q.$$.fragment,k),me=!1},d(k){k&&(h(s),h(l),h(d),h(C),h(_),h(U),h(N),h(ee),h(j),h(ae),h(ve)),he(t,k),he(f,k),he(S,k),he(I,k),pe(O,k),pe(X,k),q&&he(q,k),G=!1,Ke(R)}}}function Il(a,t,s){let{data:l}=t;const{chords:e}=l;Xe(async()=>{try{const b=(await zt()).reduce((U,S)=>(U.set(S.url,{...S}),U),new Map);Oe.set(b)}catch(g){const b=`<strong>Couldn't get visits count</strong><br/> ${g.message}`;Mt.push(b,{duration:0,theme:{"--toastBarBackground":"#FF0000"}})}});let r="";const n=[{label:"By artist",component:gl},{label:"By tags",component:bl},{label:"By frequency",component:Cl},{label:"By access date",component:hl}];let i=n[0],o={pdf:!0,doc:!0,youtube:!0,link:!0};const c=Object.keys(o),u=()=>Wt(yl),d=()=>ll("/songbook/edit");function f(){r=this.value,s(0,r)}const C=()=>s(0,r="");function _(g){o[g]=this.checked,s(2,o)}const D=g=>{s(2,o[g]=!o[g],o),s(2,o)},p=g=>s(1,i=g);return a.$$set=g=>{"data"in g&&s(6,l=g.data)},[r,i,o,e,n,c,l,u,d,f,C,_,D,p]}class Wl extends Le{constructor(t){super(),Te(this,t,Il,Ol,se,{data:6})}}export{Wl as component,Jl as universal};
