import"../chunks/NZTpNUN0.js";import{o as C}from"../chunks/BFpK0VWp.js";import{p as A,c as P,f as d,a as o,b as E,g as a,b4 as S,d as l,s as c,e as n,r as m,t as G,i as I,h as J}from"../chunks/D6WCIunz.js";import{s as L,d as K}from"../chunks/BCejqCpM.js";import{i as H}from"../chunks/kb571B70.js";import{a as F,s as N}from"../chunks/xyfN9_G_.js";import{u as U}from"../chunks/DrxJRRsq.js";import{M as O}from"../chunks/MUC4Yodc.js";import{M as V}from"../chunks/BXcaCR0j.js";import{e as Q,i as R}from"../chunks/_3a0TLdx.js";import{a as W}from"../chunks/DAC2pq7g.js";import{D as X}from"../chunks/DTyfSRsR.js";import{g as Y}from"../chunks/Bd9sQ8Nq.js";import"../chunks/DINClf5P.js";import"../chunks/BFNGRIwq.js";import{p as Z}from"../chunks/LSE9fGGF.js";import{g as ee}from"../chunks/CFZpIX3S.js";var te=l('<div class="event svelte-cyscl8"><div class="event-date"> </div> <div class="event-type"> </div> <div class="event-value"> </div></div>'),re=l('<div class="event svelte-cyscl8"><div>Date</div> <div>Type</div> <div>Value</div></div> <!>',1),ae=l("<p>Loading events</p>");function oe(u,s){A(s,!0);const g=()=>F(U,"$user",h),[h,k]=N();var i=P(),p=d(i);{var f=v=>{var _=P(),y=d(_);W(y,()=>s.events,e=>{var t=ae();o(e,t)},(e,t)=>{var r=re(),b=c(d(r),2);Q(b,17,()=>a(t),R,($,x)=>{const j=S(()=>X.fromSeconds(a(x).eventDateUnix).toLocal().toFormat("dd/MM/yy HH:mm"));var M=te(),D=n(M),q=n(D,!0);m(D);var T=c(D,2),z=n(T,!0);m(T);var w=c(T,2),B=n(w,!0);m(w),m(M),G(()=>{L(q,a(j)),L(z,a(x).type),L(B,a(x).value)}),o($,M)}),o(e,r)},(e,t)=>{{let r=S(()=>({level:"error",header:"Something went wrong getting events",message:a(t)}));V(e,{get item(){return a(r)}})}}),o(v,_)};H(p,v=>{g()&&s.events&&v(f)})}o(u,i),E(),k()}var se=l("<div><button>Add an entry</button></div> <!>",1),ie=l("<!> <!>",1);function Me(u,s){A(s,!0);const g=()=>F(U,"$user",h),[h,k]=N();let i=J(void 0);Z.set("Personal Tracker"),C(()=>I(i,Y(),!0));var p=ie(),f=d(p);O(f,{title:"Personal Tracker",description:"Track me metrics",iconPath:"/personal_tracker.png"});var v=c(f,2);{var _=e=>{var t=se(),r=d(t),b=n(r);b.__click=()=>ee("/personal-tracker/add"),m(r);var $=c(r,2);oe($,{get events(){return a(i)}}),o(e,t)},y=e=>{V(e,{item:{level:"info",header:"Login to add an entry or see events"}})};H(v,e=>{g()?e(_):e(y,!1)})}o(u,p),E(),k()}K(["click"]);export{Me as component};
