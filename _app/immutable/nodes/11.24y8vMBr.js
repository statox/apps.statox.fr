import{P as qe}from"../chunks/public.C30nq52-.js";import{g as jt,t as Rt,h as Mt,u as zt}from"../chunks/service.KCy62VHU.js";import{s as _e,M as qt,f as k,g as C,N as F,j as T,G as He,i as L,w as Z,r as ce,d,A as Re,a as S,l as j,h as B,c as y,m as q,L as ze,H as _,$ as Ft,e as W,P as Le,n as Me,k as je,p as Gt,o as Ke,T as Pe,q as We}from"../chunks/scheduler.QoS9EMOx.js";import{S as Ee,i as Se,g as se,t as $,c as re,a as U,b as ge,d as Te,m as ve,e as be}from"../chunks/index.BS23CabK.js";import{e as K,u as Jt,o as Kt}from"../chunks/each.XEVV6in-.js";import{a as Ht,o as Qe}from"../chunks/store.sj-Gcwq_.js";/* empty css                          */import{M as Xt}from"../chunks/Main.MyVnOsow.js";import{w as Yt}from"../chunks/index.DpfTd9wF.js";import{b as Wt}from"../chunks/paths.1ei0JSFm.js";const Qt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Zt=i=>{const t=i.url;return t.includes(".doc")?"doc":t.includes(".pdf")?"pdf":t.includes("youtube")?"youtube":"link"},xt=async()=>{const i=qe+"/chords/getAll";return(await fetch(i,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then(async l=>{if(l.ok)return l.json();throw new Error(await l.text())})).map(l=>({...l,type:Zt(l)}))},el=async i=>{const t=qe+"/chords/addEntry",l=await jt();return fetch(t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(i)}).then(async n=>{if(!n.ok)throw new Error(await n.text())})},tl=async()=>({chords:await xt()}),Kl=Object.freeze(Object.defineProperty({__proto__:null,load:tl},Symbol.toStringTag,{value:"Module"})),{clearTimeout:Ze,setTimeout:xe,window:Fe}=Qt;function ll(i){let t=!1,l=()=>{t=!1},n,e,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',r,a;return qt(i[3]),{c(){e=k("button"),e.innerHTML=s,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-ed45ug"&&(e.innerHTML=s),this.h()},h(){T(e,"class","top-link svelte-1kbb9q3"),He(e,"hide",i[1])},m(o,f){L(o,e,f),r||(a=[Z(Fe,"scroll",()=>{t=!0,Ze(n),n=xe(l,100),i[3]()}),Z(e,"click",i[2])],r=!0)},p(o,[f]){f&1&&!t&&(t=!0,Ze(n),scrollTo(Fe.pageXOffset,o[0]),n=xe(l,100)),f&2&&He(e,"hide",o[1])},i:ce,o:ce,d(o){o&&d(e),r=!1,Re(a)}}}function nl(i,t,l){let n,e=!0,s;const r=f=>{f>0?l(1,e=!1):l(1,e=!0),s&&clearTimeout(s),s=setTimeout(()=>{l(1,e=!0)},3e3)},a=()=>{const f=document.documentElement.scrollTop||document.body.scrollTop;f>0&&(window.requestAnimationFrame(a),window.scrollTo(0,f-f/2))};function o(){l(0,n=Fe.pageYOffset)}return i.$$.update=()=>{i.$$.dirty&1&&r(n)},[n,e,a,o]}class sl extends Ee{constructor(t){super(),Se(this,t,nl,ll,_e,{})}}const Ie=Yt(),Ge=i=>i==="doc"?"fas fa-file-word":i==="pdf"?"fas fa-file-pdf":i==="youtube"?"fa fa-youtube":"fas fa-link";function rl(i){let t,l,n,e,s,r,a,o,f;return{c(){t=k("span"),n=S(),e=k("span"),s=k("a"),r=j(i[2]),this.h()},l(h){t=C(h,"SPAN",{class:!0}),B(t).forEach(d),n=y(h),e=C(h,"SPAN",{});var p=B(e);s=C(p,"A",{href:!0,target:!0,rel:!0,title:!0});var c=B(s);r=q(c,i[2]),c.forEach(d),p.forEach(d),this.h()},h(){T(t,"class",l=ze(Ge(i[0].type))+" svelte-1gxig14"),T(s,"href",a=i[3](i[0])),T(s,"target","_blank"),T(s,"rel","noopener noreferrer"),T(s,"title",i[1])},m(h,p){L(h,t,p),L(h,n,p),L(h,e,p),_(e,s),_(s,r),o||(f=Z(s,"click",i[4]),o=!0)},p(h,[p]){p&1&&l!==(l=ze(Ge(h[0].type))+" svelte-1gxig14")&&T(t,"class",l),p&1&&a!==(a=h[3](h[0]))&&T(s,"href",a),p&2&&T(s,"title",h[1])},i:ce,o:ce,d(h){h&&(d(t),d(n),d(e)),o=!1,f()}}}function ol(i,t,l){let{chord:n}=t,{showArtist:e=!1}=t,s;Ie.subscribe(f=>{if(f&&f.has(n.url)){const h=f.get(n.url),p=new Date(h.lastAccessDateUnix*1e3);l(1,s=`visits: ${h.count} - last: ${p.toLocaleDateString()}`)}});const r=(e?n.artist+" - ":"")+n.title,a=f=>f.type==="doc"?`${Wt}/docviewer/${f.url}`:f.url,o=()=>{const f=qe+"/chords/addLinkVisit",h={url:n.url},p=c=>{const g=`<strong>Visit not counted</strong><br/> ${c.message}`;Rt.push(g,{initial:0,theme:{"--toastBarBackground":"#FF0000"}})};jt().then(c=>{fetch(f,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(h)}).then(g=>{if(g&&g.status!==200)throw new Error(g.statusText);const u=Ft(Ie),N=u.get(n.url)||{count:0,lastAccessDateUnix:0};N.count++,N.lastAccessDateUnix=Date.now()/1e3,u.set(n.url,N),Ie.set(u)}).catch(p)}).catch(p)};return i.$$set=f=>{"chord"in f&&l(0,n=f.chord),"showArtist"in f&&l(5,e=f.showArtist)},[n,s,r,a,o,e]}class Ve extends Ee{constructor(t){super(),Se(this,t,ol,rl,_e,{chord:0,showArtist:5})}}function et(i,t,l){const n=i.slice();n[5]=t[l];const e=n[3].get(n[5].url);return n[6]=e,n}function tt(i){let t,l,n,e,s,r=i[6]&&lt(i);return n=new Ve({props:{chord:i[5],showArtist:!0}}),{c(){t=k("li"),r&&r.c(),l=S(),ge(n.$$.fragment),e=S(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=B(t);r&&r.l(o),l=y(o),Te(n.$$.fragment,o),e=y(o),o.forEach(d),this.h()},h(){T(t,"class","ul2col-item")},m(a,o){L(a,t,o),r&&r.m(t,null),_(t,l),ve(n,t,null),_(t,e),s=!0},p(a,o){a[6]?r?r.p(a,o):(r=lt(a),r.c(),r.m(t,l)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[5]),n.$set(f)},i(a){s||(U(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&d(t),r&&r.d(),be(n)}}}function lt(i){let t,l=i[6].count+"",n,e;return{c(){t=j("("),n=j(l),e=j(")")},l(s){t=q(s,"("),n=q(s,l),e=q(s,")")},m(s,r){L(s,t,r),L(s,n,r),L(s,e,r)},p(s,r){r&9&&l!==(l=s[6].count+"")&&Me(n,l)},d(s){s&&(d(t),d(n),d(e))}}}function nt(i){let t=i[4](i[5],i[1],i[2]),l,n,e=t&&tt(i);return{c(){e&&e.c(),l=W()},l(s){e&&e.l(s),l=W()},m(s,r){e&&e.m(s,r),L(s,l,r),n=!0},p(s,r){r&7&&(t=s[4](s[5],s[1],s[2])),t?e?(e.p(s,r),r&7&&U(e,1)):(e=tt(s),e.c(),U(e,1),e.m(l.parentNode,l)):e&&(se(),$(e,1,1,()=>{e=null}),re())},i(s){n||(U(e),n=!0)},o(s){$(e),n=!1},d(s){s&&d(l),e&&e.d(s)}}}function st(i){let t,l,n=K(i[0]),e=[];for(let r=0;r<n.length;r+=1)e[r]=nt(et(i,n,r));const s=r=>$(e[r],1,1,()=>{e[r]=null});return{c(){t=k("ul");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=C(r,"UL",{class:!0});var a=B(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(d),this.h()},h(){T(t,"class","ul2col-container")},m(r,a){L(r,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);l=!0},p(r,a){if(a&31){n=K(r[0]);let o;for(o=0;o<n.length;o+=1){const f=et(r,n,o);e[o]?(e[o].p(f,a),U(e[o],1)):(e[o]=nt(f),e[o].c(),U(e[o],1),e[o].m(t,null))}for(se(),o=n.length;o<e.length;o+=1)s(o);re()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)U(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)$(e[a]);l=!1},d(r){r&&d(t),Le(e,r)}}}function il(i){let t=i[0],l,n,e=st(i);return{c(){e.c(),l=W()},l(s){e.l(s),l=W()},m(s,r){e.m(s,r),L(s,l,r),n=!0},p(s,[r]){r&1&&_e(t,t=s[0])?(se(),$(e,1,1,ce),re(),e=st(s),e.c(),U(e,1),e.m(l.parentNode,l)):e.p(s,r)},i(s){n||(U(e),n=!0)},o(s){$(e),n=!1},d(s){s&&d(l),e.d(s)}}}function al(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t,r;Ie.subscribe(o=>{o&&(l(3,r=o),l(0,e=e.sort((f,h)=>{const p=o.get(f.url),c=o.get(h.url);return p&&c?c.lastAccessDateUnix-p.lastAccessDateUnix:p?-1:c?1:f.artist!=h.artist?f.artist.toLowerCase()<h.artist.toLowerCase()?-1:1:f.title.toLowerCase()<h.title.toLowerCase()?-1:1})))});const a=(o,f,h)=>h[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return i.$$set=o=>{"searchString"in o&&l(1,n=o.searchString),"chords"in o&&l(0,e=o.chords),"filters"in o&&l(2,s=o.filters)},[e,n,s,r,a]}class cl extends Ee{constructor(t){super(),Se(this,t,al,il,_e,{searchString:1,chords:0,filters:2})}}const fl=(i,t)=>i<t?-1:i>t?1:0,Je=(i,t)=>{const l=i.toLowerCase(),n=t.toLowerCase();return fl(l,n)};function rt(i,t,l){const n=i.slice();n[14]=t[l];const e=n[8](n[14].name,n[0],n[1]);return n[2]=e,n}function ot(i,t,l){const n=i.slice();return n[17]=t[l],n}function it(i,t,l){const n=i.slice();return n[20]=t[l],n}function at(i){let t,l,n=i[20].letter.toUpperCase()+"",e,s;return{c(){t=k("li"),l=k("a"),e=j(n),s=S(),this.h()},l(r){t=C(r,"LI",{class:!0});var a=B(t);l=C(a,"A",{href:!0,class:!0});var o=B(l);e=q(o,n),o.forEach(d),s=y(a),a.forEach(d),this.h()},h(){T(l,"href","#"+i[20].tag),T(l,"class","navigationLink svelte-1deg5s8"),T(t,"class","navigationBtn svelte-1deg5s8")},m(r,a){L(r,t,a),_(t,l),_(l,e),_(t,s)},p:ce,d(r){r&&d(t)}}}function ct(i){let t,l,n=i[14].name+"",e,s,r,a,o,f=K(i[2]),h=[];for(let c=0;c<f.length;c+=1)h[c]=ft(ot(i,f,c));const p=c=>$(h[c],1,1,()=>{h[c]=null});return{c(){t=k("tr"),l=k("td"),e=j(n),s=S(),r=k("ul");for(let c=0;c<h.length;c+=1)h[c].c();a=S(),this.h()},l(c){t=C(c,"TR",{class:!0});var g=B(t);l=C(g,"TD",{id:!0,class:!0});var u=B(l);e=q(u,n),s=y(u),r=C(u,"UL",{class:!0});var N=B(r);for(let v=0;v<h.length;v+=1)h[v].l(N);N.forEach(d),u.forEach(d),a=y(g),g.forEach(d),this.h()},h(){T(r,"class","ul2col-container"),T(l,"id",i[14].tag),T(l,"class","svelte-1deg5s8"),T(t,"class","svelte-1deg5s8")},m(c,g){L(c,t,g),_(t,l),_(l,e),_(l,s),_(l,r);for(let u=0;u<h.length;u+=1)h[u]&&h[u].m(r,null);_(t,a),o=!0},p(c,g){if(g&387){f=K(c[2]);let u;for(u=0;u<f.length;u+=1){const N=ot(c,f,u);h[u]?(h[u].p(N,g),U(h[u],1)):(h[u]=ft(N),h[u].c(),U(h[u],1),h[u].m(r,null))}for(se(),u=f.length;u<h.length;u+=1)p(u);re()}},i(c){if(!o){for(let g=0;g<f.length;g+=1)U(h[g]);o=!0}},o(c){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)$(h[g]);o=!1},d(c){c&&d(t),Le(h,c)}}}function ft(i){let t,l,n,e;return l=new Ve({props:{chord:i[17]}}),{c(){t=k("li"),ge(l.$$.fragment),n=S(),this.h()},l(s){t=C(s,"LI",{class:!0});var r=B(t);Te(l.$$.fragment,r),n=y(r),r.forEach(d),this.h()},h(){T(t,"class","ul2col-item")},m(s,r){L(s,t,r),ve(l,t,null),_(t,n),e=!0},p(s,r){const a={};r&3&&(a.chord=s[17]),l.$set(a)},i(s){e||(U(l.$$.fragment,s),e=!0)},o(s){$(l.$$.fragment,s),e=!1},d(s){s&&d(t),be(l)}}}function ut(i){let t=i[9](i[14].name,i[2],i[0],i[1]),l,n,e=t&&ct(i);return{c(){e&&e.c(),l=W()},l(s){e&&e.l(s),l=W()},m(s,r){e&&e.m(s,r),L(s,l,r),n=!0},p(s,r){r&3&&(t=s[9](s[14].name,s[2],s[0],s[1])),t?e?(e.p(s,r),r&3&&U(e,1)):(e=ct(s),e.c(),U(e,1),e.m(l.parentNode,l)):e&&(se(),$(e,1,1,()=>{e=null}),re())},i(s){n||(U(e),n=!0)},o(s){$(e),n=!1},d(s){s&&d(l),e&&e.d(s)}}}function ul(i){let t=!1,l=()=>{t=!1},n,e,s=`${i[4]}px`,r,a,o,f,h;qt(i[10]);let p=K(i[6]),c=[];for(let v=0;v<p.length;v+=1)c[v]=at(it(i,p,v));let g=K(i[7]),u=[];for(let v=0;v<g.length;v+=1)u[v]=ut(rt(i,g,v));const N=v=>$(u[v],1,1,()=>{u[v]=null});return{c(){e=k("ol");for(let v=0;v<c.length;v+=1)c[v].c();r=S(),a=k("table");for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){e=C(v,"OL",{id:!0,class:!0});var m=B(e);for(let P=0;P<c.length;P+=1)c[P].l(m);m.forEach(d),r=y(v),a=C(v,"TABLE",{id:!0});var b=B(a);for(let P=0;P<u.length;P+=1)u[P].l(b);b.forEach(d),this.h()},h(){T(e,"id","indexList"),T(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),je(e,"--barTop",s),T(a,"id","artistTable")},m(v,m){L(v,e,m);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(e,null);L(v,r,m),L(v,a,m);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(a,null);i[11](a),o=!0,f||(h=Z(window,"scroll",()=>{t=!0,clearTimeout(n),n=setTimeout(l,100),i[10]()}),f=!0)},p(v,[m]){if(m&8&&!t&&(t=!0,clearTimeout(n),scrollTo(window.pageXOffset,v[3]),n=setTimeout(l,100)),m&64){p=K(v[6]);let b;for(b=0;b<p.length;b+=1){const P=it(v,p,b);c[b]?c[b].p(P,m):(c[b]=at(P),c[b].c(),c[b].m(e,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=p.length}if(m&16&&s!==(s=`${v[4]}px`)&&je(e,"--barTop",s),m&899){g=K(v[7]);let b;for(b=0;b<g.length;b+=1){const P=rt(v,g,b);u[b]?(u[b].p(P,m),U(u[b],1)):(u[b]=ut(P),u[b].c(),U(u[b],1),u[b].m(a,null))}for(se(),b=g.length;b<u.length;b+=1)N(b);re()}},i(v){if(!o){for(let m=0;m<g.length;m+=1)U(u[m]);o=!0}},o(v){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)$(u[m]);o=!1},d(v){v&&(d(e),d(r),d(a)),Le(c,v),Le(u,v),i[11](null),f=!1,h()}}}function hl(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t;const r=e.reduce((m,b)=>{const P=b.artist;return m[P]||(m[P]=[]),m[P].push(b),m},{}),a=[],o=Object.keys(r).sort(Je).map((m,b,P)=>{if(b===0||m[0].toLowerCase()!=P[b-1][0].toLowerCase()){const E="anchor_letter_"+m[0];return a.push({letter:m[0],tag:E}),{name:m,tag:E}}return{name:m}});let f,h=0,p;const c=m=>{if(p){var b=p.getBoundingClientRect();if(b.top<20){l(4,h=20);return}l(4,h=b.top)}},g=(m,b,P)=>r[m].sort((A,O)=>A.title<O.title?-1:1).filter(A=>{const O=A.type;return P[O]===!1?!1:b.length===0?!0:(m+";"+A.title+";"+A.tags.join(",")).toLowerCase().match(b.toLowerCase())}),u=(m,b,P,E)=>b.length===0?!1:P.length===0?!0:(m+";"+b.reduce((O,X)=>O+X.title+";"+X.tags.join(","),"")).toLowerCase().match(P.toLowerCase());function N(){l(3,f=window.pageYOffset)}function v(m){Gt[m?"unshift":"push"](()=>{p=m,l(5,p)})}return i.$$set=m=>{"searchString"in m&&l(0,n=m.searchString),"chords"in m&&l(2,e=m.chords),"filters"in m&&l(1,s=m.filters)},i.$$.update=()=>{i.$$.dirty&8&&c()},[n,s,e,f,h,p,a,o,g,u,N,v]}class _l extends Ee{constructor(t){super(),Se(this,t,hl,ul,_e,{searchString:0,chords:2,filters:1})}}function ht(i,t,l){const n=i.slice();return n[5]=t[l],n}function _t(i,t,l){const n=i.slice();return n[8]=t[l],n}function dt(i){let t,l,n=i[3](i[5])+"",e,s,r,a,o,f=K(i[2][i[5]]),h=[];for(let c=0;c<f.length;c+=1)h[c]=pt(_t(i,f,c));const p=c=>$(h[c],1,1,()=>{h[c]=null});return{c(){t=k("div"),l=k("span"),e=j(n),s=S(),r=k("ul");for(let c=0;c<h.length;c+=1)h[c].c();a=S(),this.h()},l(c){t=C(c,"DIV",{});var g=B(t);l=C(g,"SPAN",{});var u=B(l);e=q(u,n),u.forEach(d),s=y(g),r=C(g,"UL",{class:!0});var N=B(r);for(let v=0;v<h.length;v+=1)h[v].l(N);N.forEach(d),a=y(g),g.forEach(d),this.h()},h(){T(r,"class","ul2col-container")},m(c,g){L(c,t,g),_(t,l),_(l,e),_(t,s),_(t,r);for(let u=0;u<h.length;u+=1)h[u]&&h[u].m(r,null);_(t,a),o=!0},p(c,g){if((!o||g&4)&&n!==(n=c[3](c[5])+"")&&Me(e,n),g&6){f=K(c[2][c[5]]);let u;for(u=0;u<f.length;u+=1){const N=_t(c,f,u);h[u]?(h[u].p(N,g),U(h[u],1)):(h[u]=pt(N),h[u].c(),U(h[u],1),h[u].m(r,null))}for(se(),u=f.length;u<h.length;u+=1)p(u);re()}},i(c){if(!o){for(let g=0;g<f.length;g+=1)U(h[g]);o=!0}},o(c){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)$(h[g]);o=!1},d(c){c&&d(t),Le(h,c)}}}function mt(i){let t,l,n,e;return l=new Ve({props:{chord:i[8],showArtist:!0}}),{c(){t=k("li"),ge(l.$$.fragment),n=S(),this.h()},l(s){t=C(s,"LI",{class:!0});var r=B(t);Te(l.$$.fragment,r),n=y(r),r.forEach(d),this.h()},h(){T(t,"class","ul2col-item")},m(s,r){L(s,t,r),ve(l,t,null),_(t,n),e=!0},p(s,r){const a={};r&4&&(a.chord=s[8]),l.$set(a)},i(s){e||(U(l.$$.fragment,s),e=!0)},o(s){$(l.$$.fragment,s),e=!1},d(s){s&&d(t),be(l)}}}function pt(i){let t,l,n=i[1][i[8].type]&&mt(i);return{c(){n&&n.c(),t=W()},l(e){n&&n.l(e),t=W()},m(e,s){n&&n.m(e,s),L(e,t,s),l=!0},p(e,s){e[1][e[8].type]?n?(n.p(e,s),s&6&&U(n,1)):(n=mt(e),n.c(),U(n,1),n.m(t.parentNode,t)):n&&(se(),$(n,1,1,()=>{n=null}),re())},i(e){l||(U(n),l=!0)},o(e){$(n),l=!1},d(e){e&&d(t),n&&n.d(e)}}}function gt(i){let t=i[0].length===0||i[5].toLowerCase().match(i[0].toLowerCase()),l,n,e=t&&dt(i);return{c(){e&&e.c(),l=W()},l(s){e&&e.l(s),l=W()},m(s,r){e&&e.m(s,r),L(s,l,r),n=!0},p(s,r){r&5&&(t=s[0].length===0||s[5].toLowerCase().match(s[0].toLowerCase())),t?e?(e.p(s,r),r&5&&U(e,1)):(e=dt(s),e.c(),U(e,1),e.m(l.parentNode,l)):e&&(se(),$(e,1,1,()=>{e=null}),re())},i(s){n||(U(e),n=!0)},o(s){$(e),n=!1},d(s){s&&d(l),e&&e.d(s)}}}function dl(i){let t,l,n=K(Object.keys(i[2]).sort(Je)),e=[];for(let r=0;r<n.length;r+=1)e[r]=gt(ht(i,n,r));const s=r=>$(e[r],1,1,()=>{e[r]=null});return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=W()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=W()},m(r,a){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(r,a);L(r,t,a),l=!0},p(r,[a]){if(a&15){n=K(Object.keys(r[2]).sort(Je));let o;for(o=0;o<n.length;o+=1){const f=ht(r,n,o);e[o]?(e[o].p(f,a),U(e[o],1)):(e[o]=gt(f),e[o].c(),U(e[o],1),e[o].m(t.parentNode,t))}for(se(),o=n.length;o<e.length;o+=1)s(o);re()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)U(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)$(e[a]);l=!1},d(r){r&&d(t),Le(e,r)}}}function ml(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t;const r=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),a={};for(const o of e)o.tags.forEach(h=>{a[h]||l(2,a[h]=[],a),a[h].push(o)});return Object.keys(a).forEach(o=>{a[o].sort((f,h)=>{const p=f.artist.toLowerCase(),c=h.artist.toLowerCase(),g=f.title.toLowerCase(),u=h.title.toLowerCase();return p<c?-1:p>c?1:g<u?-1:1})}),i.$$set=o=>{"searchString"in o&&l(0,n=o.searchString),"chords"in o&&l(4,e=o.chords),"filters"in o&&l(1,s=o.filters)},[n,s,a,r,e]}class pl extends Ee{constructor(t){super(),Se(this,t,ml,dl,_e,{searchString:0,chords:4,filters:1})}}function vt(i,t,l){const n=i.slice();n[5]=t[l];const e=n[3].get(n[5].url);return n[6]=e,n}function bt(i){let t,l,n,e,s,r=i[6]&&kt(i);return n=new Ve({props:{chord:i[5],showArtist:!0}}),{c(){t=k("li"),r&&r.c(),l=S(),ge(n.$$.fragment),e=S(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=B(t);r&&r.l(o),l=y(o),Te(n.$$.fragment,o),e=y(o),o.forEach(d),this.h()},h(){T(t,"class","ul2col-item")},m(a,o){L(a,t,o),r&&r.m(t,null),_(t,l),ve(n,t,null),_(t,e),s=!0},p(a,o){a[6]?r?r.p(a,o):(r=kt(a),r.c(),r.m(t,l)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[5]),n.$set(f)},i(a){s||(U(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&d(t),r&&r.d(),be(n)}}}function kt(i){let t,l=i[6].count+"",n,e;return{c(){t=j("("),n=j(l),e=j(")")},l(s){t=q(s,"("),n=q(s,l),e=q(s,")")},m(s,r){L(s,t,r),L(s,n,r),L(s,e,r)},p(s,r){r&9&&l!==(l=s[6].count+"")&&Me(n,l)},d(s){s&&(d(t),d(n),d(e))}}}function Ct(i){let t=i[4](i[5],i[1],i[2]),l,n,e=t&&bt(i);return{c(){e&&e.c(),l=W()},l(s){e&&e.l(s),l=W()},m(s,r){e&&e.m(s,r),L(s,l,r),n=!0},p(s,r){r&7&&(t=s[4](s[5],s[1],s[2])),t?e?(e.p(s,r),r&7&&U(e,1)):(e=bt(s),e.c(),U(e,1),e.m(l.parentNode,l)):e&&(se(),$(e,1,1,()=>{e=null}),re())},i(s){n||(U(e),n=!0)},o(s){$(e),n=!1},d(s){s&&d(l),e&&e.d(s)}}}function wt(i){let t,l,n=K(i[0]),e=[];for(let r=0;r<n.length;r+=1)e[r]=Ct(vt(i,n,r));const s=r=>$(e[r],1,1,()=>{e[r]=null});return{c(){t=k("ul");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=C(r,"UL",{class:!0});var a=B(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(d),this.h()},h(){T(t,"class","ul2col-container")},m(r,a){L(r,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);l=!0},p(r,a){if(a&31){n=K(r[0]);let o;for(o=0;o<n.length;o+=1){const f=vt(r,n,o);e[o]?(e[o].p(f,a),U(e[o],1)):(e[o]=Ct(f),e[o].c(),U(e[o],1),e[o].m(t,null))}for(se(),o=n.length;o<e.length;o+=1)s(o);re()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)U(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)$(e[a]);l=!1},d(r){r&&d(t),Le(e,r)}}}function gl(i){let t=i[0],l,n,e=wt(i);return{c(){e.c(),l=W()},l(s){e.l(s),l=W()},m(s,r){e.m(s,r),L(s,l,r),n=!0},p(s,[r]){r&1&&_e(t,t=s[0])?(se(),$(e,1,1,ce),re(),e=wt(s),e.c(),U(e,1),e.m(l.parentNode,l)):e.p(s,r)},i(s){n||(U(e),n=!0)},o(s){$(e),n=!1},d(s){s&&d(l),e.d(s)}}}function vl(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t,r;Ie.subscribe(o=>{o&&(l(3,r=o),l(0,e=e.sort((f,h)=>{const p=o.get(f.url),c=o.get(h.url);return p&&c?p.count!==c.count?c.count-p.count:c.lastAccessDateUnix-p.lastAccessDateUnix:p?-1:c?1:f.artist!=h.artist?f.artist.toLowerCase()<h.artist.toLowerCase()?-1:1:f.title.toLowerCase()<h.title.toLowerCase()?-1:1})))});const a=(o,f,h)=>h[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return i.$$set=o=>{"searchString"in o&&l(1,n=o.searchString),"chords"in o&&l(0,e=o.chords),"filters"in o&&l(2,s=o.filters)},[e,n,s,r,a]}class bl extends Ee{constructor(t){super(),Se(this,t,vl,gl,_e,{searchString:1,chords:0,filters:2})}}function Tt(i){const t=i[2](i[5]);i[6]=t;const l=i[3](i[5]);i[7]=l}function Lt(i,t,l){const n=i.slice();return n[8]=t[l],n}function Et(i){let t,l,n,e,s,r="Close",a,o,f,h={ctx:i,current:null,token:null,hasCatch:!0,pending:wl,then:Cl,catch:kl,value:5,error:11};return Mt(i[1],h),{c(){t=k("div"),l=k("div"),n=k("h3"),e=j(`Urls checks
                `),s=k("button"),s.textContent=r,a=S(),h.block.c(),this.h()},l(p){t=C(p,"DIV",{role:!0,class:!0});var c=B(t);l=C(c,"DIV",{class:!0});var g=B(l);n=C(g,"H3",{class:!0});var u=B(n);e=q(u,`Urls checks
                `),s=C(u,"BUTTON",{"data-svelte-h":!0}),F(s)!=="svelte-2m9p61"&&(s.textContent=r),u.forEach(d),a=y(g),h.block.l(g),g.forEach(d),c.forEach(d),this.h()},h(){T(n,"class","title-bar svelte-1b7k28l"),T(l,"class","contents svelte-1b7k28l"),T(t,"role","dialog"),T(t,"class","modal svelte-1b7k28l")},m(p,c){L(p,t,c),_(t,l),_(l,n),_(n,e),_(n,s),_(l,a),h.block.m(l,h.anchor=null),h.mount=()=>l,h.anchor=null,o||(f=Z(s,"click",Ht),o=!0)},p(p,c){i=p,zt(h,i,c)},d(p){p&&d(t),h.block.d(),h.token=null,h=null,o=!1,f()}}}function kl(i){let t,l,n=i[11].message+"",e;return{c(){t=k("p"),l=j("Could not retrieve checks: "),e=j(n),this.h()},l(s){t=C(s,"P",{style:!0});var r=B(t);l=q(r,"Could not retrieve checks: "),e=q(r,n),r.forEach(d),this.h()},h(){je(t,"color","red")},m(s,r){L(s,t,r),_(t,l),_(t,e)},p:ce,d(s){s&&d(t)}}}function Cl(i){Tt(i);let t,l,n="Last Check",e,s,r="Checks",a,o,f="Skipped",h,p,c="Errors",g,u,N=i[6]+"",v,m,b,P=i[5].nbChecks+"",E,A,O,X=i[5].nbSkipped+"",V,x,ue,oe=i[5].nbFails+"",le,ne,ie,ke,Y,z,ae="Status",de,te,G="Ref",ye,Ae,$e="Host",Ce,me,J="Data",Ne,we=K(i[7]),Q=[];for(let R=0;R<we.length;R+=1)Q[R]=St(Lt(i,we,R));return{c(){t=k("div"),l=k("span"),l.textContent=n,e=S(),s=k("span"),s.textContent=r,a=S(),o=k("span"),o.textContent=f,h=S(),p=k("span"),p.textContent=c,g=S(),u=k("span"),v=j(N),m=S(),b=k("span"),E=j(P),A=S(),O=k("span"),V=j(X),x=S(),ue=k("span"),le=j(oe),ne=S(),ie=k("br"),ke=S(),Y=k("div"),z=k("span"),z.textContent=ae,de=S(),te=k("span"),te.textContent=G,ye=S(),Ae=k("span"),Ae.textContent=$e,Ce=S(),me=k("span"),me.textContent=J,Ne=S();for(let R=0;R<Q.length;R+=1)Q[R].c();this.h()},l(R){t=C(R,"DIV",{class:!0});var H=B(t);l=C(H,"SPAN",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-1lbvzb0"&&(l.textContent=n),e=y(H),s=C(H,"SPAN",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-1wmxeaf"&&(s.textContent=r),a=y(H),o=C(H,"SPAN",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-txun94"&&(o.textContent=f),h=y(H),p=C(H,"SPAN",{class:!0,"data-svelte-h":!0}),F(p)!=="svelte-5mrj6x"&&(p.textContent=c),g=y(H),u=C(H,"SPAN",{class:!0});var I=B(u);v=q(I,N),I.forEach(d),m=y(H),b=C(H,"SPAN",{class:!0});var pe=B(b);E=q(pe,P),pe.forEach(d),A=y(H),O=C(H,"SPAN",{class:!0});var ee=B(O);V=q(ee,X),ee.forEach(d),x=y(H),ue=C(H,"SPAN",{class:!0});var Be=B(ue);le=q(Be,oe),Be.forEach(d),H.forEach(d),ne=y(R),ie=C(R,"BR",{}),ke=y(R),Y=C(R,"DIV",{class:!0});var he=B(Y);z=C(he,"SPAN",{class:!0,"data-svelte-h":!0}),F(z)!=="svelte-1s7ffxq"&&(z.textContent=ae),de=y(he),te=C(he,"SPAN",{class:!0,"data-svelte-h":!0}),F(te)!=="svelte-1wa8gqx"&&(te.textContent=G),ye=y(he),Ae=C(he,"SPAN",{class:!0,"data-svelte-h":!0}),F(Ae)!=="svelte-33rgke"&&(Ae.textContent=$e),Ce=y(he),me=C(he,"SPAN",{class:!0,"data-svelte-h":!0}),F(me)!=="svelte-1yzk30k"&&(me.textContent=J),Ne=y(he);for(let w=0;w<Q.length;w+=1)Q[w].l(he);he.forEach(d),this.h()},h(){T(l,"class","col table-head svelte-1b7k28l"),T(s,"class","col table-head svelte-1b7k28l"),T(o,"class","col table-head svelte-1b7k28l"),T(p,"class","col table-head svelte-1b7k28l"),T(u,"class","col svelte-1b7k28l"),T(b,"class","col svelte-1b7k28l"),T(O,"class","col svelte-1b7k28l"),T(ue,"class","col svelte-1b7k28l"),T(t,"class","rows svelte-1b7k28l"),T(z,"class","col table-head svelte-1b7k28l"),T(te,"class","col table-head svelte-1b7k28l"),T(Ae,"class","col table-head svelte-1b7k28l"),T(me,"class","col table-head svelte-1b7k28l"),T(Y,"class","rows svelte-1b7k28l")},m(R,H){L(R,t,H),_(t,l),_(t,e),_(t,s),_(t,a),_(t,o),_(t,h),_(t,p),_(t,g),_(t,u),_(u,v),_(t,m),_(t,b),_(b,E),_(t,A),_(t,O),_(O,V),_(t,x),_(t,ue),_(ue,le),L(R,ne,H),L(R,ie,H),L(R,ke,H),L(R,Y,H),_(Y,z),_(Y,de),_(Y,te),_(Y,ye),_(Y,Ae),_(Y,Ce),_(Y,me),_(Y,Ne);for(let I=0;I<Q.length;I+=1)Q[I]&&Q[I].m(Y,null)},p(R,H){if(Tt(R),H&10){we=K(R[7]);let I;for(I=0;I<we.length;I+=1){const pe=Lt(R,we,I);Q[I]?Q[I].p(pe,H):(Q[I]=St(pe),Q[I].c(),Q[I].m(Y,null))}for(;I<Q.length;I+=1)Q[I].d(1);Q.length=we.length}},d(R){R&&(d(t),d(ne),d(ie),d(ke),d(Y)),Le(Q,R)}}}function St(i){let t,l=i[8].status+"",n,e,s,r=i[8].chord.artist+"",a,o,f=i[8].chord.title+"",h,p,c,g,u=new URL(i[8].chord.url).hostname+"",N,v,m,b=(i[8].error?JSON.stringify(i[8].error):"")+"",P;return{c(){t=k("span"),n=j(l),e=S(),s=k("span"),a=j(r),o=j(" - "),h=j(f),p=S(),c=k("span"),g=k("a"),N=j(u),v=S(),m=k("span"),P=j(b),this.h()},l(E){t=C(E,"SPAN",{class:!0});var A=B(t);n=q(A,l),A.forEach(d),e=y(E),s=C(E,"SPAN",{class:!0});var O=B(s);a=q(O,r),o=q(O," - "),h=q(O,f),O.forEach(d),p=y(E),c=C(E,"SPAN",{class:!0});var X=B(c);g=C(X,"A",{href:!0,target:!0,rel:!0});var V=B(g);N=q(V,u),V.forEach(d),X.forEach(d),v=y(E),m=C(E,"SPAN",{class:!0});var x=B(m);P=q(x,b),x.forEach(d),this.h()},h(){T(t,"class","col svelte-1b7k28l"),T(s,"class","col svelte-1b7k28l"),T(g,"href",i[8].chord.url),T(g,"target","_blank"),T(g,"rel","noopener noreferrer"),T(c,"class","col svelte-1b7k28l"),T(m,"class","col svelte-1b7k28l")},m(E,A){L(E,t,A),_(t,n),L(E,e,A),L(E,s,A),_(s,a),_(s,o),_(s,h),L(E,p,A),L(E,c,A),_(c,g),_(g,N),L(E,v,A),L(E,m,A),_(m,P)},p:ce,d(E){E&&(d(t),d(e),d(s),d(p),d(c),d(v),d(m))}}}function wl(i){let t,l="Fetching results...";return{c(){t=k("p"),t.textContent=l},l(n){t=C(n,"P",{"data-svelte-h":!0}),F(t)!=="svelte-gjakbw"&&(t.textContent=l)},m(n,e){L(n,t,e)},p:ce,d(n){n&&d(t)}}}function Tl(i){let t,l=i[0]&&Et(i);return{c(){l&&l.c(),t=W()},l(n){l&&l.l(n),t=W()},m(n,e){l&&l.m(n,e),L(n,t,e)},p(n,[e]){n[0]?l?l.p(n,e):(l=Et(n),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:ce,o:ce,d(n){n&&d(t),l&&l.d(n)}}}function Ll(i,t,l){let{isOpen:n}=t;const e=qe+"/chords/checkLinks";let s=fetch(e).then(o=>o.json());const r=o=>{const f=new Date(o.timestamp);return f.toDateString()+" "+f.toTimeString()},a=o=>o.fails.sort((f,h)=>f.chord.url<h.chord.url?-1:1);return i.$$set=o=>{"isOpen"in o&&l(0,n=o.isOpen)},[n,s,r,a]}class El extends Ee{constructor(t){super(),Se(this,t,Ll,Tl,_e,{isOpen:0})}}function yt(i,t,l){const n=i.slice();return n[10]=t[l],n}function At(i){let t,l=i[10].dateTag+"",n;return{c(){t=k("li"),n=j(l),this.h()},l(e){t=C(e,"LI",{class:!0});var s=B(t);n=q(s,l),s.forEach(d),this.h()},h(){T(t,"class","ul2col-separator")},m(e,s){L(e,t,s),_(t,n)},p(e,s){s&1&&l!==(l=e[10].dateTag+"")&&Me(n,l)},d(e){e&&d(t)}}}function Nt(i){let t,l,n,e,s,r=i[10].dateTag&&At(i);return n=new Ve({props:{chord:i[10]}}),{c(){r&&r.c(),t=S(),l=k("li"),ge(n.$$.fragment),e=S(),this.h()},l(a){r&&r.l(a),t=y(a),l=C(a,"LI",{class:!0});var o=B(l);Te(n.$$.fragment,o),e=y(o),o.forEach(d),this.h()},h(){T(l,"class","ul2col-item")},m(a,o){r&&r.m(a,o),L(a,t,o),L(a,l,o),ve(n,l,null),_(l,e),s=!0},p(a,o){a[10].dateTag?r?r.p(a,o):(r=At(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[10]),n.$set(f)},i(a){s||(U(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&(d(t),d(l)),r&&r.d(a),be(n)}}}function Sl(i){let t,l,n,e,s="More...",r,a,o,f,h,p=K(i[0]),c=[];for(let u=0;u<p.length;u+=1)c[u]=Nt(yt(i,p,u));const g=u=>$(c[u],1,1,()=>{c[u]=null});return{c(){t=k("div"),l=k("h3"),n=j(`Latest additions
        `),e=k("button"),e.textContent=s,r=S(),a=k("ul");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){t=C(u,"DIV",{});var N=B(t);l=C(N,"H3",{});var v=B(l);n=q(v,`Latest additions
        `),e=C(v,"BUTTON",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-l2h3rt"&&(e.textContent=s),v.forEach(d),r=y(N),a=C(N,"UL",{class:!0});var m=B(a);for(let b=0;b<c.length;b+=1)c[b].l(m);m.forEach(d),N.forEach(d),this.h()},h(){T(e,"class","pull-right"),T(a,"class","ul2col-container")},m(u,N){L(u,t,N),_(t,l),_(l,n),_(l,e),_(t,r),_(t,a);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(a,null);o=!0,f||(h=Z(e,"click",i[3]),f=!0)},p(u,[N]){if(N&1){p=K(u[0]);let v;for(v=0;v<p.length;v+=1){const m=yt(u,p,v);c[v]?(c[v].p(m,N),U(c[v],1)):(c[v]=Nt(m),c[v].c(),U(c[v],1),c[v].m(a,null))}for(se(),v=p.length;v<c.length;v+=1)g(v);re()}},i(u){if(!o){for(let N=0;N<p.length;N+=1)U(c[N]);o=!0}},o(u){c=c.filter(Boolean);for(let N=0;N<c.length;N+=1)$(c[N]);o=!1},d(u){u&&d(t),Le(c,u),f=!1,h()}}}function yl(i,t,l){let{chords:n}=t;const e=Date.now(),s=1e3*3600*24*7,r=s*4,a=[{label:"last week",time:e-s},{label:"one month ago",time:e-r},{label:"two monthes ago",time:e-2*r},{label:"six monthes ago",time:e-6*r},{label:"one year ago",time:e-12*r}],o=n.filter(g=>g.creationDate).sort((g,u)=>u.creationDate-g.creationDate).map((g,u,N)=>{const v={...g};if(u>0){const m=N[u-1];for(const{time:b,label:P}of a)m.creationDate>b&&g.creationDate<b&&(v.dateTag=P)}return v});let f=6,h=[];const p=()=>{f+=4,l(0,h=o.slice(0,f))};Ke(()=>{p()});const c=()=>p();return i.$$set=g=>{"chords"in g&&l(2,n=g.chords)},[h,p,n,c]}class Al extends Ee{constructor(t){super(),Se(this,t,yl,Sl,_e,{chords:2})}}function Bt(i){let t,l,n,e,s,r="Close",a,o,f,h="Artist",p,c,g,u,N="Title",v,m,b,P,E="Url",A,O,X,V,x="Tags",ue,oe,le,ne,ie="Submit",ke,Y;return{c(){t=k("div"),l=k("div"),n=k("h4"),e=j(`Add a new song
                `),s=k("button"),s.textContent=r,a=S(),o=k("form"),f=k("label"),f.textContent=h,p=S(),c=k("input"),g=S(),u=k("label"),u.textContent=N,v=S(),m=k("input"),b=S(),P=k("label"),P.textContent=E,A=S(),O=k("input"),X=S(),V=k("label"),V.textContent=x,ue=S(),oe=k("input"),le=S(),ne=k("button"),ne.textContent=ie,this.h()},l(z){t=C(z,"DIV",{role:!0,class:!0});var ae=B(t);l=C(ae,"DIV",{class:!0});var de=B(l);n=C(de,"H4",{class:!0});var te=B(n);e=q(te,`Add a new song
                `),s=C(te,"BUTTON",{"data-svelte-h":!0}),F(s)!=="svelte-2m9p61"&&(s.textContent=r),te.forEach(d),a=y(de),o=C(de,"FORM",{});var G=B(o);f=C(G,"LABEL",{for:!0,"data-svelte-h":!0}),F(f)!=="svelte-1cd9emq"&&(f.textContent=h),p=y(G),c=C(G,"INPUT",{type:!0}),g=y(G),u=C(G,"LABEL",{for:!0,"data-svelte-h":!0}),F(u)!=="svelte-zzbvbu"&&(u.textContent=N),v=y(G),m=C(G,"INPUT",{type:!0}),b=y(G),P=C(G,"LABEL",{for:!0,"data-svelte-h":!0}),F(P)!=="svelte-1l3vf3o"&&(P.textContent=E),A=y(G),O=C(G,"INPUT",{type:!0}),X=y(G),V=C(G,"LABEL",{for:!0,"data-svelte-h":!0}),F(V)!=="svelte-e2ajgy"&&(V.textContent=x),ue=y(G),oe=C(G,"INPUT",{type:!0}),le=y(G),ne=C(G,"BUTTON",{"data-svelte-h":!0}),F(ne)!=="svelte-1mqqkko"&&(ne.textContent=ie),G.forEach(d),de.forEach(d),ae.forEach(d),this.h()},h(){T(n,"class","title-bar svelte-mmovoq"),T(f,"for","artist"),T(c,"type","text"),T(u,"for","title"),T(m,"type","text"),T(P,"for","url"),T(O,"type","text"),T(V,"for","tags"),T(oe,"type","text"),T(l,"class","contents svelte-mmovoq"),T(t,"role","dialog"),T(t,"class","modal svelte-mmovoq")},m(z,ae){L(z,t,ae),_(t,l),_(l,n),_(n,e),_(n,s),_(l,a),_(l,o),_(o,f),_(o,p),_(o,c),Pe(c,i[2]),_(o,g),_(o,u),_(o,v),_(o,m),Pe(m,i[1]),_(o,b),_(o,P),_(o,A),_(o,O),Pe(O,i[3]),_(o,X),_(o,V),_(o,ue),_(o,oe),Pe(oe,i[4]),_(o,le),_(o,ne),ke||(Y=[Z(s,"click",Ht),Z(c,"input",i[6]),Z(m,"input",i[7]),Z(O,"input",i[8]),Z(oe,"input",i[9]),Z(ne,"click",i[5])],ke=!0)},p(z,ae){ae&4&&c.value!==z[2]&&Pe(c,z[2]),ae&2&&m.value!==z[1]&&Pe(m,z[1]),ae&8&&O.value!==z[3]&&Pe(O,z[3]),ae&16&&oe.value!==z[4]&&Pe(oe,z[4])},d(z){z&&d(t),ke=!1,Re(Y)}}}function Nl(i){let t,l=i[0]&&Bt(i);return{c(){l&&l.c(),t=W()},l(n){l&&l.l(n),t=W()},m(n,e){l&&l.m(n,e),L(n,t,e)},p(n,[e]){n[0]?l?l.p(n,e):(l=Bt(n),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:ce,o:ce,d(n){n&&d(t),l&&l.d(n)}}}function Bl(i,t,l){let{isOpen:n}=t,e,s,r,a;const o=()=>{const g=a.replaceAll(" ","").split(",");console.log("submitting"),console.log({title:e,artist:s,url:r,tags:g}),el({title:e,artist:s,url:r,tags:g})};function f(){s=this.value,l(2,s)}function h(){e=this.value,l(1,e)}function p(){r=this.value,l(3,r)}function c(){a=this.value,l(4,a)}return i.$$set=g=>{"isOpen"in g&&l(0,n=g.isOpen)},[n,e,s,r,a,o,f,h,p,c]}class Ul extends Ee{constructor(t){super(),Se(this,t,Bl,Nl,_e,{isOpen:0})}}function Ut(i,t,l){const n=i.slice();return n[5]=t[l],n}function Pt(i){let t,l=" ↶ ",n,e;return{c(){t=k("button"),t.textContent=l},l(s){t=C(s,"BUTTON",{"data-svelte-h":!0}),F(t)!=="svelte-1mg1zky"&&(t.textContent=l)},m(s,r){L(s,t,r),n||(e=Z(t,"click",i[3]),n=!0)},p:ce,d(s){s&&d(t),n=!1,e()}}}function Dt(i,t){let l,n,e,s;return n=new Ve({props:{chord:t[5],showArtist:!0}}),{key:i,first:null,c(){l=k("li"),ge(n.$$.fragment),e=S(),this.h()},l(r){l=C(r,"LI",{class:!0});var a=B(l);Te(n.$$.fragment,a),e=y(a),a.forEach(d),this.h()},h(){T(l,"class","ul2col-item"),this.first=l},m(r,a){L(r,l,a),ve(n,l,null),_(l,e),s=!0},p(r,a){t=r;const o={};a&2&&(o.chord=t[5]),n.$set(o)},i(r){s||(U(n.$$.fragment,r),s=!0)},o(r){$(n.$$.fragment,r),s=!1},d(r){r&&d(l),be(n)}}}function Pl(i){let t,l,n,e,s,r,a="Get more random songs",o,f,h,p,c=[],g=new Map,u,N,v,m=i[0].length>De&&Pt(i),b=K(i[1]);const P=E=>E[5].url;for(let E=0;E<b.length;E+=1){let A=Ut(i,b,E),O=P(A);g.set(O,c[E]=Dt(O,A))}return{c(){t=k("div"),l=k("h3"),n=j(`Random song
        `),e=k("span"),m&&m.c(),s=S(),r=k("button"),r.textContent=a,o=S(),f=k("br"),h=S(),p=k("ul");for(let E=0;E<c.length;E+=1)c[E].c();this.h()},l(E){t=C(E,"DIV",{});var A=B(t);l=C(A,"H3",{});var O=B(l);n=q(O,`Random song
        `),e=C(O,"SPAN",{class:!0});var X=B(e);m&&m.l(X),s=y(X),r=C(X,"BUTTON",{"data-svelte-h":!0}),F(r)!=="svelte-1gfm3kd"&&(r.textContent=a),X.forEach(d),O.forEach(d),o=y(A),f=C(A,"BR",{}),h=y(A),p=C(A,"UL",{class:!0});var V=B(p);for(let x=0;x<c.length;x+=1)c[x].l(V);V.forEach(d),A.forEach(d),this.h()},h(){T(e,"class","pull-right"),T(p,"class","ul2col-container")},m(E,A){L(E,t,A),_(t,l),_(l,n),_(l,e),m&&m.m(e,null),_(e,s),_(e,r),_(t,o),_(t,f),_(t,h),_(t,p);for(let O=0;O<c.length;O+=1)c[O]&&c[O].m(p,null);u=!0,N||(v=Z(r,"click",i[2]),N=!0)},p(E,[A]){E[0].length>De?m?m.p(E,A):(m=Pt(E),m.c(),m.m(e,s)):m&&(m.d(1),m=null),A&2&&(b=K(E[1]),se(),c=Jt(c,A,P,1,E,b,g,p,Kt,Dt,null,Ut),re())},i(E){if(!u){for(let A=0;A<b.length;A+=1)U(c[A]);u=!0}},o(E){for(let A=0;A<c.length;A+=1)$(c[A]);u=!1},d(E){E&&d(t),m&&m.d();for(let A=0;A<c.length;A+=1)c[A].d();N=!1,v()}}}const De=6;function Dl(i,t,l){let{chords:n}=t,e=[],s=[];const r=()=>{e.length>=n.length-De&&l(0,e=[]);for(let o=0;o<De;o++){let f=-1;for(;f===-1||e.includes(f);)f=Math.floor(Math.random()*n.length);e.push(f)}l(1,s=e.slice(e.length-De).map(o=>n[o]))},a=()=>{e.length<=De||(e.splice(e.length-De),l(1,s=e.slice(e.length-De).map(o=>n[o])))};return Ke(()=>{r()}),i.$$set=o=>{"chords"in o&&l(4,n=o.chords)},[e,s,r,a,n]}class Ol extends Ee{constructor(t){super(),Se(this,t,Dl,Pl,_e,{chords:4})}}function Ot(i,t,l){const n=i.slice();return n[14]=t[l],n}function $t(i,t,l){const n=i.slice();return n[17]=t[l],n[18]=t,n[19]=l,n}function It(i){let t,l,n,e,s,r,a;function o(){i[11].call(l,i[17])}function f(){return i[12](i[17])}return{c(){t=k("button"),l=k("input"),n=S(),e=k("span"),s=S(),this.h()},l(h){t=C(h,"BUTTON",{class:!0});var p=B(t);l=C(p,"INPUT",{id:!0,type:!0}),n=y(p),e=C(p,"SPAN",{class:!0}),B(e).forEach(d),s=y(p),p.forEach(d),this.h()},h(){T(l,"id",i[17]),T(l,"type","checkbox"),T(e,"class",ze(Ge(i[17]))+" svelte-kiyfxh"),T(t,"class","filter-control svelte-kiyfxh")},m(h,p){L(h,t,p),_(t,l),l.checked=i[2][i[17]],_(t,n),_(t,e),_(t,s),r||(a=[Z(l,"change",o),Z(t,"click",f)],r=!0)},p(h,p){i=h,p&36&&(l.checked=i[2][i[17]])},d(h){h&&d(t),r=!1,Re(a)}}}function Vt(i){let t,l=i[14].label+"",n,e,s,r;function a(){return i[13](i[14])}return{c(){t=k("button"),n=j(l),e=S(),this.h()},l(o){t=C(o,"BUTTON",{class:!0});var f=B(t);n=q(f,l),e=y(f),f.forEach(d),this.h()},h(){T(t,"class","control svelte-kiyfxh"),He(t,"selected",i[1]===i[14])},m(o,f){L(o,t,f),_(t,n),_(t,e),s||(r=Z(t,"click",a),s=!0)},p(o,f){i=o,f&18&&He(t,"selected",i[1]===i[14])},d(o){o&&d(t),s=!1,r()}}}function $l(i){let t,l,n,e,s,r,a="Check dead links",o,f,h="Add a song",p,c,g,u,N,v=i[3].length+"",m,b,P,E,A,O,X,V,x,ue="All songs",oe,le,ne,ie,ke='<i class="fas fa-times-circle"></i>',Y,z,ae="Filters",de,te,G,ye,Ae="View",$e,Ce,me,J,Ne,we,Q,R;t=new Xt({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}}),c=new sl({}),E=new Al({props:{chords:i[3]}}),O=new Ol({props:{chords:i[3]}});let H=K(i[5]),I=[];for(let w=0;w<H.length;w+=1)I[w]=It($t(i,H,w));let pe=K(i[4]),ee=[];for(let w=0;w<pe.length;w+=1)ee[w]=Vt(Ot(i,pe,w));var Be=i[1].component;function he(w,M){return{props:{chords:w[3],searchString:w[0],filters:w[2]}}}return Be&&(J=We(Be,he(i))),{c(){ge(t.$$.fragment),l=S(),n=k("h2"),e=j(`Song book
    `),s=k("span"),r=k("button"),r.textContent=a,o=S(),f=k("button"),f.textContent=h,p=S(),ge(c.$$.fragment),g=S(),u=k("p"),N=j("This is a list of "),m=j(v),b=j(` song chords I have been gathering for the past 10 years and that
    I like to play.`),P=S(),ge(E.$$.fragment),A=S(),ge(O.$$.fragment),X=S(),V=k("div"),x=k("h3"),x.textContent=ue,oe=j(`
    Search an artist, a title or a tag:`),le=k("input"),ne=S(),ie=k("button"),ie.innerHTML=ke,Y=S(),z=k("h4"),z.textContent=ae,de=S(),te=k("div");for(let w=0;w<I.length;w+=1)I[w].c();G=S(),ye=k("h4"),ye.textContent=Ae,$e=S(),Ce=k("div");for(let w=0;w<ee.length;w+=1)ee[w].c();me=S(),J&&ge(J.$$.fragment),Ne=W(),this.h()},l(w){Te(t.$$.fragment,w),l=y(w),n=C(w,"H2",{});var M=B(n);e=q(M,`Song book
    `),s=C(M,"SPAN",{class:!0});var D=B(s);r=C(D,"BUTTON",{"data-svelte-h":!0}),F(r)!=="svelte-13v6ylk"&&(r.textContent=a),o=y(D),f=C(D,"BUTTON",{"data-svelte-h":!0}),F(f)!=="svelte-42sqhd"&&(f.textContent=h),D.forEach(d),M.forEach(d),p=y(w),Te(c.$$.fragment,w),g=y(w),u=C(w,"P",{});var Ue=B(u);N=q(Ue,"This is a list of "),m=q(Ue,v),b=q(Ue,` song chords I have been gathering for the past 10 years and that
    I like to play.`),Ue.forEach(d),P=y(w),Te(E.$$.fragment,w),A=y(w),Te(O.$$.fragment,w),X=y(w),V=C(w,"DIV",{});var fe=B(V);x=C(fe,"H3",{"data-svelte-h":!0}),F(x)!=="svelte-bfvigd"&&(x.textContent=ue),oe=q(fe,`
    Search an artist, a title or a tag:`),le=C(fe,"INPUT",{type:!0}),ne=y(fe),ie=C(fe,"BUTTON",{"data-svelte-h":!0}),F(ie)!=="svelte-5nqbye"&&(ie.innerHTML=ke),Y=y(fe),z=C(fe,"H4",{"data-svelte-h":!0}),F(z)!=="svelte-xazxp3"&&(z.textContent=ae),de=y(fe),te=C(fe,"DIV",{class:!0});var Xe=B(te);for(let Oe=0;Oe<I.length;Oe+=1)I[Oe].l(Xe);Xe.forEach(d),G=y(fe),ye=C(fe,"H4",{"data-svelte-h":!0}),F(ye)!=="svelte-1yp5l9r"&&(ye.textContent=Ae),$e=y(fe),Ce=C(fe,"DIV",{class:!0});var Ye=B(Ce);for(let Oe=0;Oe<ee.length;Oe+=1)ee[Oe].l(Ye);Ye.forEach(d),fe.forEach(d),me=y(w),J&&Te(J.$$.fragment,w),Ne=W(),this.h()},h(){je(r,"position","relative"),je(f,"position","relative"),T(s,"class","pull-right"),T(le,"type","text"),T(te,"class","filter-controls-container svelte-kiyfxh"),T(Ce,"class","view-controls-container svelte-kiyfxh")},m(w,M){ve(t,w,M),L(w,l,M),L(w,n,M),_(n,e),_(n,s),_(s,r),_(s,o),_(s,f),L(w,p,M),ve(c,w,M),L(w,g,M),L(w,u,M),_(u,N),_(u,m),_(u,b),L(w,P,M),ve(E,w,M),L(w,A,M),ve(O,w,M),L(w,X,M),L(w,V,M),_(V,x),_(V,oe),_(V,le),Pe(le,i[0]),_(V,ne),_(V,ie),_(V,Y),_(V,z),_(V,de),_(V,te);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(te,null);_(V,G),_(V,ye),_(V,$e),_(V,Ce);for(let D=0;D<ee.length;D+=1)ee[D]&&ee[D].m(Ce,null);L(w,me,M),J&&ve(J,w,M),L(w,Ne,M),we=!0,Q||(R=[Z(r,"click",i[7]),Z(f,"click",i[8]),Z(le,"input",i[9]),Z(ie,"click",i[10])],Q=!0)},p(w,[M]){if(M&1&&le.value!==w[0]&&Pe(le,w[0]),M&36){H=K(w[5]);let D;for(D=0;D<H.length;D+=1){const Ue=$t(w,H,D);I[D]?I[D].p(Ue,M):(I[D]=It(Ue),I[D].c(),I[D].m(te,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=H.length}if(M&18){pe=K(w[4]);let D;for(D=0;D<pe.length;D+=1){const Ue=Ot(w,pe,D);ee[D]?ee[D].p(Ue,M):(ee[D]=Vt(Ue),ee[D].c(),ee[D].m(Ce,null))}for(;D<ee.length;D+=1)ee[D].d(1);ee.length=pe.length}if(M&2&&Be!==(Be=w[1].component)){if(J){se();const D=J;$(D.$$.fragment,1,0,()=>{be(D,1)}),re()}Be?(J=We(Be,he(w)),ge(J.$$.fragment),U(J.$$.fragment,1),ve(J,Ne.parentNode,Ne)):J=null}else if(Be){const D={};M&1&&(D.searchString=w[0]),M&4&&(D.filters=w[2]),J.$set(D)}},i(w){we||(U(t.$$.fragment,w),U(c.$$.fragment,w),U(E.$$.fragment,w),U(O.$$.fragment,w),J&&U(J.$$.fragment,w),we=!0)},o(w){$(t.$$.fragment,w),$(c.$$.fragment,w),$(E.$$.fragment,w),$(O.$$.fragment,w),J&&$(J.$$.fragment,w),we=!1},d(w){w&&(d(l),d(n),d(p),d(g),d(u),d(P),d(A),d(X),d(V),d(me),d(Ne)),be(t,w),be(c,w),be(E,w),be(O,w),Le(I,w),Le(ee,w),J&&be(J,w),Q=!1,Re(R)}}}function Il(i,t,l){let{data:n}=t;const{chords:e}=n;Ke(()=>{const m=qe+"/chords/getLinksVisitsCount";fetch(m).then(b=>b.json()).then(b=>{const P=b.reduce((E,A)=>(E.set(A.url,{...A}),E),new Map);Ie.set(P)})});let s="";const r=[{label:"By artist",component:_l},{label:"By tags",component:pl},{label:"By frequency",component:bl},{label:"By access date",component:cl}];let a=r[0],o={pdf:!0,doc:!0,youtube:!0,link:!0};const f=Object.keys(o),h=()=>Qe(El),p=()=>Qe(Ul);function c(){s=this.value,l(0,s)}const g=()=>l(0,s="");function u(m){o[m]=this.checked,l(2,o)}const N=m=>{l(2,o[m]=!o[m],o),l(2,o)},v=m=>l(1,a=m);return i.$$set=m=>{"data"in m&&l(6,n=m.data)},[s,a,o,e,r,f,n,h,p,c,g,u,N,v]}class Xl extends Ee{constructor(t){super(),Se(this,t,Il,$l,_e,{data:6})}}export{Xl as component,Kl as universal};
