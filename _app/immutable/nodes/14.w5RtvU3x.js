import{s as te,e as E,c as C,b as M,f as u,l as A,i as $,n as z,N as et,a as B,A as Y,z as Q,g as L,h as w,E as ee,y as tt,t as K,d as q,G as ot,B as Z,D as De,Q as ie,P as Ce,j as lt,S as Ee}from"../chunks/scheduler.X2iOZLJn.js";import{S as ce,i as fe,b as de,d as he,m as ue,a as R,t as F,e as ge,g as pe,c as ke}from"../chunks/index.D7ifI0iS.js";import{e as G}from"../chunks/each.BGGHo151.js";import{P as nt}from"../chunks/P5.j56Xo-2W.js";import{c as rt,o as st}from"../chunks/store.BGPQvWHE.js";import"../chunks/entry.B0V6hhxC.js";import{p as it}from"../chunks/Main.svelte_svelte_type_style_lang.Dmt8PTra.js";import"../chunks/auth0-spa-js.production.esm.D13UjCU2.js";const U=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],ye=s=>{if(s<1||s>7)throw new Error(`Unkown degree ${s}`);return["I","II","III","IV","V","VI","VII"][s-1]};function at(s){let e,l,t;return l=new nt({props:{sketch:s[0]}}),{c(){e=E("div"),de(l.$$.fragment),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=M(e);he(l.$$.fragment,o),o.forEach(u),this.h()},h(){A(e,"class","d-flex justify-content-center")},m(n,o){$(n,e,o),ue(l,e,null),t=!0},p:z,i(n){t||(R(l.$$.fragment,n),t=!0)},o(n){F(l.$$.fragment,n),t=!1},d(n){n&&u(e),ge(l)}}}const be=14;function ct(s,e,l){let t,{labelMode:n="name"}=e,{notesToDisplay:o}=e;const d=["C","D","E","F","G","A","B"],h=["C#","D#","F#","G#","A#"],m=i=>{const r=[80,70,60,150],c=[80,70,60],f=i.width/be;for(let y=0;y<be;y++){const T=d[y%d.length];i.strokeWeight(1),i.stroke(r),i.noFill(),i.rect(f*y,0,f,i.height);const D=T+"#";h.includes(D)&&(i.fill(c),i.rect(f*y+2*f/3,0,f/2,i.height*.65))}},N=(i,r,c)=>{if(c==="name")return r;const f=i.indexOf(r);if(f===-1)throw new Error("note not in scale");return ye(f+1)},v=i=>{const r=i.width/be;for(let c=0;c<be;c++){const f=d[c%d.length],y=o.indexOf(f);if(y>=0){y===0?i.fill([250,80,80]):i.fill("black");const p=r*c+r/2,g=i.height*.8;i.circle(p,g,20),i.noStroke(),i.fill("white");const k=N(o,f,n);i.text(k,p-i.textWidth(k)/2,g+i.textSize()/2)}const T=f+"#",D=o.indexOf(T);if(D>=0){D===0?i.fill([250,80,80]):i.fill("black");const p=r*c+r,g=i.height*.5;i.circle(p,g,20),i.noStroke(),i.fill("white");const k=N(o,T,n);i.text(k,p-i.textWidth(k)/2,g+i.textSize()/2)}}},b=i=>{i.setup=()=>{l(3,t=i),i.createCanvas(900,300),i.textStyle(i.BOLD)},i.draw=()=>{i.background([200,190,170]),m(i),v(i),i.noLoop()}};return et(()=>{t==null||t.remove()}),s.$$set=i=>{"labelMode"in i&&l(1,n=i.labelMode),"notesToDisplay"in i&&l(2,o=i.notesToDisplay)},s.$$.update=()=>{s.$$.dirty&14&&(o||n)&&(t==null||t.draw())},[b,n,o,t]}class ft extends ce{constructor(e){super(),fe(this,e,ct,at,te,{labelMode:1,notesToDisplay:2})}}function dt(s){let e,l,t;return l=new nt({props:{sketch:s[0]}}),{c(){e=E("div"),de(l.$$.fragment),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=M(e);he(l.$$.fragment,o),o.forEach(u),this.h()},h(){A(e,"class","d-flex justify-content-center")},m(n,o){$(n,e,o),ue(l,e,null),t=!0},p:z,i(n){t||(R(l.$$.fragment,n),t=!0)},o(n){F(l.$$.fragment,n),t=!1},d(n){n&&u(e),ge(l)}}}const xe=15,ae=30;function ht(s,e,l){let t,{labelMode:n="name"}=e,{notesToDisplay:o}=e;const d=["E","A","D","G","B","E"],h=d.map(r=>{const c=U.indexOf(r);if(c===-1)throw new Error(`Base ${r} not found`);const f=[r];for(let y=1;y<xe;y++){const T=U[(c+y)%U.length];f.push(T)}return f}),m=r=>{const c=[80,70,60,150],f=r.height/6;for(let p=0;p<h.length;p++){const g=d[p],k=f*p+f/2;r.strokeWeight(1),r.stroke(c),r.noFill(),r.line(ae,k,r.width,k),r.noStroke(),r.fill(c),r.text(g,5,r.height-k+r.textSize()/2)}r.strokeWeight(5),r.stroke(c),r.noFill(),r.line(ae,f/2,ae,r.height-f/2),r.strokeWeight(1);const y=r.width/h[0].length;for(let p=1;p<xe;p++){const g=ae+y*p;r.line(g,f/2,g,r.height-f/2)}const T=[3,5,7,9,15];for(const p of T){let{x:g,y:k}=b({string:2,fret:p});k-=f/2,r.fill(c),r.circle(g,k,10)}const D=[1,3];for(const p of D){let{x:g,y:k}=b({string:p,fret:12});k-=f/2,r.fill(c),r.circle(g,k,10)}},N=(r,c,f)=>{if(f==="name")return c;const y=r.indexOf(c);if(y===-1)throw new Error("note not in scale");return ye(y+1)},v=r=>{for(let c=0;c<6;c++){const f=h[c];for(let y=0;y<f.length;y++){const T=f[y];if(!o.includes(T))continue;const D={string:c,fret:y},{x:p,y:g}=b(D);o.indexOf(T)===0?r.fill([250,80,80]):r.fill("black"),r.circle(p,g,20),r.noStroke(),r.fill("white");const k=N(o,T,n);r.text(k,p-r.textWidth(k)/2,g+r.textSize()/2)}}},b=r=>{const{string:c,fret:f}=r,y=t.height/6,T=y*(5-c)+y/2;if(f===0)return{x:ae,y:T};const D=t.width/h[0].length;return{x:ae+D*(f-1)+D*.5,y:T}},i=r=>{r.setup=()=>{l(3,t=r),r.createCanvas(900,300),r.textStyle(r.BOLD)},r.draw=()=>{r.background([200,190,170]),m(r),v(r),r.noLoop()}};return et(()=>{t==null||t.remove()}),s.$$set=r=>{"labelMode"in r&&l(1,n=r.labelMode),"notesToDisplay"in r&&l(2,o=r.notesToDisplay)},s.$$.update=()=>{s.$$.dirty&14&&(o||n)&&(t==null||t.draw())},[i,n,o,t]}class ut extends ce{constructor(e){super(),fe(this,e,ht,dt,te,{labelMode:1,notesToDisplay:2})}}function Ae(s){let e,l;return e=new ut({props:{notesToDisplay:s[0],labelMode:s[1]}}),{c(){de(e.$$.fragment)},l(t){he(e.$$.fragment,t)},m(t,n){ue(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.notesToDisplay=t[0]),n&2&&(o.labelMode=t[1]),e.$set(o)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function je(s){let e,l;return e=new ft({props:{notesToDisplay:s[0],labelMode:s[1]}}),{c(){de(e.$$.fragment)},l(t){he(e.$$.fragment,t)},m(t,n){ue(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.notesToDisplay=t[0]),n&2&&(o.labelMode=t[1]),e.$set(o)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function gt(s){let e,l="Instrument",t,n,o,d="C / IV",h,m,N='<i class="fas fa-guitar"></i> / <i class="fas fa-keyboard"></i>',v,b=["neck","both"].includes(s[3][s[2]]),i,r=["keyboard","both"].includes(s[3][s[2]]),c,f,y,T,D=b&&Ae(s),p=r&&je(s);return{c(){e=E("h3"),e.textContent=l,t=B(),n=E("div"),o=E("button"),o.textContent=d,h=B(),m=E("button"),m.innerHTML=N,v=B(),D&&D.c(),i=B(),p&&p.c(),c=Y()},l(g){e=C(g,"H3",{"data-svelte-h":!0}),Q(e)!=="svelte-r64p2h"&&(e.textContent=l),t=L(g),n=C(g,"DIV",{});var k=M(n);o=C(k,"BUTTON",{"data-svelte-h":!0}),Q(o)!=="svelte-16iriab"&&(o.textContent=d),h=L(k),m=C(k,"BUTTON",{"data-svelte-h":!0}),Q(m)!=="svelte-1rhgwvu"&&(m.innerHTML=N),k.forEach(u),v=L(g),D&&D.l(g),i=L(g),p&&p.l(g),c=Y()},m(g,k){$(g,e,k),$(g,t,k),$(g,n,k),w(n,o),w(n,h),w(n,m),$(g,v,k),D&&D.m(g,k),$(g,i,k),p&&p.m(g,k),$(g,c,k),f=!0,y||(T=[ee(o,"click",s[4]),ee(m,"click",s[5])],y=!0)},p(g,[k]){k&4&&(b=["neck","both"].includes(g[3][g[2]])),b?D?(D.p(g,k),k&4&&R(D,1)):(D=Ae(g),D.c(),R(D,1),D.m(i.parentNode,i)):D&&(pe(),F(D,1,1,()=>{D=null}),ke()),k&4&&(r=["keyboard","both"].includes(g[3][g[2]])),r?p?(p.p(g,k),k&4&&R(p,1)):(p=je(g),p.c(),R(p,1),p.m(c.parentNode,c)):p&&(pe(),F(p,1,1,()=>{p=null}),ke())},i(g){f||(R(D),R(p),f=!0)},o(g){F(D),F(p),f=!1},d(g){g&&(u(e),u(t),u(n),u(v),u(i),u(c)),D&&D.d(g),p&&p.d(g),y=!1,tt(T)}}}function mt(s,e,l){let{notesToDisplay:t}=e,n="name";const o=["neck","keyboard","both"];let d=0;const h=()=>l(1,n=n==="name"?"degree":"name"),m=()=>l(2,d=(d+1)%o.length);return s.$$set=N=>{"notesToDisplay"in N&&l(0,t=N.notesToDisplay)},[t,n,d,o,h,m]}class _t extends ce{constructor(e){super(),fe(this,e,mt,gt,te,{notesToDisplay:0})}}function Pe(s){let e,l,t,n,o,d="Close",h,m,N=`This is a list of chord progressions I took from David Benett&#39;s videos and elsewhere
                too

                <ul><li><a href="https://www.youtube.com/watch?v=Vyc8lezaa9g" rel="noopener noreferrer" target="_blank">David Benett - 7 super common chord progressions and why they work</a></li> <li><a href="https://www.youtube.com/watch?v=v3YbEL-_eoI" rel="noopener noreferrer" target="_blank">David Benett - 6 more common chord progressions and why they work</a></li></ul>

                The user can change the tonic note in the &quot;Scales&quot; section and the progressions will
                change the actual chords to play.`,v,b;return{c(){e=E("div"),l=E("div"),t=E("h4"),n=K(`Chord Progressions
                `),o=E("button"),o.textContent=d,h=B(),m=E("div"),m.innerHTML=N,this.h()},l(i){e=C(i,"DIV",{role:!0,class:!0});var r=M(e);l=C(r,"DIV",{class:!0});var c=M(l);t=C(c,"H4",{class:!0});var f=M(t);n=q(f,`Chord Progressions
                `),o=C(f,"BUTTON",{"data-svelte-h":!0}),Q(o)!=="svelte-2m9p61"&&(o.textContent=d),f.forEach(u),h=L(c),m=C(c,"DIV",{"data-svelte-h":!0}),Q(m)!=="svelte-wthkhb"&&(m.innerHTML=N),c.forEach(u),r.forEach(u),this.h()},h(){A(t,"class","title-bar svelte-mmovoq"),A(l,"class","contents svelte-mmovoq"),A(e,"role","dialog"),A(e,"class","modal svelte-mmovoq")},m(i,r){$(i,e,r),w(e,l),w(l,t),w(t,n),w(t,o),w(l,h),w(l,m),v||(b=ee(o,"click",rt),v=!0)},d(i){i&&u(e),v=!1,b()}}}function vt(s){let e,l=s[0]&&Pe();return{c(){l&&l.c(),e=Y()},l(t){l&&l.l(t),e=Y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,[n]){t[0]?l||(l=Pe(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:z,o:z,d(t){t&&u(e),l&&l.d(t)}}}function bt(s,e,l){let{isOpen:t}=e;return s.$$set=n=>{"isOpen"in n&&l(0,t=n.isOpen)},[t]}class pt extends ce{constructor(e){super(),fe(this,e,bt,vt,te,{isOpen:0})}}const He=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}];function Ve(s,e,l){const t=s.slice();return t[4]=e[l],t}function Re(s,e,l){const t=s.slice();return t[7]=e[l],t}function kt(s){let e,l,t="Examples:",n,o=s[4].examples.join(", ")+"",d;return{c(){e=E("span"),l=E("b"),l.textContent=t,n=B(),d=K(o)},l(h){e=C(h,"SPAN",{});var m=M(e);l=C(m,"B",{"data-svelte-h":!0}),Q(l)!=="svelte-1jvpsk3"&&(l.textContent=t),n=L(m),d=q(m,o),m.forEach(u)},m(h,m){$(h,e,m),w(e,l),w(e,n),w(e,d)},d(h){h&&u(e)}}}function We(s){let e,l,t=s[0](s[7])+"",n,o,d,h=s[1](s[7])+"",m,N;return{c(){e=E("div"),l=E("div"),n=K(t),o=B(),d=E("div"),m=K(h),N=B(),this.h()},l(v){e=C(v,"DIV",{class:!0});var b=M(e);l=C(b,"DIV",{class:!0});var i=M(l);n=q(i,t),i.forEach(u),o=L(b),d=C(b,"DIV",{class:!0});var r=M(d);m=q(r,h),r.forEach(u),N=L(b),b.forEach(u),this.h()},h(){A(l,"class","step-degree svelte-1p3ym4z"),A(d,"class","step-value svelte-1p3ym4z"),A(e,"class","progression-step")},m(v,b){$(v,e,b),w(e,l),w(l,n),w(e,o),w(e,d),w(d,m),w(e,N)},p:z,d(v){v&&u(e)}}}function Fe(s){let e,l,t=s[4].name+"",n,o,d,h,m,N,v=s[4].examples&&kt(s),b=G(s[4].chords),i=[];for(let r=0;r<b.length;r+=1)i[r]=We(Re(s,b,r));return{c(){e=E("div"),l=E("h4"),n=K(t),o=B(),v&&v.c(),d=B(),h=E("div");for(let r=0;r<i.length;r+=1)i[r].c();m=B(),N=E("br"),this.h()},l(r){e=C(r,"DIV",{});var c=M(e);l=C(c,"H4",{});var f=M(l);n=q(f,t),f.forEach(u),o=L(c),v&&v.l(c),d=L(c),h=C(c,"DIV",{class:!0});var y=M(h);for(let T=0;T<i.length;T+=1)i[T].l(y);y.forEach(u),c.forEach(u),m=L(r),N=C(r,"BR",{}),this.h()},h(){A(h,"class","progression-table svelte-1p3ym4z")},m(r,c){$(r,e,c),w(e,l),w(l,n),w(e,o),v&&v.m(e,null),w(e,d),w(e,h);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(h,null);$(r,m,c),$(r,N,c)},p(r,c){if(c&3){b=G(r[4].chords);let f;for(f=0;f<b.length;f+=1){const y=Re(r,b,f);i[f]?i[f].p(y,c):(i[f]=We(y),i[f].c(),i[f].m(h,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=b.length}},d(r){r&&(u(e),u(m),u(N)),v&&v.d(),Z(i,r)}}}function yt(s){let e,l,t,n,o='<i class="fa fa-info-circle" aria-hidden="true"></i>',d,h,m,N,v=G(He),b=[];for(let i=0;i<v.length;i+=1)b[i]=Fe(Ve(s,v,i));return{c(){e=E("h3"),l=K(`Chord Progressions
    `),t=E("span"),n=E("button"),n.innerHTML=o,d=B();for(let i=0;i<b.length;i+=1)b[i].c();h=Y(),this.h()},l(i){e=C(i,"H3",{});var r=M(e);l=q(r,`Chord Progressions
    `),t=C(r,"SPAN",{});var c=M(t);n=C(c,"BUTTON",{"data-svelte-h":!0}),Q(n)!=="svelte-1r24cmf"&&(n.innerHTML=o),c.forEach(u),r.forEach(u),d=L(i);for(let f=0;f<b.length;f+=1)b[f].l(i);h=Y(),this.h()},h(){ot(n,"position","relative")},m(i,r){$(i,e,r),w(e,l),w(e,t),w(t,n),$(i,d,r);for(let c=0;c<b.length;c+=1)b[c]&&b[c].m(i,r);$(i,h,r),m||(N=ee(n,"click",s[3]),m=!0)},p(i,[r]){if(r&3){v=G(He);let c;for(c=0;c<v.length;c+=1){const f=Ve(i,v,c);b[c]?b[c].p(f,r):(b[c]=Fe(f),b[c].c(),b[c].m(h.parentNode,h))}for(;c<b.length;c+=1)b[c].d(1);b.length=v.length}},i:z,o:z,d(i){i&&(u(e),u(d),u(h)),Z(b,i),m=!1,N()}}}function wt(s,e,l){let{scaleNotes:t=[]}=e;const n=h=>{let m=ye(h.degree);return h.minor&&(m=m.toLowerCase()),h.flat&&(m="b"+m),m},o=h=>{const m=t[h.degree-1];let N=U.indexOf(m);h.flat&&(N--,N===-1&&(N=U.length-1));let v=U[N];return h.minor&&(v+="m"),v},d=()=>st(pt);return s.$$set=h=>{"scaleNotes"in h&&l(2,t=h.scaleNotes)},[n,o,t,d]}class Tt extends ce{constructor(e){super(),fe(this,e,wt,yt,te,{scaleNotes:2})}}function Ge(s,e,l){const t=s.slice();t[12]=e[l],t[15]=l;const n=t[1].chords[t[15]];return t[13]=n,t}function ze(s,e,l){const t=s.slice();return t[16]=e[l],t[15]=l,t}function Ke(s,e,l){const t=s.slice();return t[2]=e[l],t}function qe(s,e,l){const t=s.slice();return t[1]=e[l],t}function Dt(s,e,l){const t=s.slice();return t[12]=e[l],t}function Et(s){let e,l,t;return{c(){e=E("option"),l=K(s[12]),t=B(),this.h()},l(n){e=C(n,"OPTION",{});var o=M(e);l=q(o,s[12]),t=L(o),o.forEach(u),this.h()},h(){e.__value=s[12],Ce(e,e.__value)},m(n,o){$(n,e,o),w(e,l),w(e,t)},p:z,d(n){n&&u(e)}}}function Ue(s){let e,l=s[1].name+"",t,n;return{c(){e=E("option"),t=K(l),n=B(),this.h()},l(o){e=C(o,"OPTION",{});var d=M(e);t=q(d,l),n=L(d),d.forEach(u),this.h()},h(){e.__value=s[1],Ce(e,e.__value)},m(o,d){$(o,e,d),w(e,t),w(e,n)},p:z,d(o){o&&u(e)}}}function Ye(s){let e,l=s[2].name+"",t,n;return{c(){e=E("option"),t=K(l),n=B(),this.h()},l(o){e=C(o,"OPTION",{});var d=M(e);t=q(d,l),n=L(d),d.forEach(u),this.h()},h(){e.__value=s[2],Ce(e,e.__value)},m(o,d){$(o,e,d),w(e,t),w(e,n)},p:z,d(o){o&&u(e)}}}function Je(s){let e,l=s[6](s[15]+1,s[16])+"",t;return{c(){e=E("th"),t=K(l),this.h()},l(n){e=C(n,"TH",{class:!0});var o=M(e);t=q(o,l),o.forEach(u),this.h()},h(){A(e,"class","svelte-gg3pfu")},m(n,o){$(n,e,o),w(e,t)},p(n,o){o&2&&l!==(l=n[6](n[15]+1,n[16])+"")&&lt(t,l)},d(n){n&&u(e)}}}function Xe(s){let e,l=s[7](s[12],s[13])+"",t;return{c(){e=E("td"),t=K(l),this.h()},l(n){e=C(n,"TD",{class:!0});var o=M(e);t=q(o,l),o.forEach(u),this.h()},h(){A(e,"class","svelte-gg3pfu")},m(n,o){$(n,e,o),w(e,t)},p(n,o){o&10&&l!==(l=n[7](n[12],n[13])+"")&&lt(t,l)},d(n){n&&u(e)}}}function Qe(s){let e=s[3],l,t,n=Ze(s);return{c(){n.c(),l=Y()},l(o){n.l(o),l=Y()},m(o,d){n.m(o,d),$(o,l,d),t=!0},p(o,d){d&8&&te(e,e=o[3])?(pe(),F(n,1,1,z),ke(),n=Ze(o),n.c(),R(n,1),n.m(l.parentNode,l)):n.p(o,d)},i(o){t||(R(n),t=!0)},o(o){F(n),t=!1},d(o){o&&u(l),n.d(o)}}}function Ze(s){let e,l;return e=new Tt({props:{scaleNotes:s[3]}}),{c(){de(e.$$.fragment)},l(t){he(e.$$.fragment,t)},m(t,n){ue(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.scaleNotes=t[3]),e.$set(o)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function Ct(s){let e,l,t='<th class="svelte-gg3pfu"><label for="tonicInput">Tonic</label></th> <th class="svelte-gg3pfu"><label for="scaleInput">Scale</label></th> <th class="svelte-gg3pfu"><label for="modeInput">mode</label></th>',n,o,d,h,m,N,v,b,i,r,c,f,y,T,D,p,g,k,X,me,we=["Major","Natural minor"].includes(s[1].name),le,_e,Te,Ne,Ie=G(U),J=[];for(let a=0;a<Ie.length;a+=1)J[a]=Et(Dt(s,Ie,a));let ne=G(s[4]),j=[];for(let a=0;a<ne.length;a+=1)j[a]=Ue(qe(s,ne,a));let oe=G(s[5]),P=[];for(let a=0;a<oe.length;a+=1)P[a]=Ye(Ke(s,oe,a));let re=G(s[1].chords),H=[];for(let a=0;a<re.length;a+=1)H[a]=Je(ze(s,re,a));let se=G(s[3]),V=[];for(let a=0;a<se.length;a+=1)V[a]=Xe(Ge(s,se,a));X=new _t({props:{notesToDisplay:s[3]}});let O=we&&Qe(s);return{c(){e=E("table"),l=E("tr"),l.innerHTML=t,n=B(),o=E("tr"),d=E("td"),h=E("select");for(let a=0;a<J.length;a+=1)J[a].c();m=B(),N=E("td"),v=E("select");for(let a=0;a<j.length;a+=1)j[a].c();b=B(),i=E("td"),r=E("select");for(let a=0;a<P.length;a+=1)P[a].c();c=B(),f=E("br"),y=B(),T=E("table"),D=E("tr");for(let a=0;a<H.length;a+=1)H[a].c();p=B(),g=E("tr");for(let a=0;a<V.length;a+=1)V[a].c();k=B(),de(X.$$.fragment),me=B(),O&&O.c(),le=Y(),this.h()},l(a){e=C(a,"TABLE",{});var S=M(e);l=C(S,"TR",{"data-svelte-h":!0}),Q(l)!=="svelte-1edz06s"&&(l.innerHTML=t),n=L(S),o=C(S,"TR",{});var I=M(o);d=C(I,"TD",{class:!0});var _=M(d);h=C(_,"SELECT",{id:!0});var W=M(h);for(let x=0;x<J.length;x+=1)J[x].l(W);W.forEach(u),_.forEach(u),m=L(I),N=C(I,"TD",{class:!0});var $e=M(N);v=C($e,"SELECT",{id:!0});var Se=M(v);for(let x=0;x<j.length;x+=1)j[x].l(Se);Se.forEach(u),$e.forEach(u),b=L(I),i=C(I,"TD",{class:!0});var Me=M(i);r=C(Me,"SELECT",{id:!0});var Be=M(r);for(let x=0;x<P.length;x+=1)P[x].l(Be);Be.forEach(u),Me.forEach(u),I.forEach(u),S.forEach(u),c=L(a),f=C(a,"BR",{}),y=L(a),T=C(a,"TABLE",{});var ve=M(T);D=C(ve,"TR",{});var Le=M(D);for(let x=0;x<H.length;x+=1)H[x].l(Le);Le.forEach(u),p=L(ve),g=C(ve,"TR",{});var Oe=M(g);for(let x=0;x<V.length;x+=1)V[x].l(Oe);Oe.forEach(u),ve.forEach(u),k=L(a),he(X.$$.fragment,a),me=L(a),O&&O.l(a),le=Y(),this.h()},h(){A(h,"id","tonicInput"),s[0]===void 0&&De(()=>s[8].call(h)),A(d,"class","svelte-gg3pfu"),A(v,"id","scaleInput"),s[1]===void 0&&De(()=>s[9].call(v)),A(N,"class","svelte-gg3pfu"),A(r,"id","modeInput"),s[2]===void 0&&De(()=>s[10].call(r)),A(i,"class","svelte-gg3pfu")},m(a,S){$(a,e,S),w(e,l),w(e,n),w(e,o),w(o,d),w(d,h);for(let I=0;I<J.length;I+=1)J[I]&&J[I].m(h,null);ie(h,s[0],!0),w(o,m),w(o,N),w(N,v);for(let I=0;I<j.length;I+=1)j[I]&&j[I].m(v,null);ie(v,s[1],!0),w(o,b),w(o,i),w(i,r);for(let I=0;I<P.length;I+=1)P[I]&&P[I].m(r,null);ie(r,s[2],!0),$(a,c,S),$(a,f,S),$(a,y,S),$(a,T,S),w(T,D);for(let I=0;I<H.length;I+=1)H[I]&&H[I].m(D,null);w(T,p),w(T,g);for(let I=0;I<V.length;I+=1)V[I]&&V[I].m(g,null);$(a,k,S),ue(X,a,S),$(a,me,S),O&&O.m(a,S),$(a,le,S),_e=!0,Te||(Ne=[ee(h,"change",s[8]),ee(v,"change",s[9]),ee(r,"change",s[10])],Te=!0)},p(a,[S]){if(S&1&&ie(h,a[0]),S&16){ne=G(a[4]);let _;for(_=0;_<ne.length;_+=1){const W=qe(a,ne,_);j[_]?j[_].p(W,S):(j[_]=Ue(W),j[_].c(),j[_].m(v,null))}for(;_<j.length;_+=1)j[_].d(1);j.length=ne.length}if(S&18&&ie(v,a[1]),S&32){oe=G(a[5]);let _;for(_=0;_<oe.length;_+=1){const W=Ke(a,oe,_);P[_]?P[_].p(W,S):(P[_]=Ye(W),P[_].c(),P[_].m(r,null))}for(;_<P.length;_+=1)P[_].d(1);P.length=oe.length}if(S&36&&ie(r,a[2]),S&66){re=G(a[1].chords);let _;for(_=0;_<re.length;_+=1){const W=ze(a,re,_);H[_]?H[_].p(W,S):(H[_]=Je(W),H[_].c(),H[_].m(D,null))}for(;_<H.length;_+=1)H[_].d(1);H.length=re.length}if(S&138){se=G(a[3]);let _;for(_=0;_<se.length;_+=1){const W=Ge(a,se,_);V[_]?V[_].p(W,S):(V[_]=Xe(W),V[_].c(),V[_].m(g,null))}for(;_<V.length;_+=1)V[_].d(1);V.length=se.length}const I={};S&8&&(I.notesToDisplay=a[3]),X.$set(I),S&2&&(we=["Major","Natural minor"].includes(a[1].name)),we?O?(O.p(a,S),S&2&&R(O,1)):(O=Qe(a),O.c(),R(O,1),O.m(le.parentNode,le)):O&&(pe(),F(O,1,1,()=>{O=null}),ke())},i(a){_e||(R(X.$$.fragment,a),R(O),_e=!0)},o(a){F(X.$$.fragment,a),F(O),_e=!1},d(a){a&&(u(e),u(c),u(f),u(y),u(T),u(k),u(me),u(le)),Z(J,a),Z(j,a),Z(P,a),Z(H,a),Z(V,a),ge(X,a),O&&O.d(a),Te=!1,tt(Ne)}}}function Nt(s,e,l){it.set("Scales");const t=[{name:"Major",intervals:[2,2,1,2,2,2,1],chords:["major","minor","minor","diminished","major","minor","major"]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2],chords:["minor","diminished","major","minor","major","major","minor"]},{name:"Pentatonic major",intervals:[2,2,3,2,3],chords:["major","minor","minor","major","minor"]},{name:"Pentatonic minor",intervals:[3,2,2,3,2],chords:["minor","major","minor","major","major"]}],n=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let o="C",d=t[0],h=n[0],m=[];const N=(f,y,T)=>{const{intervals:D}=y;l(3,m=[f]);const p=U.indexOf(f);if(p===-1)throw new Error(`Tonic ${f} not found`);let g=p;for(const k of D)g=(g+k)%U.length,m.push(U[g]);m.pop();for(let k=1;k<T.degree;k++)m.push(m.shift())},v=(f,y)=>{let T=ye(f);return y==="minor"?T=T.toLowerCase():y==="diminished"&&(T+="°"),T},b=(f,y)=>{let T=f;return y==="minor"?T+="m":y==="diminished"&&(T+="°"),T};function i(){o=Ee(this),l(0,o)}function r(){d=Ee(this),l(1,d),l(4,t)}function c(){h=Ee(this),l(2,h),l(5,n)}return s.$$.update=()=>{s.$$.dirty&7&&N(o,d,h)},[o,d,h,m,t,n,v,b,i,r,c]}class At extends ce{constructor(e){super(),fe(this,e,Nt,Ct,te,{})}}export{At as component};
