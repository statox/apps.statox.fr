import"../chunks/NZTpNUN0.js";import{p as W,b as M,a as C,d as j,e as m,i as h,h as S,g as t,r as u,s as p,f as F,t as G,a5 as I,bb as V,n as N}from"../chunks/By2YMBx5.js";import{s as P,d as U,e as z}from"../chunks/BZmt9bzp.js";import{s as E}from"../chunks/B2YRvmZ_.js";import{M as H}from"../chunks/DaCeVnR7.js";import{a as J}from"../chunks/sZf57_T6.js";import{r as O}from"../chunks/YVw7JBLJ.js";import{P as Q}from"../chunks/zfHC7wMc.js";import{e as X,i as Y}from"../chunks/CCu64A8p.js";import{T as Z}from"../chunks/DP3j-b_7.js";import"../chunks/B5-18WkO.js";import"../chunks/B2BdwGRu.js";import{p as $}from"../chunks/BsS6ETfS.js";/* empty css                */import"../chunks/KkYjXI5b.js";var ee=M('<div id="canvas-container" class="d-flex justify-content-center"><!></div>');function te(_,l){W(l,!0);let s=S(void 0);const a=o=>{o.setup=()=>{h(s,o,!0),o.createCanvas(600,100)},o.draw=()=>{const e=document.getElementById("canvas-container");if(e){const r=e?.clientWidth||600;o.width!==r&&o.resizeCanvas(r,100);const i=getComputedStyle(document.body),b=i.getPropertyValue("--nc-bg-2")||"white",d=i.getPropertyValue("--nc-tx-1")||"black";o.background(b),o.stroke(d)}const n=Date.now(),f=n-l.keptDuration;for(const r of l.taps){const i=o.map(r,n,f,o.width,0);o.line(i,0,i,o.height)}}};O(()=>{l.pause?t(s)?.noLoop():t(s)?.loop()}),J(()=>{t(s)?.remove()});var c=ee(),g=m(c);Q(g,{sketch:a}),u(c),C(_,c),j()}var ae=M("<span> </span> <span> </span> <span> </span>",1),oe=M('<div class="container svelte-bqe4u5"><span class="col table-head svelte-bqe4u5">BPM</span> <span class="col table-head svelte-bqe4u5">Tempo</span> <span class="col table-head svelte-bqe4u5">Description</span> <!></div>');function ne(_,l){const s=[{name:"Larghissimo",description:"Extremely slow, slowest type of tempo",high:24},{name:"Adagissimo and Grave",description:"Very slow, very slow and solemn",low:24,high:40},{name:"Largo",description:"Slow and broad",low:40,high:66},{name:"Larghetto",description:"Rather slow and broad",low:44,high:66},{name:"Adagio",description:"Slow with great expression",low:44,high:68},{name:"Adagietto",description:"Slower than andante or slightly faster than adagio",low:46,high:80},{name:"Lento",description:"Slow",low:52,high:108},{name:"Andante",description:"At a walking pace, moderately slow",low:56,high:108},{name:"Andantino",description:"Slightly faster than andante, but slower than moderato (although, in some cases, it can be taken to mean slightly slower than andante)",low:80,high:108},{name:"Andante moderato",description:"Between andante and moderato (at a moderate walking speed)",low:80,high:108},{name:"Moderato",description:"At a moderate speed",low:108,high:120},{name:"Allegretto",description:"By the mid-19th century, moderately fast",low:112,high:120},{name:"Allegro moderato",description:"Close to, but not quite allegro",low:116,high:120},{name:"Allegro",description:"Fast and bright",low:120,high:156},{name:"Molto Allegro or Allegro vivace",description:"At least slightly faster and livelier than allegro, but always at its range (and no faster than vivace)",low:124,high:156},{name:"Vivace",description:"Lively and fast",low:156,high:176},{name:"Vivacissimo and Allegrissimo",description:"Very fast, lively and bright",low:172,high:176},{name:"Presto",description:"Very fast",low:168,high:200},{name:"Prestissimo",description:"Extremely fast (At this tempo, cut common time is often used)",low:200}],a=(e,n)=>e>(n.low??0)&&e<=(n.high??9999),c=e=>{if(e.high&&e.low)return`${e.low} - ${e.high}`;if(e.low)return`>${e.low}`;if(e.high)return`<${e.high}`};var g=oe(),o=p(m(g),6);X(o,17,()=>s,Y,(e,n)=>{var f=ae(),r=F(f);let i;var b=m(r,!0);u(r);var d=p(r,2);let w;var x=m(d,!0);u(d);var k=p(d,2);let y;var T=m(k,!0);u(k),G((A,D,B,q)=>{i=E(r,1,"col svelte-bqe4u5",null,i,A),P(b,D),w=E(d,1,"col svelte-bqe4u5",null,w,B),P(x,t(n).name),y=E(k,1,"col svelte-bqe4u5",null,y,q),P(T,t(n).description)},[()=>({selected:a(l.currentBpm,t(n))}),()=>c(t(n)),()=>({selected:a(l.currentBpm,t(n))}),()=>({selected:a(l.currentBpm,t(n))})]),C(e,f)}),u(g),C(_,g)}var se=M('<!> <div class="container svelte-1w445lz"><div>Press the space bar or click/tap anywhere on the page to get a bpm.</div> <div> <br/>BPM</div> <div class="controls svelte-1w445lz"><button class="control-button svelte-1w445lz">Reset (c)</button> <button class="control-button svelte-1w445lz"> </button></div> <!> <!></div>',1);function ke(_,l){W(l,!0);const s={name:"Tap Tempo",description:"Tap Tempo Metronome",iconPath:"/tap_tempo.png"};$.set(s);let a=S(I(new Z)),c=S(!1);const g=()=>{t(e)||(t(a).addBeat(),h(a,t(a),!0),h(c,!0),setTimeout(()=>h(c,!1),100))},o=()=>{t(a).reset(),h(a,t(a),!0)};let e=S(!1),n=!0;const f=v=>{const L=" ",K="Enter",R="c";if([L,K,R].includes(v.key)&&(v.preventDefault(),!!n)){if(n=!1,v.key===L){h(e,!1),g();return}if(v.key===K){h(e,!t(e));return}v.key===R&&(o(),h(a,t(a),!0))}},r=v=>{!n&&v.key===" "&&(n=!0,v.preventDefault())};var i=se();z("keydown",V,f),z("keyup",V,r),z("pointerdown",V,g);var b=F(i);H(b,{get title(){return s.name},get description(){return s.description},get iconPath(){return s.iconPath}});var d=p(b,2),w=p(m(d),2);let x;var k=m(w,!0);N(2),u(w);var y=p(w,2),T=m(y);T.__click=o;var A=p(T,2);A.__click=()=>h(e,!t(e));var D=m(A);u(A),u(y);var B=p(y,2);te(B,{get taps(){return t(a).taps},get keptDuration(){return t(a).keptDuration},get pause(){return t(e)}});var q=p(B,2);ne(q,{get currentBpm(){return t(a).bpm}}),u(d),G(()=>{x=E(w,1,"bpm svelte-1w445lz",null,x,{tapped:t(c)}),P(k,t(a).bpm),P(D,`${t(e)?"Play":"Pause"} (Enter)`)}),C(_,i),j()}U(["click"]);export{ke as component};
