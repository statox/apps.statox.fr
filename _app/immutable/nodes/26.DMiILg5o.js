import"../chunks/DsnmJJEf.js";import{o as Fe}from"../chunks/CW6Daupv.js";import{h as I,T as Ve,by as ze,g as e,i as b,b7 as be,p as oe,b as V,r as s,a as $,d as re,e as i,s as f,t as Q,aI as P,n as se,c as xe,f as ke,bx as Ae,C as Pe}from"../chunks/BI5tnybL.js";import{d as ie,s as D,e as le}from"../chunks/BHBOcJDT.js";import{i as ce}from"../chunks/BcTGm7Fo.js";import{b as ae,s as N,a as G,r as de}from"../chunks/Db8wGxCz.js";import{b as Ee,c as ye}from"../chunks/u1KJTtVJ.js";import{b as He}from"../chunks/Dsp9gY7N.js";import{s as Ie,a as je}from"../chunks/fB5nFxe2.js";import{M as Le}from"../chunks/BwGSCHVW.js";import{t as fe}from"../chunks/DFOQ394W.js";import{e as Z,i as J}from"../chunks/V4cWF7mx.js";import{p as Te}from"../chunks/DoQzWcsH.js";import{M as Be}from"../chunks/D4b6Boo_.js";import{P as Ue,a as qe,e as we,p as Ge}from"../chunks/BB2Sb3IT.js";import"../chunks/CbJJCuUa.js";import"../chunks/DlRVxj54.js";import{p as Ze}from"../chunks/L3zL1n65.js";/* empty css                */import"../chunks/DKXeG7-1.js";import{g as Se}from"../chunks/CQfaKTAK.js";import{p as $e}from"../chunks/CJFloJYT.js";import{D as Je}from"../chunks/CkcISRbr.js";var Ke=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],Qe=["difference","intersection","symmetricDifference","union"],Ce=!1;class ve extends Set{#s=new Map;#e=I(0);#t=I(0);#n=ze||-1;constructor(n){if(super(),n){for(var l of n)super.add(l);this.#t.v=super.size}Ce||this.#o()}#a(n){return ze===this.#n?I(n):Ve(n)}#o(){Ce=!0;var n=ve.prototype,l=Set.prototype;for(const E of Ke)n[E]=function(...y){return e(this.#e),l[E].apply(this,y)};for(const E of Qe)n[E]=function(...y){e(this.#e);var j=l[E].apply(this,y);return new ve(j)}}has(n){var l=super.has(n),E=this.#s,y=E.get(n);if(y===void 0){if(!l)return e(this.#e),!1;y=this.#a(!0),E.set(n,y)}return e(y),l}add(n){return super.has(n)||(super.add(n),b(this.#t,super.size),be(this.#e)),this}delete(n){var l=super.delete(n),E=this.#s,y=E.get(n);return y!==void 0&&(E.delete(n),b(y,!1)),l&&(b(this.#t,super.size),be(this.#e)),l}clear(){if(super.size!==0){super.clear();var n=this.#s;for(var l of n.values())b(l,!1);n.clear(),b(this.#t,0),be(this.#e)}}keys(){return this.values()}values(){return e(this.#e),super.values()}entries(){return e(this.#e),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return e(this.#t)}}const Xe=!1,Ye=!0,Ne=!1,Zt=Object.freeze(Object.defineProperty({__proto__:null,csr:Ye,prerender:Xe,ssr:Ne},Symbol.toStringTag,{value:"Module"})),Y={fearful:{_color:"#FFA726",scared:{helpless:{en:"helpless"},frightened:{en:"frightened"}},anxious:{apprehensive:{en:"apprehensive"},worried:{en:"worried"}},insecure:{inadequate:{en:"inadequate"},"self-conscious":{en:"self-conscious"}},weak:{worthless:{en:"worthless"},insignificant:{en:"insignificant"}},rejected:{excluded:{en:"excluded"},persecuted:{en:"persecuted"}},threatened:{nervous:{en:"nervous"},exposed:{en:"exposed"}}},angry:{_color:"#EF5350","let down":{betrayed:{en:"betrayed"},resentful:{en:"resentful"}},humiliated:{disrespected:{en:"disrespected"},ridiculed:{en:"ridiculed"}},bitter:{indignant:{en:"indignant"},violated:{en:"violated"}},mad:{furious:{en:"furious"},jealous:{en:"jealous"}},aggressive:{provoked:{en:"provoked"},hostile:{en:"hostile"}},frustrated:{infuriated:{en:"infuriated"},annoyed:{en:"annoyed"}},distant:{withdrawn:{en:"withdrawn"},numb:{en:"numb"}},critical:{skeptical:{en:"skeptical"},dismissive:{en:"dismissive"}}},disgusted:{_color:"#9E9E9E",disapproving:{judgmental:{en:"judgmental"},disdainful:{en:"disdainful"}},disappointed:{appalled:{en:"appalled"},revolted:{en:"revolted"}},awful:{nauseated:{en:"nauseated"},detestable:{en:"detestable"}},repelled:{horrified:{en:"horrified"},hesitant:{en:"hesitant"}}},sad:{_color:"#42A5F5",lonely:{isolated:{en:"isolated"},abandoned:{en:"abandoned"}},vulnerable:{victimized:{en:"victimized"},fragile:{en:"fragile"}},despair:{grief:{en:"grief"},powerless:{en:"powerless"}},guilty:{ashamed:{en:"ashamed"},remorseful:{en:"remorseful"}},depressed:{inferior:{en:"inferior"},empty:{en:"empty"}},hurt:{embarrassed:{en:"embarrassed"},discouraged:{en:"discouraged"}}},happy:{_color:"#FFEB3B",interested:{curious:{en:"curious"},inquisitive:{en:"inquisitive"}},proud:{successful:{en:"successful"},confident:{en:"confident"}},accepted:{respected:{en:"respected"},valued:{en:"valued"}},powerful:{courageous:{en:"courageous"},creative:{en:"creative"}},peaceful:{loving:{en:"loving"},thankful:{en:"thankful"}},trusting:{sensitive:{en:"sensitive"},intimate:{en:"intimate"}},optimistic:{hopeful:{en:"hopeful"},inspired:{en:"inspired"}},playful:{aroused:{en:"aroused"},cheeky:{en:"cheeky"}},content:{free:{en:"free"},joyful:{en:"joyful"}}},surprised:{_color:"#AB47BC",startled:{shocked:{en:"shocked"},dismayed:{en:"dismayed"}},confused:{disillusioned:{en:"disillusioned"},perplexed:{en:"perplexed"}},amazed:{astonished:{en:"astonished"},awe:{en:"awe"}},excited:{eager:{en:"eager"},energetic:{en:"energetic"}}},bad:{_color:"#66BB6A",bored:{indifferent:{en:"indifferent"},apathetic:{en:"apathetic"}},busy:{pressured:{en:"pressured"},rushed:{en:"rushed"}},stressed:{overwhelmed:{en:"overwhelmed"},"out of control":{en:"out of control"}},tired:{sleepy:{en:"sleepy"},unfocused:{en:"unfocused"}}}};var Re=V("<button> </button>"),et=V('<div class="subcategory-section svelte-kgedpt"><h5 class="subcategory-name svelte-kgedpt"> </h5> <div class="emotions-grid svelte-kgedpt"></div></div>'),tt=V('<div class="category-content svelte-kgedpt"></div>'),st=V('<div class="category-section svelte-kgedpt"><button class="category-header svelte-kgedpt"><span class="category-name"> </span> <span class="expand-icon svelte-kgedpt"> </span></button> <!></div>'),nt=V('<div class="emotion-list svelte-kgedpt"></div>');function at(L,n){oe(n,!0);const l=d=>{const v=[d.category,d.subcategory,d.emotion,d.color].join(" - ");n.selection.has(v)?n.selection.delete(v):n.selection.add(v)},E=(d,v,x)=>[...n.selection].some(u=>{const k=u.split(" - ");return k[0]===d&&k[1]===v&&k[2]===x}),y=Object.keys(Y).map(d=>{const v=Y[d]._color||"#CCCCCC",x=Object.keys(Y[d]).filter(u=>!u.startsWith("_")).map(u=>{const k=Object.keys(Y[d][u]);return{name:u,emotions:k}});return{name:d,color:v,subcategories:x}}),j=new ve,_=d=>{j.has(d)?j.delete(d):j.add(d)};var w=nt();Z(w,21,()=>y,J,(d,v)=>{var x=st(),u=i(x);u.__click=()=>_(e(v).name);var k=i(u),T=i(k,!0);s(k);var C=f(k,2),M=i(C,!0);s(C),s(u);var U=f(u,2);{var A=p=>{var z=tt();Z(z,21,()=>e(v).subcategories,J,(o,t)=>{var a=et(),r=i(a),m=i(r,!0);s(r);var c=f(r,2);Z(c,21,()=>e(t).emotions,J,(h,g)=>{const F=P(()=>E(e(v).name,e(t).name,e(g)));var S=Re();let O;S.__click=()=>l({category:e(v).name,subcategory:e(t).name,emotion:e(g),color:e(v).color});var W=i(S,!0);s(S),Q(()=>{O=N(S,1,"emotion-btn svelte-kgedpt",null,O,{selected:e(F)}),ae(S,`--category-color: ${e(v).color??""}`),D(W,e(g))}),$(h,S)}),s(c),s(a),Q(()=>D(m,e(t).name)),$(o,a)}),s(z),$(p,z)};ce(U,p=>{j.has(e(v).name)&&p(A)})}s(x),Q(p=>{ae(u,`background-color: ${e(v).color??""}`),D(T,e(v).name),D(M,p)},[()=>j.has(e(v).name)?"â–¼":"â–¶"]),$(d,x)}),s(w),$(L,w),re()}ie(["click"]);var ot=Ae('<g class="emotion-wedge"><path></path><text class="emotion-text svelte-is5esu" text-anchor="middle" dominant-baseline="middle"> </text></g>'),rt=Ae('<g class="subcategory-wedge"><path></path><text class="subcategory-text svelte-is5esu" text-anchor="middle" dominant-baseline="middle"> </text></g>'),it=Ae('<g class="category-wedge"><path></path><text class="category-text svelte-is5esu" text-anchor="middle" dominant-baseline="middle"> </text></g>'),lt=V('<div class="emotion-wheel-container svelte-is5esu"><svg viewBox="0 0 100 100" class="wheel svelte-is5esu"><!><!><!><circle cx="50" cy="50" r="0" class="center-circle svelte-is5esu"></circle></svg></div>');function ct(L,n){oe(n,!0);const l=o=>{const t=[o.category,o.subcategory,o.emotion,o.color].join(" - ");n.selection.has(t)?n.selection.delete(t):n.selection.add(t)};function E(){const o=[];let t=0;Object.keys(Y).forEach(r=>{let m=0;Object.keys(Y[r]).filter(h=>!h.startsWith("_")).forEach(h=>{m+=Object.keys(Y[r][h]).length});const c=Y[r]._color||"#CCCCCC";o.push({name:r,color:c,emotionCount:m,startAngle:0,endAngle:0,subcategories:[]}),t+=m});let a=0;return o.forEach(r=>{const m=r.emotionCount/t*360;r.startAngle=a,r.endAngle=a+m;let c=a;Object.keys(Y[r.name]).filter(h=>!h.startsWith("_")).forEach(h=>{const g=Object.keys(Y[r.name][h]),F=g.length/r.emotionCount*m;r.subcategories.push({name:h,startAngle:c,endAngle:c+F,emotions:g}),c+=F}),a+=m}),o}const y=E();function j(o,t){const a=parseInt(o.replace("#",""),16),r=Math.min(255,Math.floor((a>>16)+(255-(a>>16))*t/100)),m=Math.min(255,Math.floor((a>>8&255)+(255-(a>>8&255))*t/100)),c=Math.min(255,Math.floor((a&255)+(255-(a&255))*t/100));return"#"+(r<<16|m<<8|c).toString(16).padStart(6,"0")}let _=I(null),w=I(null),d=I(null);function v(o,t,a){b(_,o,!0),b(w,t,!0),b(d,a,!0)}function x(o,t){b(_,o,!0),b(w,t,!0),b(d,null)}function u(o){b(_,o,!0),b(w,null),b(d,null)}function k(){b(_,null),b(w,null),b(d,null)}function T(o,t,a,r,m=50,c=50){const h=(o-90)*Math.PI/180,g=(t-90)*Math.PI/180,F=m+a*Math.cos(h),S=c+a*Math.sin(h),O=m+r*Math.cos(h),W=c+r*Math.sin(h),H=m+r*Math.cos(g),X=c+r*Math.sin(g),q=m+a*Math.cos(g),K=c+a*Math.sin(g),R=t-o>180?1:0;return`
            M ${F} ${S}
            L ${O} ${W}
            A ${r} ${r} 0 ${R} 1 ${H} ${X}
            L ${q} ${K}
            A ${a} ${a} 0 ${R} 0 ${F} ${S}
            Z
        `}function C(o,t,a){const r=(o+t)/2,m=(r-90)*Math.PI/180,c=50+a*Math.cos(m),h=50+a*Math.sin(m),g=r<180?r-90:r+90;return{x:c,y:h,rotation:g}}var M=lt(),U=i(M),A=i(U);Z(A,17,()=>y,J,(o,t)=>{var a=xe(),r=ke(a);Z(r,17,()=>e(t).subcategories,J,(m,c)=>{const h=P(()=>(e(c).endAngle-e(c).startAngle)/e(c).emotions.length);var g=xe(),F=ke(g);Z(F,17,()=>e(c).emotions,J,(S,O,W)=>{const H=P(()=>e(c).startAngle+W*e(h)),X=P(()=>e(c).startAngle+(W+1)*e(h)),q=P(()=>T(e(H),e(X),30,47)),K=P(()=>C(e(H),e(X),38.5)),R=P(()=>e(d)===e(O)),ge=P(()=>[...n.selection].find(he=>he.includes(e(O))));var ne=ot();ne.__click=()=>l({category:e(t).name,subcategory:e(c).name,emotion:e(O),color:e(t).color});var ee=i(ne);let ue;var te=f(ee),pe=i(te,!0);s(te),s(ne),Q(()=>{G(ee,"d",e(q)),ue=N(ee,0,"emotion-path svelte-is5esu",null,ue,{highlighted:e(R),selected:e(ge)}),ae(ee,`fill: ${e(t).color??""};`),G(te,"x",e(K).x),G(te,"y",e(K).y),G(te,"transform",`rotate(${e(K).rotation??""} ${e(K).x??""} ${e(K).y??""})`),D(pe,e(O))}),le("mouseenter",ne,()=>v(e(t).name,e(c).name,e(O))),le("mouseleave",ne,k),$(S,ne)}),$(m,g)}),$(o,a)});var p=f(A);Z(p,17,()=>y,J,(o,t)=>{var a=xe(),r=ke(a);Z(r,17,()=>e(t).subcategories,J,(m,c)=>{const h=P(()=>T(e(c).startAngle,e(c).endAngle,17,30)),g=P(()=>C(e(c).startAngle,e(c).endAngle,23.5)),F=P(()=>e(w)===e(c).name&&e(_)===e(t).name),S=P(()=>[...n.selection].find(R=>R.includes(e(c).name))),O=P(()=>j(e(t).color,30));var W=rt(),H=i(W);let X;var q=f(H),K=i(q,!0);s(q),s(W),Q(()=>{G(H,"d",e(h)),X=N(H,0,"subcategory-path svelte-is5esu",null,X,{highlighted:e(F),selected:e(S)}),ae(H,`fill: ${e(O)??""};`),G(q,"x",e(g).x),G(q,"y",e(g).y),G(q,"transform",`rotate(${e(g).rotation??""} ${e(g).x??""} ${e(g).y??""})`),D(K,e(c).name)}),le("mouseenter",W,()=>x(e(t).name,e(c).name)),le("mouseleave",W,k),$(m,W)}),$(o,a)});var z=f(p);Z(z,17,()=>y,J,(o,t)=>{const a=P(()=>T(e(t).startAngle,e(t).endAngle,0,17)),r=P(()=>C(e(t).startAngle,e(t).endAngle,8.5)),m=P(()=>e(_)===e(t).name),c=P(()=>[...n.selection].find(W=>W.includes(e(t).name)));var h=it(),g=i(h);let F;var S=f(g),O=i(S,!0);s(S),s(h),Q(()=>{G(g,"d",e(a)),F=N(g,0,"category-path svelte-is5esu",null,F,{highlighted:e(m),selected:e(c)}),ae(g,`fill: ${e(t).color??""};`),G(S,"x",e(r).x),G(S,"y",e(r).y),G(S,"transform",`rotate(${e(r).rotation??""} ${e(r).x??""} ${e(r).y??""})`),D(O,e(t).name)}),le("mouseenter",h,()=>u(e(t).name)),le("mouseleave",h,k),$(o,h)}),se(),s(U),s(M),$(L,M),re()}ie(["click"]);var dt=V('<p class="no-selection svelte-3rnm53">No emotions selected yet</p>'),vt=V('<button class="selected-item svelte-3rnm53"><span class="emotion-text svelte-3rnm53"> </span> <span class="remove-icon svelte-3rnm53">Ã—</span></button>'),ut=V('<div class="selected-items svelte-3rnm53"></div>'),mt=V('<div class="selection-display svelte-3rnm53"><h5 class="svelte-3rnm53">Selected Emotions:</h5> <!></div>');function pt(L,n){oe(n,!0);var l=mt(),E=f(i(l),2);{var y=_=>{var w=dt();$(_,w)},j=_=>{var w=ut();Z(w,21,()=>[...n.selection],J,(d,v)=>{const x=P(()=>{const[C,M]=e(v).split(" - ").slice(2);return{emotion:C,color:M}});var u=vt();u.__click=()=>n.selection.delete(e(v));var k=i(u),T=i(k,!0);s(k),se(2),s(u),Q(()=>{ae(u,`--color: ${e(x).color??""}`),D(T,e(x).emotion)}),$(d,u)}),s(w),$(_,w)};ce(E,_=>{n.selection.size===0?_(y):_(j,!1)})}s(l),$(L,l),re()}ie(["click"]);var ht=V('<div class="emotion-form svelte-5y82d"><div class="view-toggle svelte-5y82d"><button>ðŸŽ¯ Wheel View</button> <button>ðŸ“‹ List View</button></div> <!> <!></div>');function ft(L,n){oe(n,!0);let l=I("wheel");Fe(()=>{window.innerWidth<768&&b(l,"list")});var y={getEmotionsData:()=>[...n.selection].map(M=>{const[U,A,p,z]=M.split(" - ");return{category:U,subcategory:A,emotion:p,color:z}})},j=ht(),_=i(j),w=i(_);let d;w.__click=()=>b(l,"wheel");var v=f(w,2);let x;v.__click=()=>b(l,"list"),s(_);var u=f(_,2);{var k=M=>{at(M,{get selection(){return n.selection}})},T=M=>{ct(M,{get selection(){return n.selection}})};ce(u,M=>{e(l)==="list"?M(k):M(T,!1)})}var C=f(u,2);return pt(C,{get selection(){return n.selection}}),s(j),Q(()=>{d=N(w,1,"toggle-btn svelte-5y82d",null,d,{active:e(l)==="wheel"}),x=N(v,1,"toggle-btn svelte-5y82d",null,x,{active:e(l)==="list"})}),$(L,j),re(y)}ie(["click"]);var gt=V('<button><span class="emoji svelte-s4m3ot"> </span> <span class="number svelte-s4m3ot"> </span></button>'),_t=V('<div class="mood-form svelte-s4m3ot"><!> <div class="current-mood svelte-s4m3ot"><div class="mood-display svelte-s4m3ot"><span class="mood-emoji svelte-s4m3ot"> </span> <span class="mood-value svelte-s4m3ot"> </span> <span class="mood-label svelte-s4m3ot"> </span></div></div> <div class="mood-slider-container svelte-s4m3ot"><input type="range" min="1" max="10" step="1" class="mood-slider svelte-s4m3ot"/> <div class="slider-labels svelte-s4m3ot"><span>1</span> <span>10</span></div></div> <div class="mood-buttons svelte-s4m3ot"></div></div>');function bt(L,n){oe(n,!0);let l=Te(n,"value",15,5),E=Pe([]);const y=["ðŸ˜¢","ðŸ˜Ÿ","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ˜Š","ðŸ˜„","ðŸ˜","ðŸ¤©","ðŸ˜"],j=["Terrible","Very Bad","Bad","Poor","Okay","Good","Great","Very Good","Excellent","Amazing"],_=o=>["#d32f2f","#e53935","#f44336","#ff5722","#ff9800","#ffc107","#ffeb3b","#cddc39","#8bc34a","#4caf50"][o-1];var w=_t(),d=i(w);Z(d,17,()=>E,J,(o,t)=>{Be(o,{get item(){return e(t)}})});var v=f(d,2),x=i(v),u=i(x),k=i(u,!0);s(u);var T=f(u,2),C=i(T,!0);s(T);var M=f(T,2),U=i(M,!0);s(M),s(x),s(v);var A=f(v,2),p=i(A);de(p),se(2),s(A);var z=f(A,2);Z(z,20,()=>[1,2,3,4,5,6,7,8,9,10],J,(o,t)=>{var a=gt();let r;a.__click=()=>l(t);var m=i(a),c=i(m,!0);s(m);var h=f(m,2),g=i(h,!0);s(h),s(a),Q(F=>{r=N(a,1,"mood-button svelte-s4m3ot",null,r,{selected:l()===t}),ae(a,`--mood-color: ${F??""}`),G(a,"title",`${t??""} - ${j[t-1]??""}`),D(c,y[t-1]),D(g,t)},[()=>_(t)]),$(o,a)}),s(z),s(w),Q(o=>{D(k,y[l()-1]),D(C,l()),D(U,j[l()-1]),ae(p,`--mood-color: ${o??""}`)},[()=>_(l())]),Ee(p,l),$(L,w),re()}ie(["click"]);var xt=V('<div class="weight-form svelte-1st4ez6"><!> <div class="weight-display svelte-1st4ez6"><div class="value-container svelte-1st4ez6"><span class="weight-value svelte-1st4ez6"> </span> <span class="weight-unit svelte-1st4ez6">kg</span></div></div> <div class="slider-container svelte-1st4ez6"><input type="range" min="80" max="110" step="0.1" class="weight-slider svelte-1st4ez6"/> <div class="slider-labels svelte-1st4ez6"><span>80 kg</span> <span>110 kg</span></div></div> <div class="controls svelte-1st4ez6"><div class="quick-adjust svelte-1st4ez6"><button class="adjust-btn large-dec svelte-1st4ez6">-1 kg</button> <button class="adjust-btn svelte-1st4ez6">-0.1</button> <button class="adjust-btn svelte-1st4ez6">+0.1</button> <button class="adjust-btn large-inc svelte-1st4ez6">+1 kg</button></div> <div class="input-container svelte-1st4ez6"><label for="weight-input" class="svelte-1st4ez6">Direct input:</label> <input id="weight-input" type="number" step="0.1" min="80" max="110" class="weight-input svelte-1st4ez6"/> <span class="unit-label svelte-1st4ez6">kg</span></div></div></div>');function kt(L,n){oe(n,!0);let l=Te(n,"value",15,100),E=I(Pe([]));const y=()=>(b(E,[],!0),l()!==Number(l().toFixed(1))&&e(E).push({level:"error",header:"Value have at most 1 number after the comma"}),(l()<80||l()>110)&&e(E).push({level:"error",header:"Value must be in kg"}),e(E).length===0),j=()=>Math.floor(l()*100),_=m=>{l(Number((l()+m).toFixed(1)))};var w={validate:y,getStorageValue:j},d=xt(),v=i(d);Z(v,17,()=>e(E),J,(m,c)=>{Be(m,{get item(){return e(c)}})});var x=f(v,2),u=i(x),k=i(u),T=i(k,!0);s(k),se(2),s(u),s(x);var C=f(x,2),M=i(C);de(M),se(2),s(C);var U=f(C,2),A=i(U),p=i(A);p.__click=()=>_(-1);var z=f(p,2);z.__click=()=>_(-.1);var o=f(z,2);o.__click=()=>_(.1);var t=f(o,2);t.__click=()=>_(1),s(A);var a=f(A,2),r=f(i(a),2);return de(r),se(2),s(a),s(U),s(d),Q(m=>D(T,m),[()=>l().toFixed(1)]),Ee(M,l),Ee(r,l),$(L,d),re(w)}ie(["click"]);var yt=V('<div class="contents svelte-10367lt"><h4 class="title-bar svelte-10367lt"> <button>Back</button></h4> <div><div class="section-header svelte-10367lt"><label class="svelte-10367lt"><input type="checkbox" class="svelte-10367lt"/> <span class="section-title svelte-10367lt">Emotions</span></label></div> <!></div> <hr class="separator svelte-10367lt"/> <div><div class="section-header svelte-10367lt"><label class="svelte-10367lt"><input type="checkbox" class="svelte-10367lt"/> <span class="section-title svelte-10367lt">Mood</span></label></div> <!></div> <hr class="separator svelte-10367lt"/> <div><div class="section-header svelte-10367lt"><label class="svelte-10367lt"><input type="checkbox" class="svelte-10367lt"/> <span class="section-title svelte-10367lt">Weight</span></label></div> <!></div> <hr class="separator svelte-10367lt"/> <div class="submit-container svelte-10367lt"><button class="form-action"> </button></div></div>');function Jt(L,n){oe(n,!0);const l=()=>je(Ge,"$personalTrackerPassword",y),E=()=>je(we,"$eventsStore",y),[y,j]=Ie();Ze.set({name:"Personal Tracker",iconPath:"/personal_tracker.png",showAuthInHeader:!0});let _=I(5),w=I(100),d=new ve,v=I(!1),x=I(!1),u=I(!1),k=I(void 0);const T=()=>Je.now().toUTC().startOf("day").toUnixInteger(),C=()=>{const A=$e.params.timestamp;if(A){const p=parseInt(A,10);if(!isNaN(p))return p}return T()},M=P(()=>!!$e.params.timestamp);Fe(async()=>{try{await we.fetch(l());const A=C(),p=E().events.find(z=>z.eventDateUnix===A);if(p&&(p.mood!==void 0&&(b(_,p.mood,!0),b(v,!0)),p.weight!==void 0&&(b(w,p.weight/100),b(x,!0)),p.emotionwheel?.emotions)){const z=new ve;p.emotionwheel.emotions.forEach(o=>{const t=[o.category,o.subcategory,o.emotion,o.color].join(" - ");z.add(t)}),d.clear(),z.forEach(o=>d.add(o)),b(u,!0)}}catch(A){console.error("Failed to load existing event:",A),fe.push("Failed to load existing event",{theme:{"--toastBarBackground":"#FFA500"}})}});const U=async()=>{if(!e(v)&&!e(x)&&!e(u)){fe.push("Please enable at least one section to submit",{theme:{"--toastBarBackground":"#FFA500"}});return}if(e(x)&&e(k)&&!e(k).validate())return;const A={};if(e(v)&&(A.mood=e(_)),e(x)){if(!e(k))throw new Error("Reference to weight form undefined");A.weight=e(k).getStorageValue()}if(e(u)&&d.size>0){const p=[...d].map(z=>{const[o,t,a,r]=z.split(" - ");return{category:o,subcategory:t,emotion:a,color:r}});A.emotionwheel={emotions:p}}try{const p=C();await qe(A,l(),p),we.invalidate(),Se("/personal-tracker"),fe.push(e(M)?"Entry updated":"Entry created")}catch(p){let z=p.message;const t=`<strong>Entry not ${e(M)?"updated":"created"}</strong><br/> ${z}`;fe.push(t,{theme:{"--toastBarBackground":"#FF0000"}})}};Le(L,{message:"Login to add an entry",children:(A,p)=>{Ue(A,{children:(z,o)=>{var t=yt(),a=i(t),r=i(a),m=f(r);m.__click=()=>{Se("/personal-tracker")},s(a);var c=f(a,2);let h;var g=i(c),F=i(g),S=i(F);de(S),se(2),s(F),s(g);var O=f(g,2);{var W=B=>{ft(B,{get selection(){return d}})};ce(O,B=>{e(u)&&B(W)})}s(c);var H=f(c,4);let X;var q=i(H),K=i(q),R=i(K);de(R),se(2),s(K),s(q);var ge=f(q,2);{var ne=B=>{bt(B,{get value(){return e(_)},set value(me){b(_,me,!0)}})};ce(ge,B=>{e(v)&&B(ne)})}s(H);var ee=f(H,4);let ue;var te=i(ee),pe=i(te),he=i(pe);de(he),se(2),s(pe),s(te);var Oe=f(te,2);{var We=B=>{He(kt(B,{get value(){return e(w)},set value(me){b(w,me,!0)}}),me=>b(k,me,!0),()=>e(k))};ce(Oe,B=>{e(x)&&B(We)})}s(ee);var Me=f(ee,4),_e=i(Me);_e.__click=U;var De=i(_e,!0);s(_e),s(Me),s(t),Q(()=>{D(r,`${e(M)?"Edit Entry":"Today's Personal Metrics"} `),h=N(c,1,"input-form svelte-10367lt",null,h,{disabled:!e(u)}),X=N(H,1,"input-form svelte-10367lt",null,X,{disabled:!e(v)}),ue=N(ee,1,"input-form svelte-10367lt",null,ue,{disabled:!e(x)}),D(De,e(M)?"Update Entry":"Create Entry")}),ye(S,()=>e(u),B=>b(u,B)),ye(R,()=>e(v),B=>b(v,B)),ye(he,()=>e(x),B=>b(x,B)),$(z,t)},$$slots:{default:!0}})},$$slots:{default:!0}}),re(),j()}ie(["click"]);export{Jt as component,Zt as universal};
