import{s as Z,e as _,c as k,b as E,f as w,l as b,i as D,n as Y,L as re,a as C,z as R,g as P,h as u,B as ie,t as M,d as L,F as $,E as K,j as se,y as ce}from"../chunks/scheduler.DkvP5dNE.js";import{S as ee,i as te,b as z,d as j,m as F,a as O,t as W,e as G}from"../chunks/index.DAErLDHR.js";import{M as de}from"../chunks/Main.CTbJHeJl.js";import{P as he}from"../chunks/P5.Dqj8jL_C.js";import{e as ae}from"../chunks/each.9CP7Lref.js";import{T as me}from"../chunks/TapTempo.vaCicukU.js";import"../chunks/entry.5Ls6sJ7-.js";import{p as ue}from"../chunks/Main.svelte_svelte_type_style_lang.FoPeei_T.js";import"../chunks/auth0-spa-js.production.esm.D13UjCU2.js";function pe(o){let t,r,n;return r=new he({props:{sketch:o[0]}}),{c(){t=_("div"),z(r.$$.fragment),this.h()},l(i){t=k(i,"DIV",{id:!0,class:!0});var c=E(t);j(r.$$.fragment,c),c.forEach(w),this.h()},h(){b(t,"id","canvas-container"),b(t,"class","d-flex justify-content-center")},m(i,c){D(i,t,c),F(r,t,null),n=!0},p:Y,i(i){n||(O(r.$$.fragment,i),n=!0)},o(i){W(r.$$.fragment,i),n=!1},d(i){i&&w(t),G(r)}}}function fe(o,t,r){let n,{keptDuration:i}=t,{taps:c}=t,{pause:g}=t;const l=a=>{a.setup=()=>{r(4,n=a),a.createCanvas(600,100)},a.draw=()=>{const p=document.getElementById("canvas-container");if(p){const e=(p==null?void 0:p.clientWidth)||600;a.width!==e&&a.resizeCanvas(e,100);const s=getComputedStyle(document.body),h=s.getPropertyValue("--nc-bg-2")||"white",d=s.getPropertyValue("--nc-tx-1")||"black";a.background(h),a.stroke(d)}const y=Date.now(),v=y-i;for(const e of c){const s=a.map(e,y,v,a.width,0);a.line(s,0,s,a.height)}}};return re(()=>{n==null||n.remove()}),o.$$set=a=>{"keptDuration"in a&&r(1,i=a.keptDuration),"taps"in a&&r(2,c=a.taps),"pause"in a&&r(3,g=a.pause)},o.$$.update=()=>{o.$$.dirty&24&&(g?n==null||n.noLoop():n==null||n.loop())},[l,i,c,g,n]}class ge extends ee{constructor(t){super(),te(this,t,fe,pe,Z,{keptDuration:1,taps:2,pause:3})}}function oe(o,t,r){const n=o.slice();return n[4]=t[r],n}function le(o){let t,r=o[3](o[4])+"",n,i,c,g=o[4].name+"",l,a,p,y=o[4].description+"",v;return{c(){t=_("span"),n=M(r),i=C(),c=_("span"),l=M(g),a=C(),p=_("span"),v=M(y),this.h()},l(e){t=k(e,"SPAN",{class:!0});var s=E(t);n=L(s,r),s.forEach(w),i=P(e),c=k(e,"SPAN",{class:!0});var h=E(c);l=L(h,g),h.forEach(w),a=P(e),p=k(e,"SPAN",{class:!0});var d=E(p);v=L(d,y),d.forEach(w),this.h()},h(){b(t,"class","col svelte-1kxd0qm"),$(t,"selected",o[2](o[0],o[4])),b(c,"class","col svelte-1kxd0qm"),$(c,"selected",o[2](o[0],o[4])),b(p,"class","col svelte-1kxd0qm"),$(p,"selected",o[2](o[0],o[4]))},m(e,s){D(e,t,s),u(t,n),D(e,i,s),D(e,c,s),u(c,l),D(e,a,s),D(e,p,s),u(p,v)},p(e,s){s&7&&$(t,"selected",e[2](e[0],e[4])),s&7&&$(c,"selected",e[2](e[0],e[4])),s&7&&$(p,"selected",e[2](e[0],e[4]))},d(e){e&&(w(t),w(i),w(c),w(a),w(p))}}}function we(o){let t,r,n="BPM",i,c,g="Tempo",l,a,p="Description",y,v=ae(o[1]),e=[];for(let s=0;s<v.length;s+=1)e[s]=le(oe(o,v,s));return{c(){t=_("div"),r=_("span"),r.textContent=n,i=C(),c=_("span"),c.textContent=g,l=C(),a=_("span"),a.textContent=p,y=C();for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=k(s,"DIV",{class:!0});var h=E(t);r=k(h,"SPAN",{class:!0,"data-svelte-h":!0}),R(r)!=="svelte-cdp0q5"&&(r.textContent=n),i=P(h),c=k(h,"SPAN",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-1lklpwv"&&(c.textContent=g),l=P(h),a=k(h,"SPAN",{class:!0,"data-svelte-h":!0}),R(a)!=="svelte-df2g4a"&&(a.textContent=p),y=P(h);for(let d=0;d<e.length;d+=1)e[d].l(h);h.forEach(w),this.h()},h(){b(r,"class","col table-head svelte-1kxd0qm"),b(c,"class","col table-head svelte-1kxd0qm"),b(a,"class","col table-head svelte-1kxd0qm"),b(t,"class","container svelte-1kxd0qm")},m(s,h){D(s,t,h),u(t,r),u(t,i),u(t,c),u(t,l),u(t,a),u(t,y);for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(t,null)},p(s,[h]){if(h&15){v=ae(s[1]);let d;for(d=0;d<v.length;d+=1){const V=oe(s,v,d);e[d]?e[d].p(V,h):(e[d]=le(V),e[d].c(),e[d].m(t,null))}for(;d<e.length;d+=1)e[d].d(1);e.length=v.length}},i:Y,o:Y,d(s){s&&w(t),ie(e,s)}}}function ve(o,t,r){let{currentBpm:n}=t;const i=[{name:"Larghissimo",description:"Extremely slow, slowest type of tempo",high:24},{name:"Adagissimo and Grave",description:"Very slow, very slow and solemn",low:24,high:40},{name:"Largo",description:"Slow and broad",low:40,high:66},{name:"Larghetto",description:"Rather slow and broad",low:44,high:66},{name:"Adagio",description:"Slow with great expression",low:44,high:68},{name:"Adagietto",description:"Slower than andante or slightly faster than adagio",low:46,high:80},{name:"Lento",description:"Slow",low:52,high:108},{name:"Andante",description:"At a walking pace, moderately slow",low:56,high:108},{name:"Andantino",description:"Slightly faster than andante, but slower than moderato (although, in some cases, it can be taken to mean slightly slower than andante)",low:80,high:108},{name:"Andante moderato",description:"Between andante and moderato (at a moderate walking speed)",low:80,high:108},{name:"Moderato",description:"At a moderate speed",low:108,high:120},{name:"Allegretto",description:"By the mid-19th century, moderately fast",low:112,high:120},{name:"Allegro moderato",description:"Close to, but not quite allegro",low:116,high:120},{name:"Allegro",description:"Fast and bright",low:120,high:156},{name:"Molto Allegro or Allegro vivace",description:"At least slightly faster and livelier than allegro, but always at its range (and no faster than vivace)",low:124,high:156},{name:"Vivace",description:"Lively and fast",low:156,high:176},{name:"Vivacissimo and Allegrissimo",description:"Very fast, lively and bright",low:172,high:176},{name:"Presto",description:"Very fast",low:168,high:200},{name:"Prestissimo",description:"Extremely fast (At this tempo, cut common time is often used)",low:200}],c=(l,a)=>l>(a.low??0)&&l<=(a.high??9999),g=l=>{if(l.high&&l.low)return`${l.low} - ${l.high}`;if(l.low)return`>${l.low}`;if(l.high)return`<${l.high}`};return o.$$set=l=>{"currentBpm"in l&&r(0,n=l.currentBpm)},[n,i,c,g]}class _e extends ee{constructor(t){super(),te(this,t,ve,we,Z,{currentBpm:0})}}function ke(o){let t,r,n,i,c="Press the space bar or click/tap anywhere on the page to get a bpm.",g,l,a=o[0].bpm+"",p,y,v,e,s,h,d="Reset (c)",V,S,I=o[2]?"Play":"Pause",U,x,H,B,J,T,q,Q,ne;return t=new de({props:{title:"TapTempo",description:"Tap Tempo Metronome",iconPath:"/tap_tempo.png"}}),B=new ge({props:{taps:o[0].taps,keptDuration:o[0].keptDuration,pause:o[2]}}),T=new _e({props:{currentBpm:o[0].bpm}}),{c(){z(t.$$.fragment),r=C(),n=_("div"),i=_("div"),i.textContent=c,g=C(),l=_("div"),p=M(a),y=_("br"),v=M("BPM"),e=C(),s=_("div"),h=_("button"),h.textContent=d,V=C(),S=_("button"),U=M(I),x=M(" (Enter)"),H=C(),z(B.$$.fragment),J=C(),z(T.$$.fragment),this.h()},l(m){j(t.$$.fragment,m),r=P(m),n=k(m,"DIV",{class:!0});var f=E(n);i=k(f,"DIV",{"data-svelte-h":!0}),R(i)!=="svelte-11wi1xz"&&(i.textContent=c),g=P(f),l=k(f,"DIV",{class:!0});var A=E(l);p=L(A,a),y=k(A,"BR",{}),v=L(A,"BPM"),A.forEach(w),e=P(f),s=k(f,"DIV",{class:!0});var N=E(s);h=k(N,"BUTTON",{class:!0,"data-svelte-h":!0}),R(h)!=="svelte-5hccmf"&&(h.textContent=d),V=P(N),S=k(N,"BUTTON",{class:!0});var X=E(S);U=L(X,I),x=L(X," (Enter)"),X.forEach(w),N.forEach(w),H=P(f),j(B.$$.fragment,f),J=P(f),j(T.$$.fragment,f),f.forEach(w),this.h()},h(){b(l,"class","bpm svelte-1t43gmp"),$(l,"tapped",o[1]),b(h,"class","control-button svelte-1t43gmp"),b(S,"class","control-button svelte-1t43gmp"),b(s,"class","controls svelte-1t43gmp"),b(n,"class","container svelte-1t43gmp")},m(m,f){F(t,m,f),D(m,r,f),D(m,n,f),u(n,i),u(n,g),u(n,l),u(l,p),u(l,y),u(l,v),u(n,e),u(n,s),u(s,h),u(s,V),u(s,S),u(S,U),u(S,x),u(n,H),F(B,n,null),u(n,J),F(T,n,null),q=!0,Q||(ne=[K(window,"keydown",o[5]),K(window,"keyup",o[6]),K(window,"pointerdown",o[3]),K(h,"click",o[4]),K(S,"click",o[7])],Q=!0)},p(m,[f]){(!q||f&1)&&a!==(a=m[0].bpm+"")&&se(p,a),(!q||f&2)&&$(l,"tapped",m[1]),(!q||f&4)&&I!==(I=m[2]?"Play":"Pause")&&se(U,I);const A={};f&1&&(A.taps=m[0].taps),f&1&&(A.keptDuration=m[0].keptDuration),f&4&&(A.pause=m[2]),B.$set(A);const N={};f&1&&(N.currentBpm=m[0].bpm),T.$set(N)},i(m){q||(O(t.$$.fragment,m),O(B.$$.fragment,m),O(T.$$.fragment,m),q=!0)},o(m){W(t.$$.fragment,m),W(B.$$.fragment,m),W(T.$$.fragment,m),q=!1},d(m){m&&(w(r),w(n)),G(t,m),G(B),G(T),Q=!1,ce(ne)}}}function ye(o,t,r){ue.set("Tap Tempo");let n=new me,i=!1;const c=()=>{l||(n.addBeat(),r(0,n),r(1,i=!0),setTimeout(()=>r(1,i=!1),100))},g=()=>{n.reset(),r(0,n)};let l=!1,a=!0;return[n,i,l,c,g,e=>{const s=" ",h="Enter",d="c";if([s,h,d].includes(e.key)&&(e.preventDefault(),!!a)){if(a=!1,e.key===s){r(2,l=!1),c();return}if(e.key===h){r(2,l=!l);return}e.key===d&&(g(),r(0,n))}},e=>{!a&&e.key===" "&&(a=!0,e.preventDefault())},()=>r(2,l=!l)]}class $e extends ee{constructor(t){super(),te(this,t,ye,ke,Z,{})}}export{$e as component};
