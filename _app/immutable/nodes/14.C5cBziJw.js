import{g as xt,a as Gt,u as Kt,b as el,c as tl}from"../chunks/api.BvuyeftS.js";import{s as _e,D as Xt,e as v,c as C,z as Y,m as E,F as Fe,i as S,E as ne,n as re,f as h,y as Qe,a as N,t as V,b as D,g as B,d as M,a3 as Ge,h as g,k as Ke,l as ll,aa as Yt,A as W,B as ke,j as ze,G as He,K as nl,q as Ze,L as tt,O as lt}from"../chunks/scheduler.BilgBu4I.js";import{S as Te,i as Se,g as Z,t as I,c as x,a as A,b as fe,d as pe,m as ue,e as he}from"../chunks/index.DD1v0PRF.js";import{e as J,u as sl,o as rl}from"../chunks/each.6CO-EztV.js";import{c as ol,o as il}from"../chunks/store.C4AX5DxT.js";/* empty css                          */import{M as al}from"../chunks/Main.DzAo1DNH.js";import{t as cl,U as fl,M as ul,u as hl}from"../chunks/Main.CbtnBp-_.js";import{w as Wt}from"../chunks/index.BQCfpJgN.js";import{b as _l}from"../chunks/paths.Co45w-jd.js";import{A as dl}from"../chunks/index.wNzJ0ook.js";import{h as ml,u as gl}from"../chunks/await_block.CLiUbVfh.js";import{g as pl}from"../chunks/entry.Bl78BR4x.js";const kl=!1,bl=async()=>({chords:await xt()}),hn=Object.freeze(Object.defineProperty({__proto__:null,load:bl,ssr:kl},Symbol.toStringTag,{value:"Module"})),{clearTimeout:nt,setTimeout:st,window:Xe}=Gt;function vl(i){let t=!1,n=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',s,a;return Xt(i[3]),{c(){e=v("button"),e.innerHTML=r,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ed45ug"&&(e.innerHTML=r),this.h()},h(){E(e,"class","top-link svelte-1kbb9q3"),Fe(e,"hide",i[1])},m(o,u){S(o,e,u),s||(a=[ne(Xe,"scroll",()=>{t=!0,nt(l),l=st(n,100),i[3]()}),ne(e,"click",i[2])],s=!0)},p(o,[u]){u&1&&!t&&(t=!0,nt(l),scrollTo(Xe.pageXOffset,o[0]),l=st(n,100)),u&2&&Fe(e,"hide",o[1])},i:re,o:re,d(o){o&&h(e),s=!1,Qe(a)}}}function Cl(i,t,n){let l,e=!0,r;const s=u=>{u>0?n(1,e=!1):n(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{n(1,e=!0)},3e3)},a=()=>{const u=document.documentElement.scrollTop||document.body.scrollTop;u>0&&(window.requestAnimationFrame(a),window.scrollTo(0,u-u/2))};function o(){n(0,l=Xe.pageYOffset)}return i.$$.update=()=>{i.$$.dirty&1&&s(l)},[l,e,a,o]}class wl extends Te{constructor(t){super(),Se(this,t,Cl,vl,_e,{})}}const Oe=Wt();let Qt=[];const rt=localStorage.getItem("failedVisitCounts");if(rt!==null)try{Qt=JSON.parse(rt)}catch{console.error("Couldnt parse failedVisitCounts from local storage")}const Re=Wt(Qt);Re.subscribe(i=>{localStorage.setItem("failedVisitCounts",JSON.stringify(i))});const Ye=i=>i==="doc"?"fas fa-file-word":i==="pdf"?"fas fa-file-pdf":i==="youtube"?"fa fa-youtube":"fas fa-link";function Ll(i){let t,n,l,e,r,s,a,o,u;return{c(){t=v("span"),l=N(),e=v("span"),r=v("a"),s=V(i[2]),this.h()},l(c){t=C(c,"SPAN",{class:!0}),D(t).forEach(h),l=B(c),e=C(c,"SPAN",{});var _=D(e);r=C(_,"A",{href:!0,target:!0,rel:!0,title:!0});var f=D(r);s=M(f,i[2]),f.forEach(h),_.forEach(h),this.h()},h(){E(t,"class",n=Ge(Ye(i[0].type))+" svelte-1gxig14"),E(r,"href",a=i[3](i[0])),E(r,"target","_blank"),E(r,"rel","noopener noreferrer"),E(r,"title",i[1])},m(c,_){S(c,t,_),S(c,l,_),S(c,e,_),g(e,r),g(r,s),o||(u=ne(r,"click",i[4]),o=!0)},p(c,[_]){_&1&&n!==(n=Ge(Ye(c[0].type))+" svelte-1gxig14")&&E(t,"class",n),_&1&&a!==(a=c[3](c[0]))&&E(r,"href",a),_&2&&E(r,"title",c[1])},i:re,o:re,d(c){c&&(h(t),h(l),h(e)),o=!1,u()}}}function Tl(i,t,n){let l;Ke(i,Re,c=>n(6,l=c));let{chord:e}=t,{showArtist:r=!1}=t,s;Oe.subscribe(c=>{if(c&&c.has(e.url)){const _=c.get(e.url),f=new Date(_.lastAccessDateUnix*1e3);n(1,s=`visits: ${_.count} - last: ${f.toLocaleDateString()}`)}});const a=(r?e.artist+" - ":"")+e.title,o=c=>c.type==="doc"?`${_l}/docviewer/${c.url}`:c.url,u=async()=>{try{await Kt(e.url);const c=ll(Oe),_=c.get(e.url)||{count:0,lastAccessDateUnix:0};_.count++,_.lastAccessDateUnix=Date.now()/1e3,c.set(e.url,_),Oe.set(c)}catch(c){let _=c.message;c instanceof dl&&c.code===401?_="Invalid logged in user":c instanceof fl&&(_="User is logged out"),Yt(Re,l=[...l,e.url],l);const f=`<strong>Visit not counted</strong><br/> ${_}`;cl.push(f,{initial:1,duration:5e3,theme:{"--toastBarBackground":"#FF0000"}})}};return i.$$set=c=>{"chord"in c&&n(0,e=c.chord),"showArtist"in c&&n(5,r=c.showArtist)},[e,s,a,o,u,r]}class Pe extends Te{constructor(t){super(),Se(this,t,Tl,Ll,_e,{chord:0,showArtist:5})}}function ot(i,t,n){const l=i.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function it(i){let t,n,l,e,r,s=i[6]&&at(i);return l=new Pe({props:{chord:i[5],showArtist:!0}}),{c(){t=v("li"),s&&s.c(),n=N(),fe(l.$$.fragment),e=N(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=D(t);s&&s.l(o),n=B(o),pe(l.$$.fragment,o),e=B(o),o.forEach(h),this.h()},h(){E(t,"class","ul2col-item")},m(a,o){S(a,t,o),s&&s.m(t,null),g(t,n),ue(l,t,null),g(t,e),r=!0},p(a,o){a[6]?s?s.p(a,o):(s=at(a),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[5]),l.$set(u)},i(a){r||(A(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&h(t),s&&s.d(),he(l)}}}function at(i){let t,n=i[6].count+"",l,e;return{c(){t=V("("),l=V(n),e=V(")")},l(r){t=M(r,"("),l=M(r,n),e=M(r,")")},m(r,s){S(r,t,s),S(r,l,s),S(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&ze(l,n)},d(r){r&&(h(t),h(l),h(e))}}}function ct(i){let t=i[4](i[5],i[1],i[2]),n,l,e=t&&it(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),S(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&A(e,1)):(e=it(r),e.c(),A(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function ft(i){let t,n,l=J(i[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=ct(ot(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=v("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=D(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){E(t,"class","ul2col-container")},m(s,a){S(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&31){l=J(s[0]);let o;for(o=0;o<l.length;o+=1){const u=ot(s,l,o);e[o]?(e[o].p(u,a),A(e[o],1)):(e[o]=ct(u),e[o].c(),A(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)A(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),ke(e,s)}}}function Sl(i){let t=i[0],n,l,e=ft(i);return{c(){e.c(),n=W()},l(r){e.l(r),n=W()},m(r,s){e.m(r,s),S(r,n,s),l=!0},p(r,[s]){s&1&&_e(t,t=r[0])?(Z(),I(e,1,1,re),x(),e=ft(r),e.c(),A(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e.d(r)}}}function El(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Oe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,c)=>{const _=o.get(u.url),f=o.get(c.url);return _&&f?f.lastAccessDateUnix-_.lastAccessDateUnix:_?-1:f?1:u.artist!=c.artist?u.artist.toLowerCase()<c.artist.toLowerCase()?-1:1:u.title.toLowerCase()<c.title.toLowerCase()?-1:1})))});const a=(o,u,c)=>c[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return i.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,a]}class Al extends Te{constructor(t){super(),Se(this,t,El,Sl,_e,{searchString:1,chords:0,filters:2})}}const yl=(i,t)=>i<t?-1:i>t?1:0,We=(i,t)=>{const n=i.toLowerCase(),l=t.toLowerCase();return yl(n,l)},{Boolean:Zt}=Gt;function ut(i,t,n){const l=i.slice();l[14]=t[n];const e=l[8](l[14].name,l[0],l[1]);l[15]=e;const r=l[9](l[14].name,l[0]);return l[16]=r,l}function ht(i,t,n){const l=i.slice();return l[20]=t[n],l}function Je(i){const t=i.slice(),n=t[16]?t[5][t[14].name]:t[15];return t[19]=n,t}function _t(i,t,n){const l=i.slice();return l[23]=t[n],l}function dt(i){let t,n,l=i[23].letter.toUpperCase()+"",e,r;return{c(){t=v("li"),n=v("a"),e=V(l),r=N(),this.h()},l(s){t=C(s,"LI",{class:!0});var a=D(t);n=C(a,"A",{href:!0,class:!0});var o=D(n);e=M(o,l),o.forEach(h),r=B(a),a.forEach(h),this.h()},h(){E(n,"href","#"+i[23].tag),E(n,"class","navigationLink svelte-1deg5s8"),E(t,"class","navigationBtn svelte-1deg5s8")},m(s,a){S(s,t,a),g(t,n),g(n,e),g(t,r)},p:re,d(s){s&&h(t)}}}function mt(i){let t,n,l=i[14].name+"",e,r,s=i[0],a,o,u=pt(i);return{c(){t=v("tr"),n=v("td"),e=V(l),r=N(),u.c(),a=N(),this.h()},l(c){t=C(c,"TR",{class:!0});var _=D(t);n=C(_,"TD",{id:!0,class:!0});var f=D(n);e=M(f,l),r=B(f),u.l(f),f.forEach(h),a=B(_),_.forEach(h),this.h()},h(){E(n,"id",i[14].tag),E(n,"class","svelte-1deg5s8"),E(t,"class","svelte-1deg5s8")},m(c,_){S(c,t,_),g(t,n),g(n,e),g(n,r),u.m(n,null),g(t,a),o=!0},p(c,_){_&1&&_e(s,s=c[0])?(Z(),I(u,1,1,re),x(),u=pt(c),u.c(),A(u,1),u.m(n,null)):u.p(c,_)},i(c){o||(A(u),o=!0)},o(c){I(u),o=!1},d(c){c&&h(t),u.d(c)}}}function gt(i){let t,n,l,e;return n=new Pe({props:{chord:i[20]}}),{c(){t=v("li"),fe(n.$$.fragment),l=N(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=D(t);pe(n.$$.fragment,s),l=B(s),s.forEach(h),this.h()},h(){E(t,"class","ul2col-item")},m(r,s){S(r,t,s),ue(n,t,null),g(t,l),e=!0},p(r,s){const a={};s&3&&(a.chord=r[20]),n.$set(a)},i(r){e||(A(n.$$.fragment,r),e=!0)},o(r){I(n.$$.fragment,r),e=!1},d(r){r&&h(t),he(n)}}}function pt(i){let t,n,l=J(i[19]),e=[];for(let s=0;s<l.length;s+=1)e[s]=gt(ht(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=v("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=D(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){E(t,"class","ul2col-container")},m(s,a){S(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&931){l=J(s[19]);let o;for(o=0;o<l.length;o+=1){const u=ht(s,l,o);e[o]?(e[o].p(u,a),A(e[o],1)):(e[o]=gt(u),e[o].c(),A(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)A(e[a]);n=!0}},o(s){e=e.filter(Zt);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),ke(e,s)}}}function kt(i){let t,n,l=(i[16]||i[15].length>0)&&mt(Je(i));return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),S(e,t,r),n=!0},p(e,r){e[16]||e[15].length>0?l?(l.p(Je(e),r),r&3&&A(l,1)):(l=mt(Je(e)),l.c(),A(l,1),l.m(t.parentNode,t)):l&&(Z(),I(l,1,1,()=>{l=null}),x())},i(e){n||(A(l),n=!0)},o(e){I(l),n=!1},d(e){e&&h(t),l&&l.d(e)}}}function Nl(i){let t=!1,n=()=>{t=!1},l,e,r=`${i[3]}px`,s,a,o,u,c;Xt(i[11]);let _=J(i[6]),f=[];for(let p=0;p<_.length;p+=1)f[p]=dt(_t(i,_,p));let L=J(i[7]),d=[];for(let p=0;p<L.length;p+=1)d[p]=kt(ut(i,L,p));const $=p=>I(d[p],1,1,()=>{d[p]=null});return{c(){e=v("ol");for(let p=0;p<f.length;p+=1)f[p].c();s=N(),a=v("table");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=C(p,"OL",{id:!0,class:!0});var k=D(e);for(let O=0;O<f.length;O+=1)f[O].l(k);k.forEach(h),s=B(p),a=C(p,"TABLE",{id:!0});var b=D(a);for(let O=0;O<d.length;O+=1)d[O].l(b);b.forEach(h),this.h()},h(){E(e,"id","indexList"),E(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),He(e,"--barTop",r),E(a,"id","artistTable")},m(p,k){S(p,e,k);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(e,null);S(p,s,k),S(p,a,k);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(a,null);i[12](a),o=!0,u||(c=ne(window,"scroll",()=>{t=!0,clearTimeout(l),l=setTimeout(n,100),i[11]()}),u=!0)},p(p,[k]){if(k&4&&!t&&(t=!0,clearTimeout(l),scrollTo(window.pageXOffset,p[2]),l=setTimeout(n,100)),k&64){_=J(p[6]);let b;for(b=0;b<_.length;b+=1){const O=_t(p,_,b);f[b]?f[b].p(O,k):(f[b]=dt(O),f[b].c(),f[b].m(e,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=_.length}if(k&8&&r!==(r=`${p[3]}px`)&&He(e,"--barTop",r),k&931){L=J(p[7]);let b;for(b=0;b<L.length;b+=1){const O=ut(p,L,b);d[b]?(d[b].p(O,k),A(d[b],1)):(d[b]=kt(O),d[b].c(),A(d[b],1),d[b].m(a,null))}for(Z(),b=L.length;b<d.length;b+=1)$(b);x()}},i(p){if(!o){for(let k=0;k<L.length;k+=1)A(d[k]);o=!0}},o(p){d=d.filter(Zt);for(let k=0;k<d.length;k+=1)I(d[k]);o=!1},d(p){p&&(h(e),h(s),h(a)),ke(f,p),ke(d,p),i[12](null),u=!1,c()}}}function Bl(i,t,n){let{searchString:l=""}=t,{chords:e}=t,{filters:r}=t;const s=e.reduce((k,b)=>{const O=b.artist;return k[O]||(k[O]=[]),k[O].push(b),k},{}),a=[],o=Object.keys(s).sort(We).map((k,b,O)=>{if(b===0||k[0].toLowerCase()!=O[b-1][0].toLowerCase()){const y="anchor_letter_"+k[0];return a.push({letter:k[0],tag:y}),{name:k,tag:y}}return{name:k}});let u,c=0,_;const f=k=>{if(_){var b=_.getBoundingClientRect();if(b.top<20){n(3,c=20);return}n(3,c=b.top)}},L=(k,b,O)=>s[k].sort((w,P)=>w.title<P.title?-1:1).filter(w=>{const P=w.type;return O[P]===!1?!1:b.length===0?!0:!!w.title.toLowerCase().match(b.toLowerCase())}),d=(k,b)=>!!k.toLowerCase().match(b.toLowerCase());function $(){n(2,u=window.pageYOffset)}function p(k){nl[k?"unshift":"push"](()=>{_=k,n(4,_)})}return i.$$set=k=>{"searchString"in k&&n(0,l=k.searchString),"chords"in k&&n(10,e=k.chords),"filters"in k&&n(1,r=k.filters)},i.$$.update=()=>{i.$$.dirty&4&&f()},[l,r,u,c,_,s,a,o,L,d,e,$,p]}class Dl extends Te{constructor(t){super(),Se(this,t,Bl,Nl,_e,{searchString:0,chords:10,filters:1})}}function bt(i,t,n){const l=i.slice();return l[5]=t[n],l}function vt(i,t,n){const l=i.slice();return l[8]=t[n],l}function Ct(i){let t,n,l=i[3](i[5])+"",e,r,s,a,o,u=J(i[2][i[5]]),c=[];for(let f=0;f<u.length;f+=1)c[f]=Lt(vt(i,u,f));const _=f=>I(c[f],1,1,()=>{c[f]=null});return{c(){t=v("div"),n=v("span"),e=V(l),r=N(),s=v("ul");for(let f=0;f<c.length;f+=1)c[f].c();a=N(),this.h()},l(f){t=C(f,"DIV",{});var L=D(t);n=C(L,"SPAN",{});var d=D(n);e=M(d,l),d.forEach(h),r=B(L),s=C(L,"UL",{class:!0});var $=D(s);for(let p=0;p<c.length;p+=1)c[p].l($);$.forEach(h),a=B(L),L.forEach(h),this.h()},h(){E(s,"class","ul2col-container")},m(f,L){S(f,t,L),g(t,n),g(n,e),g(t,r),g(t,s);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(s,null);g(t,a),o=!0},p(f,L){if((!o||L&4)&&l!==(l=f[3](f[5])+"")&&ze(e,l),L&6){u=J(f[2][f[5]]);let d;for(d=0;d<u.length;d+=1){const $=vt(f,u,d);c[d]?(c[d].p($,L),A(c[d],1)):(c[d]=Lt($),c[d].c(),A(c[d],1),c[d].m(s,null))}for(Z(),d=u.length;d<c.length;d+=1)_(d);x()}},i(f){if(!o){for(let L=0;L<u.length;L+=1)A(c[L]);o=!0}},o(f){c=c.filter(Boolean);for(let L=0;L<c.length;L+=1)I(c[L]);o=!1},d(f){f&&h(t),ke(c,f)}}}function wt(i){let t,n,l,e;return n=new Pe({props:{chord:i[8],showArtist:!0}}),{c(){t=v("li"),fe(n.$$.fragment),l=N(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=D(t);pe(n.$$.fragment,s),l=B(s),s.forEach(h),this.h()},h(){E(t,"class","ul2col-item")},m(r,s){S(r,t,s),ue(n,t,null),g(t,l),e=!0},p(r,s){const a={};s&4&&(a.chord=r[8]),n.$set(a)},i(r){e||(A(n.$$.fragment,r),e=!0)},o(r){I(n.$$.fragment,r),e=!1},d(r){r&&h(t),he(n)}}}function Lt(i){let t,n,l=i[1][i[8].type]&&wt(i);return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),S(e,t,r),n=!0},p(e,r){e[1][e[8].type]?l?(l.p(e,r),r&6&&A(l,1)):(l=wt(e),l.c(),A(l,1),l.m(t.parentNode,t)):l&&(Z(),I(l,1,1,()=>{l=null}),x())},i(e){n||(A(l),n=!0)},o(e){I(l),n=!1},d(e){e&&h(t),l&&l.d(e)}}}function Tt(i){let t=i[0].length===0||i[5].toLowerCase().match(i[0].toLowerCase()),n,l,e=t&&Ct(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),S(r,n,s),l=!0},p(r,s){s&5&&(t=r[0].length===0||r[5].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,s),s&5&&A(e,1)):(e=Ct(r),e.c(),A(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function $l(i){let t,n,l=J(Object.keys(i[2]).sort(We)),e=[];for(let s=0;s<l.length;s+=1)e[s]=Tt(bt(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=W()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=W()},m(s,a){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,a);S(s,t,a),n=!0},p(s,[a]){if(a&15){l=J(Object.keys(s[2]).sort(We));let o;for(o=0;o<l.length;o+=1){const u=bt(s,l,o);e[o]?(e[o].p(u,a),A(e[o],1)):(e[o]=Tt(u),e[o].c(),A(e[o],1),e[o].m(t.parentNode,t))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)A(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),ke(e,s)}}}function Il(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),a={};for(const o of e)o.tags.forEach(c=>{a[c]||n(2,a[c]=[],a),a[c].push(o)});return Object.keys(a).forEach(o=>{a[o].sort((u,c)=>{const _=u.artist.toLowerCase(),f=c.artist.toLowerCase(),L=u.title.toLowerCase(),d=c.title.toLowerCase();return _<f?-1:_>f?1:L<d?-1:1})}),i.$$set=o=>{"searchString"in o&&n(0,l=o.searchString),"chords"in o&&n(4,e=o.chords),"filters"in o&&n(1,r=o.filters)},[l,r,a,s,e]}class Ul extends Te{constructor(t){super(),Se(this,t,Il,$l,_e,{searchString:0,chords:4,filters:1})}}function St(i,t,n){const l=i.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function Et(i){let t,n,l,e,r,s=i[6]&&At(i);return l=new Pe({props:{chord:i[5],showArtist:!0}}),{c(){t=v("li"),s&&s.c(),n=N(),fe(l.$$.fragment),e=N(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=D(t);s&&s.l(o),n=B(o),pe(l.$$.fragment,o),e=B(o),o.forEach(h),this.h()},h(){E(t,"class","ul2col-item")},m(a,o){S(a,t,o),s&&s.m(t,null),g(t,n),ue(l,t,null),g(t,e),r=!0},p(a,o){a[6]?s?s.p(a,o):(s=At(a),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[5]),l.$set(u)},i(a){r||(A(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&h(t),s&&s.d(),he(l)}}}function At(i){let t,n=i[6].count+"",l,e;return{c(){t=V("("),l=V(n),e=V(")")},l(r){t=M(r,"("),l=M(r,n),e=M(r,")")},m(r,s){S(r,t,s),S(r,l,s),S(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&ze(l,n)},d(r){r&&(h(t),h(l),h(e))}}}function yt(i){let t=i[4](i[5],i[1],i[2]),n,l,e=t&&Et(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),S(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&A(e,1)):(e=Et(r),e.c(),A(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function Nt(i){let t,n,l=J(i[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=yt(St(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=v("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=D(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){E(t,"class","ul2col-container")},m(s,a){S(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&31){l=J(s[0]);let o;for(o=0;o<l.length;o+=1){const u=St(s,l,o);e[o]?(e[o].p(u,a),A(e[o],1)):(e[o]=yt(u),e[o].c(),A(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)A(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),ke(e,s)}}}function Ol(i){let t=i[0],n,l,e=Nt(i);return{c(){e.c(),n=W()},l(r){e.l(r),n=W()},m(r,s){e.m(r,s),S(r,n,s),l=!0},p(r,[s]){s&1&&_e(t,t=r[0])?(Z(),I(e,1,1,re),x(),e=Nt(r),e.c(),A(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(A(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e.d(r)}}}function Pl(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Oe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,c)=>{const _=o.get(u.url),f=o.get(c.url);return _&&f?_.count!==f.count?f.count-_.count:f.lastAccessDateUnix-_.lastAccessDateUnix:_?-1:f?1:u.artist!=c.artist?u.artist.toLowerCase()<c.artist.toLowerCase()?-1:1:u.title.toLowerCase()<c.title.toLowerCase()?-1:1})))});const a=(o,u,c)=>c[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return i.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,a]}class Vl extends Te{constructor(t){super(),Se(this,t,Pl,Ol,_e,{searchString:1,chords:0,filters:2})}}function Bt(i){const t=i[1](i[3]);i[4]=t;const n=i[2](i[3]);i[5]=n}function Dt(i,t,n){const l=i.slice();return l[6]=t[n],l}function $t(i){let t,n,l,e,r,s="Close",a,o,u,c={ctx:i,current:null,token:null,hasCatch:!0,pending:Rl,then:Hl,catch:Ml,value:3,error:9};return ml(el(),c),{c(){t=v("div"),n=v("div"),l=v("h3"),e=V(`Urls checks
                `),r=v("button"),r.textContent=s,a=N(),c.block.c(),this.h()},l(_){t=C(_,"DIV",{role:!0,class:!0});var f=D(t);n=C(f,"DIV",{class:!0});var L=D(n);l=C(L,"H3",{class:!0});var d=D(l);e=M(d,`Urls checks
                `),r=C(d,"BUTTON",{"data-svelte-h":!0}),Y(r)!=="svelte-2m9p61"&&(r.textContent=s),d.forEach(h),a=B(L),c.block.l(L),L.forEach(h),f.forEach(h),this.h()},h(){E(l,"class","title-bar svelte-1b7k28l"),E(n,"class","contents svelte-1b7k28l"),E(t,"role","dialog"),E(t,"class","modal svelte-1b7k28l")},m(_,f){S(_,t,f),g(t,n),g(n,l),g(l,e),g(l,r),g(n,a),c.block.m(n,c.anchor=null),c.mount=()=>n,c.anchor=null,o||(u=ne(r,"click",ol),o=!0)},p(_,f){i=_,gl(c,i,f)},d(_){_&&h(t),c.block.d(),c.token=null,c=null,o=!1,u()}}}function Ml(i){let t,n,l=i[9].message+"",e;return{c(){t=v("p"),n=V("Could not retrieve checks: "),e=V(l),this.h()},l(r){t=C(r,"P",{style:!0});var s=D(t);n=M(s,"Could not retrieve checks: "),e=M(s,l),s.forEach(h),this.h()},h(){He(t,"color","red")},m(r,s){S(r,t,s),g(t,n),g(t,e)},p:re,d(r){r&&h(t)}}}function Hl(i){Bt(i);let t,n,l="Last Check",e,r,s="Checks",a,o,u="Skipped",c,_,f="Errors",L,d,$=i[4]+"",p,k,b,O=i[3].nbChecks+"",y,w,P,X=i[3].nbSkipped+"",ee,z,oe,Ve=i[3].nbFails+"",Ne,ie,Ae,de,Q,be,me="Status",Ce,we,Ue="Ref",Be,se,Me="Host",De,le,$e="Data",G,ae=J(i[5]),K=[];for(let H=0;H<ae.length;H+=1)K[H]=It(Dt(i,ae,H));return{c(){t=v("div"),n=v("span"),n.textContent=l,e=N(),r=v("span"),r.textContent=s,a=N(),o=v("span"),o.textContent=u,c=N(),_=v("span"),_.textContent=f,L=N(),d=v("span"),p=V($),k=N(),b=v("span"),y=V(O),w=N(),P=v("span"),ee=V(X),z=N(),oe=v("span"),Ne=V(Ve),ie=N(),Ae=v("br"),de=N(),Q=v("div"),be=v("span"),be.textContent=me,Ce=N(),we=v("span"),we.textContent=Ue,Be=N(),se=v("span"),se.textContent=Me,De=N(),le=v("span"),le.textContent=$e,G=N();for(let H=0;H<K.length;H+=1)K[H].c();this.h()},l(H){t=C(H,"DIV",{class:!0});var q=D(t);n=C(q,"SPAN",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1lbvzb0"&&(n.textContent=l),e=B(q),r=C(q,"SPAN",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1wmxeaf"&&(r.textContent=s),a=B(q),o=C(q,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-txun94"&&(o.textContent=u),c=B(q),_=C(q,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_)!=="svelte-5mrj6x"&&(_.textContent=f),L=B(q),d=C(q,"SPAN",{class:!0});var j=D(d);p=M(j,$),j.forEach(h),k=B(q),b=C(q,"SPAN",{class:!0});var R=D(b);y=M(R,O),R.forEach(h),w=B(q),P=C(q,"SPAN",{class:!0});var qe=D(P);ee=M(qe,X),qe.forEach(h),z=B(q),oe=C(q,"SPAN",{class:!0});var Ee=D(oe);Ne=M(Ee,Ve),Ee.forEach(h),q.forEach(h),ie=B(H),Ae=C(H,"BR",{}),de=B(H),Q=C(H,"DIV",{class:!0});var F=D(Q);be=C(F,"SPAN",{class:!0,"data-svelte-h":!0}),Y(be)!=="svelte-1s7ffxq"&&(be.textContent=me),Ce=B(F),we=C(F,"SPAN",{class:!0,"data-svelte-h":!0}),Y(we)!=="svelte-1wa8gqx"&&(we.textContent=Ue),Be=B(F),se=C(F,"SPAN",{class:!0,"data-svelte-h":!0}),Y(se)!=="svelte-33rgke"&&(se.textContent=Me),De=B(F),le=C(F,"SPAN",{class:!0,"data-svelte-h":!0}),Y(le)!=="svelte-1yzk30k"&&(le.textContent=$e),G=B(F);for(let Le=0;Le<K.length;Le+=1)K[Le].l(F);F.forEach(h),this.h()},h(){E(n,"class","col table-head svelte-1b7k28l"),E(r,"class","col table-head svelte-1b7k28l"),E(o,"class","col table-head svelte-1b7k28l"),E(_,"class","col table-head svelte-1b7k28l"),E(d,"class","col svelte-1b7k28l"),E(b,"class","col svelte-1b7k28l"),E(P,"class","col svelte-1b7k28l"),E(oe,"class","col svelte-1b7k28l"),E(t,"class","rows svelte-1b7k28l"),E(be,"class","col table-head svelte-1b7k28l"),E(we,"class","col table-head svelte-1b7k28l"),E(se,"class","col table-head svelte-1b7k28l"),E(le,"class","col table-head svelte-1b7k28l"),E(Q,"class","rows svelte-1b7k28l")},m(H,q){S(H,t,q),g(t,n),g(t,e),g(t,r),g(t,a),g(t,o),g(t,c),g(t,_),g(t,L),g(t,d),g(d,p),g(t,k),g(t,b),g(b,y),g(t,w),g(t,P),g(P,ee),g(t,z),g(t,oe),g(oe,Ne),S(H,ie,q),S(H,Ae,q),S(H,de,q),S(H,Q,q),g(Q,be),g(Q,Ce),g(Q,we),g(Q,Be),g(Q,se),g(Q,De),g(Q,le),g(Q,G);for(let j=0;j<K.length;j+=1)K[j]&&K[j].m(Q,null)},p(H,q){if(Bt(H),q&4){ae=J(H[5]);let j;for(j=0;j<ae.length;j+=1){const R=Dt(H,ae,j);K[j]?K[j].p(R,q):(K[j]=It(R),K[j].c(),K[j].m(Q,null))}for(;j<K.length;j+=1)K[j].d(1);K.length=ae.length}},d(H){H&&(h(t),h(ie),h(Ae),h(de),h(Q)),ke(K,H)}}}function It(i){let t,n=i[6].status+"",l,e,r,s=i[6].chord.artist+"",a,o,u=i[6].chord.title+"",c,_,f,L,d=new URL(i[6].chord.url).hostname+"",$,p,k,b=(i[6].error?JSON.stringify(i[6].error):"")+"",O;return{c(){t=v("span"),l=V(n),e=N(),r=v("span"),a=V(s),o=V(" - "),c=V(u),_=N(),f=v("span"),L=v("a"),$=V(d),p=N(),k=v("span"),O=V(b),this.h()},l(y){t=C(y,"SPAN",{class:!0});var w=D(t);l=M(w,n),w.forEach(h),e=B(y),r=C(y,"SPAN",{class:!0});var P=D(r);a=M(P,s),o=M(P," - "),c=M(P,u),P.forEach(h),_=B(y),f=C(y,"SPAN",{class:!0});var X=D(f);L=C(X,"A",{href:!0,target:!0,rel:!0});var ee=D(L);$=M(ee,d),ee.forEach(h),X.forEach(h),p=B(y),k=C(y,"SPAN",{class:!0});var z=D(k);O=M(z,b),z.forEach(h),this.h()},h(){E(t,"class","col svelte-1b7k28l"),E(r,"class","col svelte-1b7k28l"),E(L,"href",i[6].chord.url),E(L,"target","_blank"),E(L,"rel","noopener noreferrer"),E(f,"class","col svelte-1b7k28l"),E(k,"class","col svelte-1b7k28l")},m(y,w){S(y,t,w),g(t,l),S(y,e,w),S(y,r,w),g(r,a),g(r,o),g(r,c),S(y,_,w),S(y,f,w),g(f,L),g(L,$),S(y,p,w),S(y,k,w),g(k,O)},p:re,d(y){y&&(h(t),h(e),h(r),h(_),h(f),h(p),h(k))}}}function Rl(i){let t,n="Fetching results...";return{c(){t=v("p"),t.textContent=n},l(l){t=C(l,"P",{"data-svelte-h":!0}),Y(t)!=="svelte-gjakbw"&&(t.textContent=n)},m(l,e){S(l,t,e)},p:re,d(l){l&&h(t)}}}function ql(i){let t,n=i[0]&&$t(i);return{c(){n&&n.c(),t=W()},l(l){n&&n.l(l),t=W()},m(l,e){n&&n.m(l,e),S(l,t,e)},p(l,[e]){l[0]?n?n.p(l,e):(n=$t(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:re,o:re,d(l){l&&h(t),n&&n.d(l)}}}function jl(i,t,n){let{isOpen:l}=t;const e=s=>{const a=new Date(s.timestamp);return a.toDateString()+" "+a.toTimeString()},r=s=>s.fails.sort((a,o)=>a.chord.url<o.chord.url?-1:1);return i.$$set=s=>{"isOpen"in s&&n(0,l=s.isOpen)},[l,e,r]}class Fl extends Te{constructor(t){super(),Se(this,t,jl,ql,_e,{isOpen:0})}}function Ut(i,t,n){const l=i.slice();return l[10]=t[n],l}function Ot(i){let t,n=i[10].dateTag+"",l;return{c(){t=v("li"),l=V(n),this.h()},l(e){t=C(e,"LI",{class:!0});var r=D(t);l=M(r,n),r.forEach(h),this.h()},h(){E(t,"class","ul2col-separator")},m(e,r){S(e,t,r),g(t,l)},p(e,r){r&1&&n!==(n=e[10].dateTag+"")&&ze(l,n)},d(e){e&&h(t)}}}function Pt(i){let t,n,l,e,r,s=i[10].dateTag&&Ot(i);return l=new Pe({props:{chord:i[10]}}),{c(){s&&s.c(),t=N(),n=v("li"),fe(l.$$.fragment),e=N(),this.h()},l(a){s&&s.l(a),t=B(a),n=C(a,"LI",{class:!0});var o=D(n);pe(l.$$.fragment,o),e=B(o),o.forEach(h),this.h()},h(){E(n,"class","ul2col-item")},m(a,o){s&&s.m(a,o),S(a,t,o),S(a,n,o),ue(l,n,null),g(n,e),r=!0},p(a,o){a[10].dateTag?s?s.p(a,o):(s=Ot(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[10]),l.$set(u)},i(a){r||(A(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&(h(t),h(n)),s&&s.d(a),he(l)}}}function zl(i){let t,n,l,e,r="More...",s,a,o,u,c,_=J(i[0]),f=[];for(let d=0;d<_.length;d+=1)f[d]=Pt(Ut(i,_,d));const L=d=>I(f[d],1,1,()=>{f[d]=null});return{c(){t=v("div"),n=v("h3"),l=V(`Latest additions
        `),e=v("button"),e.textContent=r,s=N(),a=v("ul");for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){t=C(d,"DIV",{});var $=D(t);n=C($,"H3",{});var p=D(n);l=M(p,`Latest additions
        `),e=C(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-l2h3rt"&&(e.textContent=r),p.forEach(h),s=B($),a=C($,"UL",{class:!0});var k=D(a);for(let b=0;b<f.length;b+=1)f[b].l(k);k.forEach(h),$.forEach(h),this.h()},h(){E(e,"class","pull-right"),E(a,"class","ul2col-container")},m(d,$){S(d,t,$),g(t,n),g(n,l),g(n,e),g(t,s),g(t,a);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(a,null);o=!0,u||(c=ne(e,"click",i[3]),u=!0)},p(d,[$]){if($&1){_=J(d[0]);let p;for(p=0;p<_.length;p+=1){const k=Ut(d,_,p);f[p]?(f[p].p(k,$),A(f[p],1)):(f[p]=Pt(k),f[p].c(),A(f[p],1),f[p].m(a,null))}for(Z(),p=_.length;p<f.length;p+=1)L(p);x()}},i(d){if(!o){for(let $=0;$<_.length;$+=1)A(f[$]);o=!0}},o(d){f=f.filter(Boolean);for(let $=0;$<f.length;$+=1)I(f[$]);o=!1},d(d){d&&h(t),ke(f,d),u=!1,c()}}}function Jl(i,t,n){let{chords:l}=t;const e=Date.now(),r=1e3*3600*24*7,s=r*4,a=[{label:"last week",time:e-r},{label:"one month ago",time:e-s},{label:"two monthes ago",time:e-2*s},{label:"six monthes ago",time:e-6*s},{label:"one year ago",time:e-12*s}],o=l.filter(L=>L.creationDate).sort((L,d)=>d.creationDate-L.creationDate).map((L,d,$)=>{const p={...L};if(d>0){const k=$[d-1];for(const{time:b,label:O}of a)k.creationDate>b&&L.creationDate<b&&(p.dateTag=O)}return p});let u=6,c=[];const _=()=>{u+=4,n(0,c=o.slice(0,u))};Ze(()=>{_()});const f=()=>_();return i.$$set=L=>{"chords"in L&&n(2,l=L.chords)},[c,_,l,f]}class Gl extends Te{constructor(t){super(),Se(this,t,Jl,zl,_e,{chords:2})}}function Vt(i,t,n){const l=i.slice();return l[5]=t[n],l}function Mt(i){let t,n=" ↶ ",l,e;return{c(){t=v("button"),t.textContent=n},l(r){t=C(r,"BUTTON",{"data-svelte-h":!0}),Y(t)!=="svelte-1mg1zky"&&(t.textContent=n)},m(r,s){S(r,t,s),l||(e=ne(t,"click",i[3]),l=!0)},p:re,d(r){r&&h(t),l=!1,e()}}}function Ht(i,t){let n,l,e,r;return l=new Pe({props:{chord:t[5],showArtist:!0}}),{key:i,first:null,c(){n=v("li"),fe(l.$$.fragment),e=N(),this.h()},l(s){n=C(s,"LI",{class:!0});var a=D(n);pe(l.$$.fragment,a),e=B(a),a.forEach(h),this.h()},h(){E(n,"class","ul2col-item"),this.first=n},m(s,a){S(s,n,a),ue(l,n,null),g(n,e),r=!0},p(s,a){t=s;const o={};a&2&&(o.chord=t[5]),l.$set(o)},i(s){r||(A(l.$$.fragment,s),r=!0)},o(s){I(l.$$.fragment,s),r=!1},d(s){s&&h(n),he(l)}}}function Kl(i){let t,n,l,e,r,s,a="Get more random songs",o,u,c,_,f=[],L=new Map,d,$,p,k=i[0].length>ye&&Mt(i),b=J(i[1]);const O=y=>y[5].url;for(let y=0;y<b.length;y+=1){let w=Vt(i,b,y),P=O(w);L.set(P,f[y]=Ht(P,w))}return{c(){t=v("div"),n=v("h3"),l=V(`Random song
        `),e=v("span"),k&&k.c(),r=N(),s=v("button"),s.textContent=a,o=N(),u=v("br"),c=N(),_=v("ul");for(let y=0;y<f.length;y+=1)f[y].c();this.h()},l(y){t=C(y,"DIV",{});var w=D(t);n=C(w,"H3",{});var P=D(n);l=M(P,`Random song
        `),e=C(P,"SPAN",{class:!0});var X=D(e);k&&k.l(X),r=B(X),s=C(X,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-1gfm3kd"&&(s.textContent=a),X.forEach(h),P.forEach(h),o=B(w),u=C(w,"BR",{}),c=B(w),_=C(w,"UL",{class:!0});var ee=D(_);for(let z=0;z<f.length;z+=1)f[z].l(ee);ee.forEach(h),w.forEach(h),this.h()},h(){E(e,"class","pull-right"),E(_,"class","ul2col-container")},m(y,w){S(y,t,w),g(t,n),g(n,l),g(n,e),k&&k.m(e,null),g(e,r),g(e,s),g(t,o),g(t,u),g(t,c),g(t,_);for(let P=0;P<f.length;P+=1)f[P]&&f[P].m(_,null);d=!0,$||(p=ne(s,"click",i[2]),$=!0)},p(y,[w]){y[0].length>ye?k?k.p(y,w):(k=Mt(y),k.c(),k.m(e,r)):k&&(k.d(1),k=null),w&2&&(b=J(y[1]),Z(),f=sl(f,w,O,1,y,b,L,_,rl,Ht,null,Vt),x())},i(y){if(!d){for(let w=0;w<b.length;w+=1)A(f[w]);d=!0}},o(y){for(let w=0;w<f.length;w+=1)I(f[w]);d=!1},d(y){y&&h(t),k&&k.d();for(let w=0;w<f.length;w+=1)f[w].d();$=!1,p()}}}const ye=6;function Xl(i,t,n){let{chords:l}=t,e=[],r=[];const s=()=>{e.length>=l.length-ye&&n(0,e=[]);for(let o=0;o<ye;o++){let u=-1;for(;u===-1||e.includes(u);)u=Math.floor(Math.random()*l.length);e.push(u)}n(1,r=e.slice(e.length-ye).map(o=>l[o]))},a=()=>{e.length<=ye||(e.splice(e.length-ye),n(1,r=e.slice(e.length-ye).map(o=>l[o])))};return Ze(()=>{s()}),i.$$set=o=>{"chords"in o&&n(4,l=o.chords)},[e,r,s,a,l]}class Yl extends Te{constructor(t){super(),Se(this,t,Xl,Kl,_e,{chords:4})}}function Rt(i,t,n){const l=i.slice();return l[18]=t[n],l}function qt(i,t,n){const l=i.slice();return l[21]=t[n],l[22]=t,l[23]=n,l}function jt(i,t,n){const l=i.slice();return l[24]=t[n],l}function Ft(i){let t,n;return t=new ul({props:{item:i[24]}}),{c(){fe(t.$$.fragment)},l(l){pe(t.$$.fragment,l)},m(l,e){ue(t,l,e),n=!0},p(l,e){const r={};e&1&&(r.item=l[24]),t.$set(r)},i(l){n||(A(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){he(t,l)}}}function zt(i){let t,n,l,e,r,s,a;function o(){i[12].call(n,i[21])}function u(){return i[13](i[21])}return{c(){t=v("button"),n=v("input"),l=N(),e=v("span"),r=N(),this.h()},l(c){t=C(c,"BUTTON",{class:!0});var _=D(t);n=C(_,"INPUT",{id:!0,type:!0}),l=B(_),e=C(_,"SPAN",{class:!0}),D(e).forEach(h),r=B(_),_.forEach(h),this.h()},h(){E(n,"id",i[21]),E(n,"type","checkbox"),E(e,"class",Ge(Ye(i[21]))+" svelte-kiyfxh"),E(t,"class","filter-control svelte-kiyfxh")},m(c,_){S(c,t,_),g(t,n),n.checked=i[3][i[21]],g(t,l),g(t,e),g(t,r),s||(a=[ne(n,"change",o),ne(t,"click",u)],s=!0)},p(c,_){i=c,_&72&&(n.checked=i[3][i[21]])},d(c){c&&h(t),s=!1,Qe(a)}}}function Jt(i){let t,n=i[18].label+"",l,e,r,s;function a(){return i[14](i[18])}return{c(){t=v("button"),l=V(n),e=N(),this.h()},l(o){t=C(o,"BUTTON",{class:!0});var u=D(t);l=M(u,n),e=B(u),u.forEach(h),this.h()},h(){E(t,"class","control svelte-kiyfxh"),Fe(t,"selected",i[2]===i[18])},m(o,u){S(o,t,u),g(t,l),g(t,e),r||(s=ne(t,"click",a),r=!0)},p(o,u){i=o,u&36&&Fe(t,"selected",i[2]===i[18])},d(o){o&&h(t),r=!1,s()}}}function Wl(i){let t,n,l,e,r,s,a="Check dead links",o,u,c="Edit",_,f,L,d,$,p,k=i[4].length+"",b,O,y,w,P,X,ee,z,oe,Ve="All songs",Ne,ie,Ae,de,Q='<i class="fas fa-times-circle"></i>',be,me,Ce,we="Filters",Ue,Be,se,Me="View",De,le,$e,G,ae,K,H,q;t=new al({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}});let j=J(i[0]),R=[];for(let m=0;m<j.length;m+=1)R[m]=Ft(jt(i,j,m));const qe=m=>I(R[m],1,1,()=>{R[m]=null});L=new wl({}),w=new Gl({props:{chords:i[4]}}),X=new Yl({props:{chords:i[4]}});let Ee=J(i[6]),F=[];for(let m=0;m<Ee.length;m+=1)F[m]=zt(qt(i,Ee,m));let Le=J(i[5]),te=[];for(let m=0;m<Le.length;m+=1)te[m]=Jt(Rt(i,Le,m));var Ie=i[2].component;function xe(m,U){return{props:{chords:m[4],searchString:m[1],filters:m[3]}}}return Ie&&(G=tt(Ie,xe(i))),{c(){fe(t.$$.fragment),n=N(),l=v("h2"),e=V(`Song book
    `),r=v("span"),s=v("button"),s.textContent=a,o=N(),u=v("button"),u.textContent=c,_=N();for(let m=0;m<R.length;m+=1)R[m].c();f=N(),fe(L.$$.fragment),d=N(),$=v("p"),p=V("This is a list of "),b=V(k),O=V(` song chords I have been gathering since I started teaching myself
    the guitar as a teen and that I like to play.`),y=N(),fe(w.$$.fragment),P=N(),fe(X.$$.fragment),ee=N(),z=v("div"),oe=v("h3"),oe.textContent=Ve,Ne=V(`
    Search an artist, a title or a tag:`),ie=v("input"),Ae=N(),de=v("button"),de.innerHTML=Q,be=N(),me=v("div"),Ce=v("h4"),Ce.textContent=we,Ue=N();for(let m=0;m<F.length;m+=1)F[m].c();Be=N(),se=v("h4"),se.textContent=Me,De=N(),le=v("div");for(let m=0;m<te.length;m+=1)te[m].c();$e=N(),G&&fe(G.$$.fragment),ae=W(),this.h()},l(m){pe(t.$$.fragment,m),n=B(m),l=C(m,"H2",{});var U=D(l);e=M(U,`Song book
    `),r=C(U,"SPAN",{class:!0});var T=D(r);s=C(T,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-13v6ylk"&&(s.textContent=a),o=B(T),u=C(T,"BUTTON",{"data-svelte-h":!0}),Y(u)!=="svelte-18v2orh"&&(u.textContent=c),T.forEach(h),U.forEach(h),_=B(m);for(let ve=0;ve<R.length;ve+=1)R[ve].l(m);f=B(m),pe(L.$$.fragment,m),d=B(m),$=C(m,"P",{});var ce=D($);p=M(ce,"This is a list of "),b=M(ce,k),O=M(ce,` song chords I have been gathering since I started teaching myself
    the guitar as a teen and that I like to play.`),ce.forEach(h),y=B(m),pe(w.$$.fragment,m),P=B(m),pe(X.$$.fragment,m),ee=B(m),z=C(m,"DIV",{});var ge=D(z);oe=C(ge,"H3",{"data-svelte-h":!0}),Y(oe)!=="svelte-bfvigd"&&(oe.textContent=Ve),Ne=M(ge,`
    Search an artist, a title or a tag:`),ie=C(ge,"INPUT",{type:!0}),Ae=B(ge),de=C(ge,"BUTTON",{"data-svelte-h":!0}),Y(de)!=="svelte-5nqbye"&&(de.innerHTML=Q),be=B(ge),me=C(ge,"DIV",{class:!0});var je=D(me);Ce=C(je,"H4",{"data-svelte-h":!0}),Y(Ce)!=="svelte-xazxp3"&&(Ce.textContent=we),Ue=B(je);for(let ve=0;ve<F.length;ve+=1)F[ve].l(je);je.forEach(h),Be=B(ge),se=C(ge,"H4",{"data-svelte-h":!0}),Y(se)!=="svelte-1yp5l9r"&&(se.textContent=Me),De=B(ge),le=C(ge,"DIV",{class:!0});var et=D(le);for(let ve=0;ve<te.length;ve+=1)te[ve].l(et);et.forEach(h),ge.forEach(h),$e=B(m),G&&pe(G.$$.fragment,m),ae=W(),this.h()},h(){He(s,"position","relative"),He(u,"position","relative"),E(r,"class","pull-right"),E(ie,"type","text"),E(me,"class","filter-controls-container svelte-kiyfxh"),E(le,"class","view-controls-container svelte-kiyfxh")},m(m,U){ue(t,m,U),S(m,n,U),S(m,l,U),g(l,e),g(l,r),g(r,s),g(r,o),g(r,u),S(m,_,U);for(let T=0;T<R.length;T+=1)R[T]&&R[T].m(m,U);S(m,f,U),ue(L,m,U),S(m,d,U),S(m,$,U),g($,p),g($,b),g($,O),S(m,y,U),ue(w,m,U),S(m,P,U),ue(X,m,U),S(m,ee,U),S(m,z,U),g(z,oe),g(z,Ne),g(z,ie),lt(ie,i[1]),g(z,Ae),g(z,de),g(z,be),g(z,me),g(me,Ce),g(me,Ue);for(let T=0;T<F.length;T+=1)F[T]&&F[T].m(me,null);g(z,Be),g(z,se),g(z,De),g(z,le);for(let T=0;T<te.length;T+=1)te[T]&&te[T].m(le,null);S(m,$e,U),G&&ue(G,m,U),S(m,ae,U),K=!0,H||(q=[ne(s,"click",i[8]),ne(u,"click",i[9]),ne(ie,"input",i[10]),ne(de,"click",i[11])],H=!0)},p(m,[U]){if(U&1){j=J(m[0]);let T;for(T=0;T<j.length;T+=1){const ce=jt(m,j,T);R[T]?(R[T].p(ce,U),A(R[T],1)):(R[T]=Ft(ce),R[T].c(),A(R[T],1),R[T].m(f.parentNode,f))}for(Z(),T=j.length;T<R.length;T+=1)qe(T);x()}if(U&2&&ie.value!==m[1]&&lt(ie,m[1]),U&72){Ee=J(m[6]);let T;for(T=0;T<Ee.length;T+=1){const ce=qt(m,Ee,T);F[T]?F[T].p(ce,U):(F[T]=zt(ce),F[T].c(),F[T].m(me,null))}for(;T<F.length;T+=1)F[T].d(1);F.length=Ee.length}if(U&36){Le=J(m[5]);let T;for(T=0;T<Le.length;T+=1){const ce=Rt(m,Le,T);te[T]?te[T].p(ce,U):(te[T]=Jt(ce),te[T].c(),te[T].m(le,null))}for(;T<te.length;T+=1)te[T].d(1);te.length=Le.length}if(U&4&&Ie!==(Ie=m[2].component)){if(G){Z();const T=G;I(T.$$.fragment,1,0,()=>{he(T,1)}),x()}Ie?(G=tt(Ie,xe(m)),fe(G.$$.fragment),A(G.$$.fragment,1),ue(G,ae.parentNode,ae)):G=null}else if(Ie){const T={};U&2&&(T.searchString=m[1]),U&8&&(T.filters=m[3]),G.$set(T)}},i(m){if(!K){A(t.$$.fragment,m);for(let U=0;U<j.length;U+=1)A(R[U]);A(L.$$.fragment,m),A(w.$$.fragment,m),A(X.$$.fragment,m),G&&A(G.$$.fragment,m),K=!0}},o(m){I(t.$$.fragment,m),R=R.filter(Boolean);for(let U=0;U<R.length;U+=1)I(R[U]);I(L.$$.fragment,m),I(w.$$.fragment,m),I(X.$$.fragment,m),G&&I(G.$$.fragment,m),K=!1},d(m){m&&(h(n),h(l),h(_),h(f),h(d),h($),h(y),h(P),h(ee),h(z),h($e),h(ae)),he(t,m),ke(R,m),he(L,m),he(w,m),he(X,m),ke(F,m),ke(te,m),G&&he(G,m),H=!1,Qe(q)}}}function Ql(i,t,n){let l,e;Ke(i,Re,w=>n(15,l=w)),Ke(i,hl,w=>n(16,e=w));let{data:r}=t;const{chords:s}=r;let a=[];const o=w=>{a.push(w),n(0,a),setTimeout(()=>{a.shift(),n(0,a)},5e3)};Ze(async()=>{try{if(l.length&&e){o({level:"info",header:"Trying to count missed visits while logged out"});for(const w of l)await Kt(w);o({level:"success",header:`Counted ${l.length} missed visits`}),Yt(Re,l=[],l)}}catch{o({level:"error",header:"Couldnt upload failed visit counts"})}try{const P=(await tl()).reduce((X,ee)=>(X.set(ee.url,{...ee}),X),new Map);Oe.set(P)}catch{o({level:"error",header:"Couldnt upload failed visit counts"})}});let u="";const c=[{label:"By artist",component:Dl},{label:"By tags",component:Ul},{label:"By frequency",component:Vl},{label:"By access date",component:Al}];let _=c[0],f={pdf:!0,doc:!0,youtube:!0,link:!0};const L=Object.keys(f),d=()=>il(Fl),$=()=>pl("/songbook/edit");function p(){u=this.value,n(1,u)}const k=()=>n(1,u="");function b(w){f[w]=this.checked,n(3,f)}const O=w=>{n(3,f[w]=!f[w],f),n(3,f)},y=w=>n(2,_=w);return i.$$set=w=>{"data"in w&&n(7,r=w.data)},[a,u,_,f,s,c,L,r,d,$,p,k,b,O,y]}class _n extends Te{constructor(t){super(),Se(this,t,Ql,Wl,_e,{data:7})}}export{_n as component,hn as universal};
