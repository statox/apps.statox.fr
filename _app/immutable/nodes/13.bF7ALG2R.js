import{g as Rt,a as It,u as Ft,b as jt,c as qt}from"../chunks/api.6u5WNYc2.js";import{s as he,L as Vt,f as w,g as C,M as Y,j as L,F as Me,i as T,w as te,r as ne,d as _,A as Ke,a as E,l as H,h as y,c as A,m as M,K as je,G as d,_ as zt,e as J,O as pe,n as Re,k as Ve,p as Gt,o as Xe,q as Je,S as We}from"../chunks/scheduler.N2tVA6Cn.js";import{S as Le,i as Te,g as x,t as U,c as ee,a as N,b as ce,d as me,m as fe,e as ue}from"../chunks/index.F8-NL695.js";import{e as z,u as Kt,o as Xt}from"../chunks/each.xo_Rzlzl.js";import{a as Yt,o as Jt}from"../chunks/store.uasmQUFa.js";/* empty css                          */import{M as Wt}from"../chunks/Main.bTe1Nigg.js";import{w as Qt}from"../chunks/index.Br-J-IE8.js";import{b as Zt}from"../chunks/paths.JHxhj9x0.js";import{t as Ht}from"../chunks/service.AbFyLcxP.js";import{h as xt,u as el}from"../chunks/await_block.qGf0cQZo.js";import{g as tl}from"../chunks/navigation.zpxAB2Dm.js";const ll=async()=>({chords:await Rt()}),Xl=Object.freeze(Object.defineProperty({__proto__:null,load:ll},Symbol.toStringTag,{value:"Module"})),{clearTimeout:Qe,setTimeout:Ze,window:qe}=It;function nl(a){let t=!1,n=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',s,i;return Vt(a[3]),{c(){e=w("button"),e.innerHTML=r,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ed45ug"&&(e.innerHTML=r),this.h()},h(){L(e,"class","top-link svelte-1kbb9q3"),Me(e,"hide",a[1])},m(o,u){T(o,e,u),s||(i=[te(qe,"scroll",()=>{t=!0,Qe(l),l=Ze(n,100),a[3]()}),te(e,"click",a[2])],s=!0)},p(o,[u]){u&1&&!t&&(t=!0,Qe(l),scrollTo(qe.pageXOffset,o[0]),l=Ze(n,100)),u&2&&Me(e,"hide",o[1])},i:ne,o:ne,d(o){o&&_(e),s=!1,Ke(i)}}}function sl(a,t,n){let l,e=!0,r;const s=u=>{u>0?n(1,e=!1):n(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{n(1,e=!0)},3e3)},i=()=>{const u=document.documentElement.scrollTop||document.body.scrollTop;u>0&&(window.requestAnimationFrame(i),window.scrollTo(0,u-u/2))};function o(){n(0,l=qe.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&s(l)},[l,e,i,o]}class rl extends Le{constructor(t){super(),Te(this,t,sl,nl,he,{})}}const Oe=Qt(),ze=a=>a==="doc"?"fas fa-file-word":a==="pdf"?"fas fa-file-pdf":a==="youtube"?"fa fa-youtube":"fas fa-link";function ol(a){let t,n,l,e,r,s,i,o,u;return{c(){t=w("span"),l=E(),e=w("span"),r=w("a"),s=H(a[2]),this.h()},l(f){t=C(f,"SPAN",{class:!0}),y(t).forEach(_),l=A(f),e=C(f,"SPAN",{});var m=y(e);r=C(m,"A",{href:!0,target:!0,rel:!0,title:!0});var c=y(r);s=M(c,a[2]),c.forEach(_),m.forEach(_),this.h()},h(){L(t,"class",n=je(ze(a[0].type))+" svelte-1gxig14"),L(r,"href",i=a[3](a[0])),L(r,"target","_blank"),L(r,"rel","noopener noreferrer"),L(r,"title",a[1])},m(f,m){T(f,t,m),T(f,l,m),T(f,e,m),d(e,r),d(r,s),o||(u=te(r,"click",a[4]),o=!0)},p(f,[m]){m&1&&n!==(n=je(ze(f[0].type))+" svelte-1gxig14")&&L(t,"class",n),m&1&&i!==(i=f[3](f[0]))&&L(r,"href",i),m&2&&L(r,"title",f[1])},i:ne,o:ne,d(f){f&&(_(t),_(l),_(e)),o=!1,u()}}}function al(a,t,n){let{chord:l}=t,{showArtist:e=!1}=t,r;Oe.subscribe(u=>{if(u&&u.has(l.url)){const f=u.get(l.url),m=new Date(f.lastAccessDateUnix*1e3);n(1,r=`visits: ${f.count} - last: ${m.toLocaleDateString()}`)}});const s=(e?l.artist+" - ":"")+l.title,i=u=>u.type==="doc"?`${Zt}/docviewer/${u.url}`:u.url,o=async()=>{try{debugger;console.log("about to add visit"),await Ft(l.url),console.log("added visit");const u=zt(Oe);console.log("pouet 1");const f=u.get(l.url)||{count:0,lastAccessDateUnix:0};console.log("pouet 2"),f.count++,console.log("pouet 3"),f.lastAccessDateUnix=Date.now()/1e3,console.log("pouet 4"),u.set(l.url,f),console.log("pouet 5"),Oe.set(u),console.log("pouet 6")}catch(u){console.log("got an error"),console.log(u);const f=`<strong>Visit not counted</strong><br/> ${u.message}`;Ht.push(f,{initial:0,theme:{"--toastBarBackground":"#FF0000"}})}};return a.$$set=u=>{"chord"in u&&n(0,l=u.chord),"showArtist"in u&&n(5,e=u.showArtist)},[l,r,s,i,o,e]}class Ie extends Le{constructor(t){super(),Te(this,t,al,ol,he,{chord:0,showArtist:5})}}function xe(a,t,n){const l=a.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function et(a){let t,n,l,e,r,s=a[6]&&tt(a);return l=new Ie({props:{chord:a[5],showArtist:!0}}),{c(){t=w("li"),s&&s.c(),n=E(),ce(l.$$.fragment),e=E(),this.h()},l(i){t=C(i,"LI",{class:!0});var o=y(t);s&&s.l(o),n=A(o),me(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),s&&s.m(t,null),d(t,n),fe(l,t,null),d(t,e),r=!0},p(i,o){i[6]?s?s.p(i,o):(s=tt(i),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=i[5]),l.$set(u)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&_(t),s&&s.d(),ue(l)}}}function tt(a){let t,n=a[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=M(r,"("),l=M(r,n),e=M(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Re(l,n)},d(r){r&&(_(t),_(l),_(e))}}}function lt(a){let t=a[4](a[5],a[1],a[2]),n,l,e=t&&et(a);return{c(){e&&e.c(),n=J()},l(r){e&&e.l(r),n=J()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&N(e,1)):(e=et(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function nt(a){let t,n,l=z(a[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=lt(xe(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){t=w("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var i=y(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(s,i){T(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,i){if(i&31){l=z(s[0]);let o;for(o=0;o<l.length;o+=1){const u=xe(s,l,o);e[o]?(e[o].p(u,i),N(e[o],1)):(e[o]=lt(u),e[o].c(),N(e[o],1),e[o].m(t,null))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function il(a){let t=a[0],n,l,e=nt(a);return{c(){e.c(),n=J()},l(r){e.l(r),n=J()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&he(t,t=r[0])?(x(),U(e,1,1,ne),ee(),e=nt(r),e.c(),N(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e.d(r)}}}function cl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Oe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,f)=>{const m=o.get(u.url),c=o.get(f.url);return m&&c?c.lastAccessDateUnix-m.lastAccessDateUnix:m?-1:c?1:u.artist!=f.artist?u.artist.toLowerCase()<f.artist.toLowerCase()?-1:1:u.title.toLowerCase()<f.title.toLowerCase()?-1:1})))});const i=(o,u,f)=>f[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return a.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,i]}class fl extends Le{constructor(t){super(),Te(this,t,cl,il,he,{searchString:1,chords:0,filters:2})}}const ul=(a,t)=>a<t?-1:a>t?1:0,Ge=(a,t)=>{const n=a.toLowerCase(),l=t.toLowerCase();return ul(n,l)},{Boolean:Mt}=It;function st(a,t,n){const l=a.slice();l[14]=t[n];const e=l[8](l[14].name,l[0],l[1]);l[15]=e;const r=l[9](l[14].name,l[0]);return l[16]=r,l}function rt(a,t,n){const l=a.slice();return l[20]=t[n],l}function Fe(a){const t=a.slice(),n=t[16]?t[5][t[14].name]:t[15];return t[19]=n,t}function ot(a,t,n){const l=a.slice();return l[23]=t[n],l}function at(a){let t,n,l=a[23].letter.toUpperCase()+"",e,r;return{c(){t=w("li"),n=w("a"),e=H(l),r=E(),this.h()},l(s){t=C(s,"LI",{class:!0});var i=y(t);n=C(i,"A",{href:!0,class:!0});var o=y(n);e=M(o,l),o.forEach(_),r=A(i),i.forEach(_),this.h()},h(){L(n,"href","#"+a[23].tag),L(n,"class","navigationLink svelte-1deg5s8"),L(t,"class","navigationBtn svelte-1deg5s8")},m(s,i){T(s,t,i),d(t,n),d(n,e),d(t,r)},p:ne,d(s){s&&_(t)}}}function it(a){let t,n,l=a[14].name+"",e,r,s,i,o,u=z(a[19]),f=[];for(let c=0;c<u.length;c+=1)f[c]=ct(rt(a,u,c));const m=c=>U(f[c],1,1,()=>{f[c]=null});return{c(){t=w("tr"),n=w("td"),e=H(l),r=E(),s=w("ul");for(let c=0;c<f.length;c+=1)f[c].c();i=E(),this.h()},l(c){t=C(c,"TR",{class:!0});var b=y(t);n=C(b,"TD",{id:!0,class:!0});var h=y(n);e=M(h,l),r=A(h),s=C(h,"UL",{class:!0});var B=y(s);for(let p=0;p<f.length;p+=1)f[p].l(B);B.forEach(_),h.forEach(_),i=A(b),b.forEach(_),this.h()},h(){L(s,"class","ul2col-container"),L(n,"id",a[14].tag),L(n,"class","svelte-1deg5s8"),L(t,"class","svelte-1deg5s8")},m(c,b){T(c,t,b),d(t,n),d(n,e),d(n,r),d(n,s);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(s,null);d(t,i),o=!0},p(c,b){if(b&931){u=z(c[19]);let h;for(h=0;h<u.length;h+=1){const B=rt(c,u,h);f[h]?(f[h].p(B,b),N(f[h],1)):(f[h]=ct(B),f[h].c(),N(f[h],1),f[h].m(s,null))}for(x(),h=u.length;h<f.length;h+=1)m(h);ee()}},i(c){if(!o){for(let b=0;b<u.length;b+=1)N(f[b]);o=!0}},o(c){f=f.filter(Mt);for(let b=0;b<f.length;b+=1)U(f[b]);o=!1},d(c){c&&_(t),pe(f,c)}}}function ct(a){let t,n,l,e;return n=new Ie({props:{chord:a[20]}}),{c(){t=w("li"),ce(n.$$.fragment),l=E(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=y(t);me(n.$$.fragment,s),l=A(s),s.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(r,s){T(r,t,s),fe(n,t,null),d(t,l),e=!0},p(r,s){const i={};s&3&&(i.chord=r[20]),n.$set(i)},i(r){e||(N(n.$$.fragment,r),e=!0)},o(r){U(n.$$.fragment,r),e=!1},d(r){r&&_(t),ue(n)}}}function ft(a){let t,n,l=(a[16]||a[15].length>0)&&it(Fe(a));return{c(){l&&l.c(),t=J()},l(e){l&&l.l(e),t=J()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[16]||e[15].length>0?l?(l.p(Fe(e),r),r&3&&N(l,1)):(l=it(Fe(e)),l.c(),N(l,1),l.m(t.parentNode,t)):l&&(x(),U(l,1,1,()=>{l=null}),ee())},i(e){n||(N(l),n=!0)},o(e){U(l),n=!1},d(e){e&&_(t),l&&l.d(e)}}}function hl(a){let t=!1,n=()=>{t=!1},l,e,r=`${a[3]}px`,s,i,o,u,f;Vt(a[11]);let m=z(a[6]),c=[];for(let p=0;p<m.length;p+=1)c[p]=at(ot(a,m,p));let b=z(a[7]),h=[];for(let p=0;p<b.length;p+=1)h[p]=ft(st(a,b,p));const B=p=>U(h[p],1,1,()=>{h[p]=null});return{c(){e=w("ol");for(let p=0;p<c.length;p+=1)c[p].c();s=E(),i=w("table");for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){e=C(p,"OL",{id:!0,class:!0});var g=y(e);for(let P=0;P<c.length;P+=1)c[P].l(g);g.forEach(_),s=A(p),i=C(p,"TABLE",{id:!0});var v=y(i);for(let P=0;P<h.length;P+=1)h[P].l(v);v.forEach(_),this.h()},h(){L(e,"id","indexList"),L(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),Ve(e,"--barTop",r),L(i,"id","artistTable")},m(p,g){T(p,e,g);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(e,null);T(p,s,g),T(p,i,g);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(i,null);a[12](i),o=!0,u||(f=te(window,"scroll",()=>{t=!0,clearTimeout(l),l=setTimeout(n,100),a[11]()}),u=!0)},p(p,[g]){if(g&4&&!t&&(t=!0,clearTimeout(l),scrollTo(window.pageXOffset,p[2]),l=setTimeout(n,100)),g&64){m=z(p[6]);let v;for(v=0;v<m.length;v+=1){const P=ot(p,m,v);c[v]?c[v].p(P,g):(c[v]=at(P),c[v].c(),c[v].m(e,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=m.length}if(g&8&&r!==(r=`${p[3]}px`)&&Ve(e,"--barTop",r),g&931){b=z(p[7]);let v;for(v=0;v<b.length;v+=1){const P=st(p,b,v);h[v]?(h[v].p(P,g),N(h[v],1)):(h[v]=ft(P),h[v].c(),N(h[v],1),h[v].m(i,null))}for(x(),v=b.length;v<h.length;v+=1)B(v);ee()}},i(p){if(!o){for(let g=0;g<b.length;g+=1)N(h[g]);o=!0}},o(p){h=h.filter(Mt);for(let g=0;g<h.length;g+=1)U(h[g]);o=!1},d(p){p&&(_(e),_(s),_(i)),pe(c,p),pe(h,p),a[12](null),u=!1,f()}}}function _l(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=e.reduce((g,v)=>{const P=v.artist;return g[P]||(g[P]=[]),g[P].push(v),g},{}),i=[],o=Object.keys(s).sort(Ge).map((g,v,P)=>{if(v===0||g[0].toLowerCase()!=P[v-1][0].toLowerCase()){const S="anchor_letter_"+g[0];return i.push({letter:g[0],tag:S}),{name:g,tag:S}}return{name:g}});let u,f=0,m;const c=g=>{if(m){var v=m.getBoundingClientRect();if(v.top<20){n(3,f=20);return}n(3,f=v.top)}},b=(g,v,P)=>s[g].sort(($,I)=>$.title<I.title?-1:1).filter($=>{const I=$.type;return P[I]===!1?!1:v.length===0?!0:!!$.title.toLowerCase().match(v.toLowerCase())}),h=(g,v)=>!!g.toLowerCase().match(v.toLowerCase());function B(){n(2,u=window.pageYOffset)}function p(g){Gt[g?"unshift":"push"](()=>{m=g,n(4,m)})}return a.$$set=g=>{"searchString"in g&&n(0,l=g.searchString),"chords"in g&&n(10,e=g.chords),"filters"in g&&n(1,r=g.filters)},a.$$.update=()=>{a.$$.dirty&4&&c()},[l,r,u,f,m,s,i,o,b,h,e,B,p]}class dl extends Le{constructor(t){super(),Te(this,t,_l,hl,he,{searchString:0,chords:10,filters:1})}}function ut(a,t,n){const l=a.slice();return l[5]=t[n],l}function ht(a,t,n){const l=a.slice();return l[8]=t[n],l}function _t(a){let t,n,l=a[3](a[5])+"",e,r,s,i,o,u=z(a[2][a[5]]),f=[];for(let c=0;c<u.length;c+=1)f[c]=gt(ht(a,u,c));const m=c=>U(f[c],1,1,()=>{f[c]=null});return{c(){t=w("div"),n=w("span"),e=H(l),r=E(),s=w("ul");for(let c=0;c<f.length;c+=1)f[c].c();i=E(),this.h()},l(c){t=C(c,"DIV",{});var b=y(t);n=C(b,"SPAN",{});var h=y(n);e=M(h,l),h.forEach(_),r=A(b),s=C(b,"UL",{class:!0});var B=y(s);for(let p=0;p<f.length;p+=1)f[p].l(B);B.forEach(_),i=A(b),b.forEach(_),this.h()},h(){L(s,"class","ul2col-container")},m(c,b){T(c,t,b),d(t,n),d(n,e),d(t,r),d(t,s);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(s,null);d(t,i),o=!0},p(c,b){if((!o||b&4)&&l!==(l=c[3](c[5])+"")&&Re(e,l),b&6){u=z(c[2][c[5]]);let h;for(h=0;h<u.length;h+=1){const B=ht(c,u,h);f[h]?(f[h].p(B,b),N(f[h],1)):(f[h]=gt(B),f[h].c(),N(f[h],1),f[h].m(s,null))}for(x(),h=u.length;h<f.length;h+=1)m(h);ee()}},i(c){if(!o){for(let b=0;b<u.length;b+=1)N(f[b]);o=!0}},o(c){f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)U(f[b]);o=!1},d(c){c&&_(t),pe(f,c)}}}function dt(a){let t,n,l,e;return n=new Ie({props:{chord:a[8],showArtist:!0}}),{c(){t=w("li"),ce(n.$$.fragment),l=E(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=y(t);me(n.$$.fragment,s),l=A(s),s.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(r,s){T(r,t,s),fe(n,t,null),d(t,l),e=!0},p(r,s){const i={};s&4&&(i.chord=r[8]),n.$set(i)},i(r){e||(N(n.$$.fragment,r),e=!0)},o(r){U(n.$$.fragment,r),e=!1},d(r){r&&_(t),ue(n)}}}function gt(a){let t,n,l=a[1][a[8].type]&&dt(a);return{c(){l&&l.c(),t=J()},l(e){l&&l.l(e),t=J()},m(e,r){l&&l.m(e,r),T(e,t,r),n=!0},p(e,r){e[1][e[8].type]?l?(l.p(e,r),r&6&&N(l,1)):(l=dt(e),l.c(),N(l,1),l.m(t.parentNode,t)):l&&(x(),U(l,1,1,()=>{l=null}),ee())},i(e){n||(N(l),n=!0)},o(e){U(l),n=!1},d(e){e&&_(t),l&&l.d(e)}}}function mt(a){let t=a[0].length===0||a[5].toLowerCase().match(a[0].toLowerCase()),n,l,e=t&&_t(a);return{c(){e&&e.c(),n=J()},l(r){e&&e.l(r),n=J()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&5&&(t=r[0].length===0||r[5].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,s),s&5&&N(e,1)):(e=_t(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function gl(a){let t,n,l=z(Object.keys(a[2]).sort(Ge)),e=[];for(let s=0;s<l.length;s+=1)e[s]=mt(ut(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=J()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);t=J()},m(s,i){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,i);T(s,t,i),n=!0},p(s,[i]){if(i&15){l=z(Object.keys(s[2]).sort(Ge));let o;for(o=0;o<l.length;o+=1){const u=ut(s,l,o);e[o]?(e[o].p(u,i),N(e[o],1)):(e[o]=mt(u),e[o].c(),N(e[o],1),e[o].m(t.parentNode,t))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function ml(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),i={};for(const o of e)o.tags.forEach(f=>{i[f]||n(2,i[f]=[],i),i[f].push(o)});return Object.keys(i).forEach(o=>{i[o].sort((u,f)=>{const m=u.artist.toLowerCase(),c=f.artist.toLowerCase(),b=u.title.toLowerCase(),h=f.title.toLowerCase();return m<c?-1:m>c?1:b<h?-1:1})}),a.$$set=o=>{"searchString"in o&&n(0,l=o.searchString),"chords"in o&&n(4,e=o.chords),"filters"in o&&n(1,r=o.filters)},[l,r,i,s,e]}class pl extends Le{constructor(t){super(),Te(this,t,ml,gl,he,{searchString:0,chords:4,filters:1})}}function pt(a,t,n){const l=a.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function kt(a){let t,n,l,e,r,s=a[6]&&bt(a);return l=new Ie({props:{chord:a[5],showArtist:!0}}),{c(){t=w("li"),s&&s.c(),n=E(),ce(l.$$.fragment),e=E(),this.h()},l(i){t=C(i,"LI",{class:!0});var o=y(t);s&&s.l(o),n=A(o),me(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(i,o){T(i,t,o),s&&s.m(t,null),d(t,n),fe(l,t,null),d(t,e),r=!0},p(i,o){i[6]?s?s.p(i,o):(s=bt(i),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=i[5]),l.$set(u)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&_(t),s&&s.d(),ue(l)}}}function bt(a){let t,n=a[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=M(r,"("),l=M(r,n),e=M(r,")")},m(r,s){T(r,t,s),T(r,l,s),T(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Re(l,n)},d(r){r&&(_(t),_(l),_(e))}}}function vt(a){let t=a[4](a[5],a[1],a[2]),n,l,e=t&&kt(a);return{c(){e&&e.c(),n=J()},l(r){e&&e.l(r),n=J()},m(r,s){e&&e.m(r,s),T(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&N(e,1)):(e=kt(r),e.c(),N(e,1),e.m(n.parentNode,n)):e&&(x(),U(e,1,1,()=>{e=null}),ee())},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e&&e.d(r)}}}function wt(a){let t,n,l=z(a[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=vt(pt(a,l,s));const r=s=>U(e[s],1,1,()=>{e[s]=null});return{c(){t=w("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var i=y(t);for(let o=0;o<e.length;o+=1)e[o].l(i);i.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(s,i){T(s,t,i);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,i){if(i&31){l=z(s[0]);let o;for(o=0;o<l.length;o+=1){const u=pt(s,l,o);e[o]?(e[o].p(u,i),N(e[o],1)):(e[o]=vt(u),e[o].c(),N(e[o],1),e[o].m(t,null))}for(x(),o=l.length;o<e.length;o+=1)r(o);ee()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)N(e[i]);n=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)U(e[i]);n=!1},d(s){s&&_(t),pe(e,s)}}}function kl(a){let t=a[0],n,l,e=wt(a);return{c(){e.c(),n=J()},l(r){e.l(r),n=J()},m(r,s){e.m(r,s),T(r,n,s),l=!0},p(r,[s]){s&1&&he(t,t=r[0])?(x(),U(e,1,1,ne),ee(),e=wt(r),e.c(),N(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(N(e),l=!0)},o(r){U(e),l=!1},d(r){r&&_(n),e.d(r)}}}function bl(a,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Oe.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,f)=>{const m=o.get(u.url),c=o.get(f.url);return m&&c?m.count!==c.count?c.count-m.count:c.lastAccessDateUnix-m.lastAccessDateUnix:m?-1:c?1:u.artist!=f.artist?u.artist.toLowerCase()<f.artist.toLowerCase()?-1:1:u.title.toLowerCase()<f.title.toLowerCase()?-1:1})))});const i=(o,u,f)=>f[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return a.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,i]}class vl extends Le{constructor(t){super(),Te(this,t,bl,kl,he,{searchString:1,chords:0,filters:2})}}function Ct(a){const t=a[1](a[3]);a[4]=t;const n=a[2](a[3]);a[5]=n}function Lt(a,t,n){const l=a.slice();return l[6]=t[n],l}function Tt(a){let t,n,l,e,r,s="Close",i,o,u,f={ctx:a,current:null,token:null,hasCatch:!0,pending:Ll,then:Cl,catch:wl,value:3,error:9};return xt(jt(),f),{c(){t=w("div"),n=w("div"),l=w("h3"),e=H(`Urls checks
                `),r=w("button"),r.textContent=s,i=E(),f.block.c(),this.h()},l(m){t=C(m,"DIV",{role:!0,class:!0});var c=y(t);n=C(c,"DIV",{class:!0});var b=y(n);l=C(b,"H3",{class:!0});var h=y(l);e=M(h,`Urls checks
                `),r=C(h,"BUTTON",{"data-svelte-h":!0}),Y(r)!=="svelte-2m9p61"&&(r.textContent=s),h.forEach(_),i=A(b),f.block.l(b),b.forEach(_),c.forEach(_),this.h()},h(){L(l,"class","title-bar svelte-1b7k28l"),L(n,"class","contents svelte-1b7k28l"),L(t,"role","dialog"),L(t,"class","modal svelte-1b7k28l")},m(m,c){T(m,t,c),d(t,n),d(n,l),d(l,e),d(l,r),d(n,i),f.block.m(n,f.anchor=null),f.mount=()=>n,f.anchor=null,o||(u=te(r,"click",Yt),o=!0)},p(m,c){a=m,el(f,a,c)},d(m){m&&_(t),f.block.d(),f.token=null,f=null,o=!1,u()}}}function wl(a){let t,n,l=a[9].message+"",e;return{c(){t=w("p"),n=H("Could not retrieve checks: "),e=H(l),this.h()},l(r){t=C(r,"P",{style:!0});var s=y(t);n=M(s,"Could not retrieve checks: "),e=M(s,l),s.forEach(_),this.h()},h(){Ve(t,"color","red")},m(r,s){T(r,t,s),d(t,n),d(t,e)},p:ne,d(r){r&&_(t)}}}function Cl(a){Ct(a);let t,n,l="Last Check",e,r,s="Checks",i,o,u="Skipped",f,m,c="Errors",b,h,B=a[4]+"",p,g,v,P=a[3].nbChecks+"",S,$,I,Z=a[3].nbSkipped+"",j,W,Se,$e=a[3].nbFails+"",se,Ae,re,Ne,K,Q,Ee="Status",De,_e,Pe="Ref",ke,be,Ue="Host",de,oe,q="Data",ve,ge=z(a[5]),G=[];for(let R=0;R<ge.length;R+=1)G[R]=St(Lt(a,ge,R));return{c(){t=w("div"),n=w("span"),n.textContent=l,e=E(),r=w("span"),r.textContent=s,i=E(),o=w("span"),o.textContent=u,f=E(),m=w("span"),m.textContent=c,b=E(),h=w("span"),p=H(B),g=E(),v=w("span"),S=H(P),$=E(),I=w("span"),j=H(Z),W=E(),Se=w("span"),se=H($e),Ae=E(),re=w("br"),Ne=E(),K=w("div"),Q=w("span"),Q.textContent=Ee,De=E(),_e=w("span"),_e.textContent=Pe,ke=E(),be=w("span"),be.textContent=Ue,de=E(),oe=w("span"),oe.textContent=q,ve=E();for(let R=0;R<G.length;R+=1)G[R].c();this.h()},l(R){t=C(R,"DIV",{class:!0});var V=y(t);n=C(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1lbvzb0"&&(n.textContent=l),e=A(V),r=C(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1wmxeaf"&&(r.textContent=s),i=A(V),o=C(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-txun94"&&(o.textContent=u),f=A(V),m=C(V,"SPAN",{class:!0,"data-svelte-h":!0}),Y(m)!=="svelte-5mrj6x"&&(m.textContent=c),b=A(V),h=C(V,"SPAN",{class:!0});var O=y(h);p=M(O,B),O.forEach(_),g=A(V),v=C(V,"SPAN",{class:!0});var ae=y(v);S=M(ae,P),ae.forEach(_),$=A(V),I=C(V,"SPAN",{class:!0});var X=y(I);j=M(X,Z),X.forEach(_),W=A(V),Se=C(V,"SPAN",{class:!0});var we=y(Se);se=M(we,$e),we.forEach(_),V.forEach(_),Ae=A(R),re=C(R,"BR",{}),Ne=A(R),K=C(R,"DIV",{class:!0});var le=y(K);Q=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Q)!=="svelte-1s7ffxq"&&(Q.textContent=Ee),De=A(le),_e=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_e)!=="svelte-1wa8gqx"&&(_e.textContent=Pe),ke=A(le),be=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(be)!=="svelte-33rgke"&&(be.textContent=Ue),de=A(le),oe=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(oe)!=="svelte-1yzk30k"&&(oe.textContent=q),ve=A(le);for(let k=0;k<G.length;k+=1)G[k].l(le);le.forEach(_),this.h()},h(){L(n,"class","col table-head svelte-1b7k28l"),L(r,"class","col table-head svelte-1b7k28l"),L(o,"class","col table-head svelte-1b7k28l"),L(m,"class","col table-head svelte-1b7k28l"),L(h,"class","col svelte-1b7k28l"),L(v,"class","col svelte-1b7k28l"),L(I,"class","col svelte-1b7k28l"),L(Se,"class","col svelte-1b7k28l"),L(t,"class","rows svelte-1b7k28l"),L(Q,"class","col table-head svelte-1b7k28l"),L(_e,"class","col table-head svelte-1b7k28l"),L(be,"class","col table-head svelte-1b7k28l"),L(oe,"class","col table-head svelte-1b7k28l"),L(K,"class","rows svelte-1b7k28l")},m(R,V){T(R,t,V),d(t,n),d(t,e),d(t,r),d(t,i),d(t,o),d(t,f),d(t,m),d(t,b),d(t,h),d(h,p),d(t,g),d(t,v),d(v,S),d(t,$),d(t,I),d(I,j),d(t,W),d(t,Se),d(Se,se),T(R,Ae,V),T(R,re,V),T(R,Ne,V),T(R,K,V),d(K,Q),d(K,De),d(K,_e),d(K,ke),d(K,be),d(K,de),d(K,oe),d(K,ve);for(let O=0;O<G.length;O+=1)G[O]&&G[O].m(K,null)},p(R,V){if(Ct(R),V&4){ge=z(R[5]);let O;for(O=0;O<ge.length;O+=1){const ae=Lt(R,ge,O);G[O]?G[O].p(ae,V):(G[O]=St(ae),G[O].c(),G[O].m(K,null))}for(;O<G.length;O+=1)G[O].d(1);G.length=ge.length}},d(R){R&&(_(t),_(Ae),_(re),_(Ne),_(K)),pe(G,R)}}}function St(a){let t,n=a[6].status+"",l,e,r,s=a[6].chord.artist+"",i,o,u=a[6].chord.title+"",f,m,c,b,h=new URL(a[6].chord.url).hostname+"",B,p,g,v=(a[6].error?JSON.stringify(a[6].error):"")+"",P;return{c(){t=w("span"),l=H(n),e=E(),r=w("span"),i=H(s),o=H(" - "),f=H(u),m=E(),c=w("span"),b=w("a"),B=H(h),p=E(),g=w("span"),P=H(v),this.h()},l(S){t=C(S,"SPAN",{class:!0});var $=y(t);l=M($,n),$.forEach(_),e=A(S),r=C(S,"SPAN",{class:!0});var I=y(r);i=M(I,s),o=M(I," - "),f=M(I,u),I.forEach(_),m=A(S),c=C(S,"SPAN",{class:!0});var Z=y(c);b=C(Z,"A",{href:!0,target:!0,rel:!0});var j=y(b);B=M(j,h),j.forEach(_),Z.forEach(_),p=A(S),g=C(S,"SPAN",{class:!0});var W=y(g);P=M(W,v),W.forEach(_),this.h()},h(){L(t,"class","col svelte-1b7k28l"),L(r,"class","col svelte-1b7k28l"),L(b,"href",a[6].chord.url),L(b,"target","_blank"),L(b,"rel","noopener noreferrer"),L(c,"class","col svelte-1b7k28l"),L(g,"class","col svelte-1b7k28l")},m(S,$){T(S,t,$),d(t,l),T(S,e,$),T(S,r,$),d(r,i),d(r,o),d(r,f),T(S,m,$),T(S,c,$),d(c,b),d(b,B),T(S,p,$),T(S,g,$),d(g,P)},p:ne,d(S){S&&(_(t),_(e),_(r),_(m),_(c),_(p),_(g))}}}function Ll(a){let t,n="Fetching results...";return{c(){t=w("p"),t.textContent=n},l(l){t=C(l,"P",{"data-svelte-h":!0}),Y(t)!=="svelte-gjakbw"&&(t.textContent=n)},m(l,e){T(l,t,e)},p:ne,d(l){l&&_(t)}}}function Tl(a){let t,n=a[0]&&Tt(a);return{c(){n&&n.c(),t=J()},l(l){n&&n.l(l),t=J()},m(l,e){n&&n.m(l,e),T(l,t,e)},p(l,[e]){l[0]?n?n.p(l,e):(n=Tt(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ne,o:ne,d(l){l&&_(t),n&&n.d(l)}}}function Sl(a,t,n){let{isOpen:l}=t;const e=s=>{const i=new Date(s.timestamp);return i.toDateString()+" "+i.toTimeString()},r=s=>s.fails.sort((i,o)=>i.chord.url<o.chord.url?-1:1);return a.$$set=s=>{"isOpen"in s&&n(0,l=s.isOpen)},[l,e,r]}class El extends Le{constructor(t){super(),Te(this,t,Sl,Tl,he,{isOpen:0})}}function Et(a,t,n){const l=a.slice();return l[10]=t[n],l}function At(a){let t,n=a[10].dateTag+"",l;return{c(){t=w("li"),l=H(n),this.h()},l(e){t=C(e,"LI",{class:!0});var r=y(t);l=M(r,n),r.forEach(_),this.h()},h(){L(t,"class","ul2col-separator")},m(e,r){T(e,t,r),d(t,l)},p(e,r){r&1&&n!==(n=e[10].dateTag+"")&&Re(l,n)},d(e){e&&_(t)}}}function yt(a){let t,n,l,e,r,s=a[10].dateTag&&At(a);return l=new Ie({props:{chord:a[10]}}),{c(){s&&s.c(),t=E(),n=w("li"),ce(l.$$.fragment),e=E(),this.h()},l(i){s&&s.l(i),t=A(i),n=C(i,"LI",{class:!0});var o=y(n);me(l.$$.fragment,o),e=A(o),o.forEach(_),this.h()},h(){L(n,"class","ul2col-item")},m(i,o){s&&s.m(i,o),T(i,t,o),T(i,n,o),fe(l,n,null),d(n,e),r=!0},p(i,o){i[10].dateTag?s?s.p(i,o):(s=At(i),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=i[10]),l.$set(u)},i(i){r||(N(l.$$.fragment,i),r=!0)},o(i){U(l.$$.fragment,i),r=!1},d(i){i&&(_(t),_(n)),s&&s.d(i),ue(l)}}}function Al(a){let t,n,l,e,r="More...",s,i,o,u,f,m=z(a[0]),c=[];for(let h=0;h<m.length;h+=1)c[h]=yt(Et(a,m,h));const b=h=>U(c[h],1,1,()=>{c[h]=null});return{c(){t=w("div"),n=w("h3"),l=H(`Latest additions
        `),e=w("button"),e.textContent=r,s=E(),i=w("ul");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){t=C(h,"DIV",{});var B=y(t);n=C(B,"H3",{});var p=y(n);l=M(p,`Latest additions
        `),e=C(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-l2h3rt"&&(e.textContent=r),p.forEach(_),s=A(B),i=C(B,"UL",{class:!0});var g=y(i);for(let v=0;v<c.length;v+=1)c[v].l(g);g.forEach(_),B.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(i,"class","ul2col-container")},m(h,B){T(h,t,B),d(t,n),d(n,l),d(n,e),d(t,s),d(t,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(i,null);o=!0,u||(f=te(e,"click",a[3]),u=!0)},p(h,[B]){if(B&1){m=z(h[0]);let p;for(p=0;p<m.length;p+=1){const g=Et(h,m,p);c[p]?(c[p].p(g,B),N(c[p],1)):(c[p]=yt(g),c[p].c(),N(c[p],1),c[p].m(i,null))}for(x(),p=m.length;p<c.length;p+=1)b(p);ee()}},i(h){if(!o){for(let B=0;B<m.length;B+=1)N(c[B]);o=!0}},o(h){c=c.filter(Boolean);for(let B=0;B<c.length;B+=1)U(c[B]);o=!1},d(h){h&&_(t),pe(c,h),u=!1,f()}}}function yl(a,t,n){let{chords:l}=t;const e=Date.now(),r=1e3*3600*24*7,s=r*4,i=[{label:"last week",time:e-r},{label:"one month ago",time:e-s},{label:"two monthes ago",time:e-2*s},{label:"six monthes ago",time:e-6*s},{label:"one year ago",time:e-12*s}],o=l.filter(b=>b.creationDate).sort((b,h)=>h.creationDate-b.creationDate).map((b,h,B)=>{const p={...b};if(h>0){const g=B[h-1];for(const{time:v,label:P}of i)g.creationDate>v&&b.creationDate<v&&(p.dateTag=P)}return p});let u=6,f=[];const m=()=>{u+=4,n(0,f=o.slice(0,u))};Xe(()=>{m()});const c=()=>m();return a.$$set=b=>{"chords"in b&&n(2,l=b.chords)},[f,m,l,c]}class Nl extends Le{constructor(t){super(),Te(this,t,yl,Al,he,{chords:2})}}function Nt(a,t,n){const l=a.slice();return l[5]=t[n],l}function Bt(a){let t,n=" ↶ ",l,e;return{c(){t=w("button"),t.textContent=n},l(r){t=C(r,"BUTTON",{"data-svelte-h":!0}),Y(t)!=="svelte-1mg1zky"&&(t.textContent=n)},m(r,s){T(r,t,s),l||(e=te(t,"click",a[3]),l=!0)},p:ne,d(r){r&&_(t),l=!1,e()}}}function $t(a,t){let n,l,e,r;return l=new Ie({props:{chord:t[5],showArtist:!0}}),{key:a,first:null,c(){n=w("li"),ce(l.$$.fragment),e=E(),this.h()},l(s){n=C(s,"LI",{class:!0});var i=y(n);me(l.$$.fragment,i),e=A(i),i.forEach(_),this.h()},h(){L(n,"class","ul2col-item"),this.first=n},m(s,i){T(s,n,i),fe(l,n,null),d(n,e),r=!0},p(s,i){t=s;const o={};i&2&&(o.chord=t[5]),l.$set(o)},i(s){r||(N(l.$$.fragment,s),r=!0)},o(s){U(l.$$.fragment,s),r=!1},d(s){s&&_(n),ue(l)}}}function Bl(a){let t,n,l,e,r,s,i="Get more random songs",o,u,f,m,c=[],b=new Map,h,B,p,g=a[0].length>ye&&Bt(a),v=z(a[1]);const P=S=>S[5].url;for(let S=0;S<v.length;S+=1){let $=Nt(a,v,S),I=P($);b.set(I,c[S]=$t(I,$))}return{c(){t=w("div"),n=w("h3"),l=H(`Random song
        `),e=w("span"),g&&g.c(),r=E(),s=w("button"),s.textContent=i,o=E(),u=w("br"),f=E(),m=w("ul");for(let S=0;S<c.length;S+=1)c[S].c();this.h()},l(S){t=C(S,"DIV",{});var $=y(t);n=C($,"H3",{});var I=y(n);l=M(I,`Random song
        `),e=C(I,"SPAN",{class:!0});var Z=y(e);g&&g.l(Z),r=A(Z),s=C(Z,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-1gfm3kd"&&(s.textContent=i),Z.forEach(_),I.forEach(_),o=A($),u=C($,"BR",{}),f=A($),m=C($,"UL",{class:!0});var j=y(m);for(let W=0;W<c.length;W+=1)c[W].l(j);j.forEach(_),$.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(m,"class","ul2col-container")},m(S,$){T(S,t,$),d(t,n),d(n,l),d(n,e),g&&g.m(e,null),d(e,r),d(e,s),d(t,o),d(t,u),d(t,f),d(t,m);for(let I=0;I<c.length;I+=1)c[I]&&c[I].m(m,null);h=!0,B||(p=te(s,"click",a[2]),B=!0)},p(S,[$]){S[0].length>ye?g?g.p(S,$):(g=Bt(S),g.c(),g.m(e,r)):g&&(g.d(1),g=null),$&2&&(v=z(S[1]),x(),c=Kt(c,$,P,1,S,v,b,m,Xt,$t,null,Nt),ee())},i(S){if(!h){for(let $=0;$<v.length;$+=1)N(c[$]);h=!0}},o(S){for(let $=0;$<c.length;$+=1)U(c[$]);h=!1},d(S){S&&_(t),g&&g.d();for(let $=0;$<c.length;$+=1)c[$].d();B=!1,p()}}}const ye=6;function $l(a,t,n){let{chords:l}=t,e=[],r=[];const s=()=>{e.length>=l.length-ye&&n(0,e=[]);for(let o=0;o<ye;o++){let u=-1;for(;u===-1||e.includes(u);)u=Math.floor(Math.random()*l.length);e.push(u)}n(1,r=e.slice(e.length-ye).map(o=>l[o]))},i=()=>{e.length<=ye||(e.splice(e.length-ye),n(1,r=e.slice(e.length-ye).map(o=>l[o])))};return Xe(()=>{s()}),a.$$set=o=>{"chords"in o&&n(4,l=o.chords)},[e,r,s,i,l]}class Dl extends Le{constructor(t){super(),Te(this,t,$l,Bl,he,{chords:4})}}function Dt(a,t,n){const l=a.slice();return l[14]=t[n],l}function Pt(a,t,n){const l=a.slice();return l[17]=t[n],l[18]=t,l[19]=n,l}function Ut(a){let t,n,l,e,r,s,i;function o(){a[11].call(n,a[17])}function u(){return a[12](a[17])}return{c(){t=w("button"),n=w("input"),l=E(),e=w("span"),r=E(),this.h()},l(f){t=C(f,"BUTTON",{class:!0});var m=y(t);n=C(m,"INPUT",{id:!0,type:!0}),l=A(m),e=C(m,"SPAN",{class:!0}),y(e).forEach(_),r=A(m),m.forEach(_),this.h()},h(){L(n,"id",a[17]),L(n,"type","checkbox"),L(e,"class",je(ze(a[17]))+" svelte-kiyfxh"),L(t,"class","filter-control svelte-kiyfxh")},m(f,m){T(f,t,m),d(t,n),n.checked=a[2][a[17]],d(t,l),d(t,e),d(t,r),s||(i=[te(n,"change",o),te(t,"click",u)],s=!0)},p(f,m){a=f,m&36&&(n.checked=a[2][a[17]])},d(f){f&&_(t),s=!1,Ke(i)}}}function Ot(a){let t,n=a[14].label+"",l,e,r,s;function i(){return a[13](a[14])}return{c(){t=w("button"),l=H(n),e=E(),this.h()},l(o){t=C(o,"BUTTON",{class:!0});var u=y(t);l=M(u,n),e=A(u),u.forEach(_),this.h()},h(){L(t,"class","control svelte-kiyfxh"),Me(t,"selected",a[1]===a[14])},m(o,u){T(o,t,u),d(t,l),d(t,e),r||(s=te(t,"click",i),r=!0)},p(o,u){a=o,u&18&&Me(t,"selected",a[1]===a[14])},d(o){o&&_(t),r=!1,s()}}}function Pl(a){let t,n,l,e,r,s,i="Check dead links",o,u,f="Edit",m,c,b,h,B,p=a[3].length+"",g,v,P,S,$,I,Z,j,W,Se="All songs",$e,se,Ae,re,Ne='<i class="fas fa-times-circle"></i>',K,Q,Ee,De="Filters",_e,Pe,ke,be="View",Ue,de,oe,q,ve,ge,G,R;t=new Wt({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}}),c=new rl({}),S=new Nl({props:{chords:a[3]}}),I=new Dl({props:{chords:a[3]}});let V=z(a[5]),O=[];for(let k=0;k<V.length;k+=1)O[k]=Ut(Pt(a,V,k));let ae=z(a[4]),X=[];for(let k=0;k<ae.length;k+=1)X[k]=Ot(Dt(a,ae,k));var we=a[1].component;function le(k,F){return{props:{chords:k[3],searchString:k[0],filters:k[2]}}}return we&&(q=Je(we,le(a))),{c(){ce(t.$$.fragment),n=E(),l=w("h2"),e=H(`Song book
    `),r=w("span"),s=w("button"),s.textContent=i,o=E(),u=w("button"),u.textContent=f,m=E(),ce(c.$$.fragment),b=E(),h=w("p"),B=H("This is a list of "),g=H(p),v=H(` song chords I have been gathering for the past 10 years and that
    I like to play.`),P=E(),ce(S.$$.fragment),$=E(),ce(I.$$.fragment),Z=E(),j=w("div"),W=w("h3"),W.textContent=Se,$e=H(`
    Search an artist, a title or a tag:`),se=w("input"),Ae=E(),re=w("button"),re.innerHTML=Ne,K=E(),Q=w("div"),Ee=w("h4"),Ee.textContent=De,_e=E();for(let k=0;k<O.length;k+=1)O[k].c();Pe=E(),ke=w("h4"),ke.textContent=be,Ue=E(),de=w("div");for(let k=0;k<X.length;k+=1)X[k].c();oe=E(),q&&ce(q.$$.fragment),ve=J(),this.h()},l(k){me(t.$$.fragment,k),n=A(k),l=C(k,"H2",{});var F=y(l);e=M(F,`Song book
    `),r=C(F,"SPAN",{class:!0});var D=y(r);s=C(D,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-13v6ylk"&&(s.textContent=i),o=A(D),u=C(D,"BUTTON",{"data-svelte-h":!0}),Y(u)!=="svelte-18v2orh"&&(u.textContent=f),D.forEach(_),F.forEach(_),m=A(k),me(c.$$.fragment,k),b=A(k),h=C(k,"P",{});var Ce=y(h);B=M(Ce,"This is a list of "),g=M(Ce,p),v=M(Ce,` song chords I have been gathering for the past 10 years and that
    I like to play.`),Ce.forEach(_),P=A(k),me(S.$$.fragment,k),$=A(k),me(I.$$.fragment,k),Z=A(k),j=C(k,"DIV",{});var ie=y(j);W=C(ie,"H3",{"data-svelte-h":!0}),Y(W)!=="svelte-bfvigd"&&(W.textContent=Se),$e=M(ie,`
    Search an artist, a title or a tag:`),se=C(ie,"INPUT",{type:!0}),Ae=A(ie),re=C(ie,"BUTTON",{"data-svelte-h":!0}),Y(re)!=="svelte-5nqbye"&&(re.innerHTML=Ne),K=A(ie),Q=C(ie,"DIV",{class:!0});var He=y(Q);Ee=C(He,"H4",{"data-svelte-h":!0}),Y(Ee)!=="svelte-xazxp3"&&(Ee.textContent=De),_e=A(He);for(let Be=0;Be<O.length;Be+=1)O[Be].l(He);He.forEach(_),Pe=A(ie),ke=C(ie,"H4",{"data-svelte-h":!0}),Y(ke)!=="svelte-1yp5l9r"&&(ke.textContent=be),Ue=A(ie),de=C(ie,"DIV",{class:!0});var Ye=y(de);for(let Be=0;Be<X.length;Be+=1)X[Be].l(Ye);Ye.forEach(_),ie.forEach(_),oe=A(k),q&&me(q.$$.fragment,k),ve=J(),this.h()},h(){Ve(s,"position","relative"),Ve(u,"position","relative"),L(r,"class","pull-right"),L(se,"type","text"),L(Q,"class","filter-controls-container svelte-kiyfxh"),L(de,"class","view-controls-container svelte-kiyfxh")},m(k,F){fe(t,k,F),T(k,n,F),T(k,l,F),d(l,e),d(l,r),d(r,s),d(r,o),d(r,u),T(k,m,F),fe(c,k,F),T(k,b,F),T(k,h,F),d(h,B),d(h,g),d(h,v),T(k,P,F),fe(S,k,F),T(k,$,F),fe(I,k,F),T(k,Z,F),T(k,j,F),d(j,W),d(j,$e),d(j,se),We(se,a[0]),d(j,Ae),d(j,re),d(j,K),d(j,Q),d(Q,Ee),d(Q,_e);for(let D=0;D<O.length;D+=1)O[D]&&O[D].m(Q,null);d(j,Pe),d(j,ke),d(j,Ue),d(j,de);for(let D=0;D<X.length;D+=1)X[D]&&X[D].m(de,null);T(k,oe,F),q&&fe(q,k,F),T(k,ve,F),ge=!0,G||(R=[te(s,"click",a[7]),te(u,"click",a[8]),te(se,"input",a[9]),te(re,"click",a[10])],G=!0)},p(k,[F]){if(F&1&&se.value!==k[0]&&We(se,k[0]),F&36){V=z(k[5]);let D;for(D=0;D<V.length;D+=1){const Ce=Pt(k,V,D);O[D]?O[D].p(Ce,F):(O[D]=Ut(Ce),O[D].c(),O[D].m(Q,null))}for(;D<O.length;D+=1)O[D].d(1);O.length=V.length}if(F&18){ae=z(k[4]);let D;for(D=0;D<ae.length;D+=1){const Ce=Dt(k,ae,D);X[D]?X[D].p(Ce,F):(X[D]=Ot(Ce),X[D].c(),X[D].m(de,null))}for(;D<X.length;D+=1)X[D].d(1);X.length=ae.length}if(F&2&&we!==(we=k[1].component)){if(q){x();const D=q;U(D.$$.fragment,1,0,()=>{ue(D,1)}),ee()}we?(q=Je(we,le(k)),ce(q.$$.fragment),N(q.$$.fragment,1),fe(q,ve.parentNode,ve)):q=null}else if(we){const D={};F&1&&(D.searchString=k[0]),F&4&&(D.filters=k[2]),q.$set(D)}},i(k){ge||(N(t.$$.fragment,k),N(c.$$.fragment,k),N(S.$$.fragment,k),N(I.$$.fragment,k),q&&N(q.$$.fragment,k),ge=!0)},o(k){U(t.$$.fragment,k),U(c.$$.fragment,k),U(S.$$.fragment,k),U(I.$$.fragment,k),q&&U(q.$$.fragment,k),ge=!1},d(k){k&&(_(n),_(l),_(m),_(b),_(h),_(P),_($),_(Z),_(j),_(oe),_(ve)),ue(t,k),ue(c,k),ue(S,k),ue(I,k),pe(O,k),pe(X,k),q&&ue(q,k),G=!1,Ke(R)}}}function Ul(a,t,n){let{data:l}=t;const{chords:e}=l;Xe(async()=>{try{const v=(await qt()).reduce((P,S)=>(P.set(S.url,{...S}),P),new Map);Oe.set(v)}catch(g){const v=`<strong>Couldn't get visits count</strong><br/> ${g.message}`;Ht.push(v,{duration:0,theme:{"--toastBarBackground":"#FF0000"}})}});let r="";const s=[{label:"By artist",component:dl},{label:"By tags",component:pl},{label:"By frequency",component:vl},{label:"By access date",component:fl}];let i=s[0],o={pdf:!0,doc:!0,youtube:!0,link:!0};const u=Object.keys(o),f=()=>Jt(El),m=()=>tl("/songbook/edit");function c(){r=this.value,n(0,r)}const b=()=>n(0,r="");function h(g){o[g]=this.checked,n(2,o)}const B=g=>{n(2,o[g]=!o[g],o),n(2,o)},p=g=>n(1,i=g);return a.$$set=g=>{"data"in g&&n(6,l=g.data)},[r,i,o,e,s,u,l,f,m,c,b,h,B,p]}class Yl extends Le{constructor(t){super(),Te(this,t,Ul,Pl,he,{data:6})}}export{Yl as component,Xl as universal};
