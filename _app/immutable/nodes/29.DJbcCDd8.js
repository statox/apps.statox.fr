import"../chunks/DsnmJJEf.js";import{p as H,b as i,f as S,s as p,g as t,aI as X,r,h as z,i as Y,a as o,d as V,U as Z,e as v,t as x,C as tt}from"../chunks/C1Jxye1l.js";import{d as q,s as $}from"../chunks/B5mDzSg_.js";import{a as at}from"../chunks/DcdHlYY_.js";import{M as et}from"../chunks/BkqP7uoK.js";import{M as rt}from"../chunks/CQjt9_o_.js";import{g as ot}from"../chunks/O39cUMhA.js";import{i as B}from"../chunks/BAKOb8xY.js";import{e as D,i as E}from"../chunks/1qSvZEoQ.js";import{r as it,a as b}from"../chunks/Z-lh6Sw0.js";import{b as st}from"../chunks/DeqYhWtL.js";import{t as nt}from"../chunks/Dr9dkngU.js";import{P as M}from"../chunks/CELBgAxi.js";import"../chunks/Bdxdj0h6.js";import"../chunks/BrfKzKPW.js";import{p as lt}from"../chunks/rc8jUsVI.js";/* empty css                */import"../chunks/CYl4EDKT.js";import{g as dt}from"../chunks/CagW43ER.js";const ct=!1,Et=Object.freeze(Object.defineProperty({__proto__:null,ssr:ct},Symbol.toStringTag,{value:"Module"}));var mt=i('<span class="tag svelte-noox7t"> </span>'),vt=i('<video class="medium-margin svelte-noox7t" style="max-width: 100%" controls></video>',2),pt=i('<img class="medium-margin svelte-noox7t"/>'),ut=i('<div><div><b> </b></div> <div class="svelte-noox7t"></div> <div><button class="full-width svelte-noox7t"><i class="fas fa-copy"></i> Copy link</button></div></div> <div><a rel="noopener noreferrer" target="blank"><!></a></div>',1),ft=i('<button class="full-width medium-margin svelte-noox7t">More...</button>'),gt=i('<input class="full-width medium-margin svelte-noox7t" type="text" placeholder="Search by tags or name"/> <div class="container svelte-noox7t"></div> <!>',1);function _t(U,g){H(g,!0);const u=10;let _=z(1),d=z("");const w=X(()=>g.reactions.filter(a=>k(a,t(d))).sort((a,e)=>e.creationDateUnix-a.creationDateUnix).slice(0,t(d).length?void 0:t(_)*u)),k=(a,e)=>{if(!e.length||a.name.toLowerCase().includes(e.toLowerCase()))return!0;for(const h of a.tags)if(h.toLowerCase().includes(e.toLowerCase()))return!0;return!1},P=a=>{navigator.clipboard.writeText(M+a.uri),nt.push('<i class="fas fa-check"></i> Link copied to clipboard',{duration:1e3,theme:{"--toastBarHeight":0}})},s=a=>a.s3PresignedUrl.includes(".mp4");var n=gt(),l=S(n);it(l);var f=p(l,2);D(f,21,()=>t(w),E,(a,e)=>{var T=ut(),h=S(T),C=v(h),N=v(C),F=v(N,!0);r(N),r(C);var A=p(C,2);D(A,21,()=>t(e).tags,E,(c,m)=>{var I=mt(),W=v(I,!0);r(I),x(()=>$(W,t(m))),o(c,I)}),r(A);var O=p(A,2),J=v(O);J.__click=()=>P(t(e)),r(O),r(h);var j=p(h,2),L=v(j),G=v(L);{var K=c=>{var m=vt();x(()=>b(m,"src",M+t(e).uri)),o(c,m)},Q=c=>{var m=pt();x(()=>{b(m,"src",M+t(e).uri),b(m,"alt",t(e).name)}),o(c,m)};B(G,c=>{s(t(e))?c(K):c(Q,!1)})}r(L),r(j),x(()=>{$(F,t(e).name),b(L,"href",M+t(e).uri),b(L,"download",t(e).name)}),o(a,T)}),r(f);var y=p(f,2);{var R=a=>{var e=ft();e.__click=()=>Z(_),o(a,e)};B(y,a=>{t(d).length===0&&t(_)*u<g.reactions.length&&a(R)})}st(l,()=>t(d),a=>Y(d,a)),o(U,n),V()}q(["click"]);var ht=i("<button>Add an entry</button>"),bt=i("<p>Something went wrong</p> <p> </p>",1),xt=i("<p>Loading data</p>"),wt=i("<!> <h2>Upload</h2> <!> <h2>Content</h2> <!>",1);function Ht(U,g){H(g,!0);const u={name:"Reactor",description:"My collection of memes",showAuthInHeader:!0};lt.set(u);let _=tt(ot());var d=wt(),w=S(d);rt(w,{get title(){return u.name},get description(){return u.description}});var k=p(w,4);et(k,{message:"Login to add an entry",requiredScope:"admin",children:(s,n)=>{var l=ht();l.__click=()=>dt("/reactor/create"),o(s,l)},$$slots:{default:!0}});var P=p(k,4);at(P,()=>_,s=>{var n=xt();o(s,n)},(s,n)=>{_t(s,{get reactions(){return t(n)}})},(s,n)=>{var l=bt(),f=p(S(l),2),y=v(f,!0);r(f),x(R=>$(y,R),[()=>JSON.stringify(t(n))]),o(s,l)}),o(U,d),V()}q(["click"]);export{Ht as component,Et as universal};
