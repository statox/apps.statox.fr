import{g as Vt,a as Rt}from"../chunks/api.IS65-E9a.js";import{s as _e,L as It,f as C,g as w,M as X,j as L,F as Re,i as T,w as te,r as re,d as _,A as ze,a as N,l as R,h as B,c as y,m as j,K as He,G as d,_ as jt,e as Y,O as pe,n as je,k as Ve,p as Ht,o as Ke,q as Ye,S as We}from"../chunks/scheduler.JOg8NEYR.js";import{S as Le,i as Te,g as Z,t as P,c as x,a as $,b as fe,d as ge,m as ue,e as he}from"../chunks/index.LkMwavup.js";import{e as z,u as Mt,o as qt}from"../chunks/each.7LNSErVp.js";import{a as Ft,o as zt}from"../chunks/store._TEP_kO9.js";/* empty css                          */import{M as Kt}from"../chunks/Main.aSKv4q5N.js";import{w as Gt}from"../chunks/index.hzJ3uQpl.js";import{b as Jt}from"../chunks/paths.CKa-UW27.js";import{P as Ge}from"../chunks/public.C30nq52-.js";import{g as Xt,t as Yt}from"../chunks/service.ZLFloEuv.js";import{h as Wt,u as Qt}from"../chunks/await_block.0983Bfv9.js";import{g as Zt}from"../chunks/navigation.UnKxbCj6.js";const xt=async()=>({chords:await Vt()}),Kl=Object.freeze(Object.defineProperty({__proto__:null,load:xt},Symbol.toStringTag,{value:"Module"})),{clearTimeout:Qe,setTimeout:Ze,window:Me}=Rt;function el(i){let t=!1,l=()=>{t=!1},n,e,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',r,a;return It(i[3]),{c(){e=C("button"),e.innerHTML=s,this.h()},l(o){e=w(o,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-ed45ug"&&(e.innerHTML=s),this.h()},h(){L(e,"class","top-link svelte-1kbb9q3"),Re(e,"hide",i[1])},m(o,f){T(o,e,f),r||(a=[te(Me,"scroll",()=>{t=!0,Qe(n),n=Ze(l,100),i[3]()}),te(e,"click",i[2])],r=!0)},p(o,[f]){f&1&&!t&&(t=!0,Qe(n),scrollTo(Me.pageXOffset,o[0]),n=Ze(l,100)),f&2&&Re(e,"hide",o[1])},i:re,o:re,d(o){o&&_(e),r=!1,ze(a)}}}function tl(i,t,l){let n,e=!0,s;const r=f=>{f>0?l(1,e=!1):l(1,e=!0),s&&clearTimeout(s),s=setTimeout(()=>{l(1,e=!0)},3e3)},a=()=>{const f=document.documentElement.scrollTop||document.body.scrollTop;f>0&&(window.requestAnimationFrame(a),window.scrollTo(0,f-f/2))};function o(){l(0,n=Me.pageYOffset)}return i.$$.update=()=>{i.$$.dirty&1&&r(n)},[n,e,a,o]}class ll extends Le{constructor(t){super(),Te(this,t,tl,el,_e,{})}}const Pe=Gt(),qe=i=>i==="doc"?"fas fa-file-word":i==="pdf"?"fas fa-file-pdf":i==="youtube"?"fa fa-youtube":"fas fa-link";function nl(i){let t,l,n,e,s,r,a,o,f;return{c(){t=C("span"),n=N(),e=C("span"),s=C("a"),r=R(i[2]),this.h()},l(u){t=w(u,"SPAN",{class:!0}),B(t).forEach(_),n=y(u),e=w(u,"SPAN",{});var m=B(e);s=w(m,"A",{href:!0,target:!0,rel:!0,title:!0});var c=B(s);r=j(c,i[2]),c.forEach(_),m.forEach(_),this.h()},h(){L(t,"class",l=He(qe(i[0].type))+" svelte-1gxig14"),L(s,"href",a=i[3](i[0])),L(s,"target","_blank"),L(s,"rel","noopener noreferrer"),L(s,"title",i[1])},m(u,m){T(u,t,m),T(u,n,m),T(u,e,m),d(e,s),d(s,r),o||(f=te(s,"click",i[4]),o=!0)},p(u,[m]){m&1&&l!==(l=He(qe(u[0].type))+" svelte-1gxig14")&&L(t,"class",l),m&1&&a!==(a=u[3](u[0]))&&L(s,"href",a),m&2&&L(s,"title",u[1])},i:re,o:re,d(u){u&&(_(t),_(n),_(e)),o=!1,f()}}}function sl(i,t,l){let{chord:n}=t,{showArtist:e=!1}=t,s;Pe.subscribe(f=>{if(f&&f.has(n.url)){const u=f.get(n.url),m=new Date(u.lastAccessDateUnix*1e3);l(1,s=`visits: ${u.count} - last: ${m.toLocaleDateString()}`)}});const r=(e?n.artist+" - ":"")+n.title,a=f=>f.type==="doc"?`${Jt}/docviewer/${f.url}`:f.url,o=()=>{const f=Ge+"/chords/addLinkVisit",u={url:n.url},m=c=>{const k=`<strong>Visit not counted</strong><br/> ${c.message}`;Yt.push(k,{initial:0,theme:{"--toastBarBackground":"#FF0000"}})};Xt().then(c=>{fetch(f,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(u)}).then(k=>{if(k&&k.status!==200)throw new Error(k.statusText);const h=jt(Pe),A=h.get(n.url)||{count:0,lastAccessDateUnix:0};A.count++,A.lastAccessDateUnix=Date.now()/1e3,h.set(n.url,A),Pe.set(h)}).catch(m)}).catch(m)};return i.$$set=f=>{"chord"in f&&l(0,n=f.chord),"showArtist"in f&&l(5,e=f.showArtist)},[n,s,r,a,o,e]}class Oe extends Le{constructor(t){super(),Te(this,t,sl,nl,_e,{chord:0,showArtist:5})}}function xe(i,t,l){const n=i.slice();n[5]=t[l];const e=n[3].get(n[5].url);return n[6]=e,n}function et(i){let t,l,n,e,s,r=i[6]&&tt(i);return n=new Oe({props:{chord:i[5],showArtist:!0}}),{c(){t=C("li"),r&&r.c(),l=N(),fe(n.$$.fragment),e=N(),this.h()},l(a){t=w(a,"LI",{class:!0});var o=B(t);r&&r.l(o),l=y(o),ge(n.$$.fragment,o),e=y(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(a,o){T(a,t,o),r&&r.m(t,null),d(t,l),ue(n,t,null),d(t,e),s=!0},p(a,o){a[6]?r?r.p(a,o):(r=tt(a),r.c(),r.m(t,l)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[5]),n.$set(f)},i(a){s||($(n.$$.fragment,a),s=!0)},o(a){P(n.$$.fragment,a),s=!1},d(a){a&&_(t),r&&r.d(),he(n)}}}function tt(i){let t,l=i[6].count+"",n,e;return{c(){t=R("("),n=R(l),e=R(")")},l(s){t=j(s,"("),n=j(s,l),e=j(s,")")},m(s,r){T(s,t,r),T(s,n,r),T(s,e,r)},p(s,r){r&9&&l!==(l=s[6].count+"")&&je(n,l)},d(s){s&&(_(t),_(n),_(e))}}}function lt(i){let t=i[4](i[5],i[1],i[2]),l,n,e=t&&et(i);return{c(){e&&e.c(),l=Y()},l(s){e&&e.l(s),l=Y()},m(s,r){e&&e.m(s,r),T(s,l,r),n=!0},p(s,r){r&7&&(t=s[4](s[5],s[1],s[2])),t?e?(e.p(s,r),r&7&&$(e,1)):(e=et(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(Z(),P(e,1,1,()=>{e=null}),x())},i(s){n||($(e),n=!0)},o(s){P(e),n=!1},d(s){s&&_(l),e&&e.d(s)}}}function nt(i){let t,l,n=z(i[0]),e=[];for(let r=0;r<n.length;r+=1)e[r]=lt(xe(i,n,r));const s=r=>P(e[r],1,1,()=>{e[r]=null});return{c(){t=C("ul");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=w(r,"UL",{class:!0});var a=B(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(r,a){T(r,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);l=!0},p(r,a){if(a&31){n=z(r[0]);let o;for(o=0;o<n.length;o+=1){const f=xe(r,n,o);e[o]?(e[o].p(f,a),$(e[o],1)):(e[o]=lt(f),e[o].c(),$(e[o],1),e[o].m(t,null))}for(Z(),o=n.length;o<e.length;o+=1)s(o);x()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)$(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)P(e[a]);l=!1},d(r){r&&_(t),pe(e,r)}}}function rl(i){let t=i[0],l,n,e=nt(i);return{c(){e.c(),l=Y()},l(s){e.l(s),l=Y()},m(s,r){e.m(s,r),T(s,l,r),n=!0},p(s,[r]){r&1&&_e(t,t=s[0])?(Z(),P(e,1,1,re),x(),e=nt(s),e.c(),$(e,1),e.m(l.parentNode,l)):e.p(s,r)},i(s){n||($(e),n=!0)},o(s){P(e),n=!1},d(s){s&&_(l),e.d(s)}}}function ol(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t,r;Pe.subscribe(o=>{o&&(l(3,r=o),l(0,e=e.sort((f,u)=>{const m=o.get(f.url),c=o.get(u.url);return m&&c?c.lastAccessDateUnix-m.lastAccessDateUnix:m?-1:c?1:f.artist!=u.artist?f.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:f.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const a=(o,f,u)=>u[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return i.$$set=o=>{"searchString"in o&&l(1,n=o.searchString),"chords"in o&&l(0,e=o.chords),"filters"in o&&l(2,s=o.filters)},[e,n,s,r,a]}class il extends Le{constructor(t){super(),Te(this,t,ol,rl,_e,{searchString:1,chords:0,filters:2})}}const al=(i,t)=>i<t?-1:i>t?1:0,Fe=(i,t)=>{const l=i.toLowerCase(),n=t.toLowerCase();return al(l,n)};function st(i,t,l){const n=i.slice();n[14]=t[l];const e=n[8](n[14].name,n[0],n[1]);return n[2]=e,n}function rt(i,t,l){const n=i.slice();return n[17]=t[l],n}function ot(i,t,l){const n=i.slice();return n[20]=t[l],n}function it(i){let t,l,n=i[20].letter.toUpperCase()+"",e,s;return{c(){t=C("li"),l=C("a"),e=R(n),s=N(),this.h()},l(r){t=w(r,"LI",{class:!0});var a=B(t);l=w(a,"A",{href:!0,class:!0});var o=B(l);e=j(o,n),o.forEach(_),s=y(a),a.forEach(_),this.h()},h(){L(l,"href","#"+i[20].tag),L(l,"class","navigationLink svelte-1deg5s8"),L(t,"class","navigationBtn svelte-1deg5s8")},m(r,a){T(r,t,a),d(t,l),d(l,e),d(t,s)},p:re,d(r){r&&_(t)}}}function at(i){let t,l,n=i[14].name+"",e,s,r,a,o,f=z(i[2]),u=[];for(let c=0;c<f.length;c+=1)u[c]=ct(rt(i,f,c));const m=c=>P(u[c],1,1,()=>{u[c]=null});return{c(){t=C("tr"),l=C("td"),e=R(n),s=N(),r=C("ul");for(let c=0;c<u.length;c+=1)u[c].c();a=N(),this.h()},l(c){t=w(c,"TR",{class:!0});var k=B(t);l=w(k,"TD",{id:!0,class:!0});var h=B(l);e=j(h,n),s=y(h),r=w(h,"UL",{class:!0});var A=B(r);for(let p=0;p<u.length;p+=1)u[p].l(A);A.forEach(_),h.forEach(_),a=y(k),k.forEach(_),this.h()},h(){L(r,"class","ul2col-container"),L(l,"id",i[14].tag),L(l,"class","svelte-1deg5s8"),L(t,"class","svelte-1deg5s8")},m(c,k){T(c,t,k),d(t,l),d(l,e),d(l,s),d(l,r);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(r,null);d(t,a),o=!0},p(c,k){if(k&387){f=z(c[2]);let h;for(h=0;h<f.length;h+=1){const A=rt(c,f,h);u[h]?(u[h].p(A,k),$(u[h],1)):(u[h]=ct(A),u[h].c(),$(u[h],1),u[h].m(r,null))}for(Z(),h=f.length;h<u.length;h+=1)m(h);x()}},i(c){if(!o){for(let k=0;k<f.length;k+=1)$(u[k]);o=!0}},o(c){u=u.filter(Boolean);for(let k=0;k<u.length;k+=1)P(u[k]);o=!1},d(c){c&&_(t),pe(u,c)}}}function ct(i){let t,l,n,e;return l=new Oe({props:{chord:i[17]}}),{c(){t=C("li"),fe(l.$$.fragment),n=N(),this.h()},l(s){t=w(s,"LI",{class:!0});var r=B(t);ge(l.$$.fragment,r),n=y(r),r.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(s,r){T(s,t,r),ue(l,t,null),d(t,n),e=!0},p(s,r){const a={};r&3&&(a.chord=s[17]),l.$set(a)},i(s){e||($(l.$$.fragment,s),e=!0)},o(s){P(l.$$.fragment,s),e=!1},d(s){s&&_(t),he(l)}}}function ft(i){let t=i[9](i[14].name,i[2],i[0],i[1]),l,n,e=t&&at(i);return{c(){e&&e.c(),l=Y()},l(s){e&&e.l(s),l=Y()},m(s,r){e&&e.m(s,r),T(s,l,r),n=!0},p(s,r){r&3&&(t=s[9](s[14].name,s[2],s[0],s[1])),t?e?(e.p(s,r),r&3&&$(e,1)):(e=at(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(Z(),P(e,1,1,()=>{e=null}),x())},i(s){n||($(e),n=!0)},o(s){P(e),n=!1},d(s){s&&_(l),e&&e.d(s)}}}function cl(i){let t=!1,l=()=>{t=!1},n,e,s=`${i[4]}px`,r,a,o,f,u;It(i[10]);let m=z(i[6]),c=[];for(let p=0;p<m.length;p+=1)c[p]=it(ot(i,m,p));let k=z(i[7]),h=[];for(let p=0;p<k.length;p+=1)h[p]=ft(st(i,k,p));const A=p=>P(h[p],1,1,()=>{h[p]=null});return{c(){e=C("ol");for(let p=0;p<c.length;p+=1)c[p].c();r=N(),a=C("table");for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){e=w(p,"OL",{id:!0,class:!0});var g=B(e);for(let U=0;U<c.length;U+=1)c[U].l(g);g.forEach(_),r=y(p),a=w(p,"TABLE",{id:!0});var v=B(a);for(let U=0;U<h.length;U+=1)h[U].l(v);v.forEach(_),this.h()},h(){L(e,"id","indexList"),L(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),Ve(e,"--barTop",s),L(a,"id","artistTable")},m(p,g){T(p,e,g);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(e,null);T(p,r,g),T(p,a,g);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(a,null);i[11](a),o=!0,f||(u=te(window,"scroll",()=>{t=!0,clearTimeout(n),n=setTimeout(l,100),i[10]()}),f=!0)},p(p,[g]){if(g&8&&!t&&(t=!0,clearTimeout(n),scrollTo(window.pageXOffset,p[3]),n=setTimeout(l,100)),g&64){m=z(p[6]);let v;for(v=0;v<m.length;v+=1){const U=ot(p,m,v);c[v]?c[v].p(U,g):(c[v]=it(U),c[v].c(),c[v].m(e,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=m.length}if(g&16&&s!==(s=`${p[4]}px`)&&Ve(e,"--barTop",s),g&899){k=z(p[7]);let v;for(v=0;v<k.length;v+=1){const U=st(p,k,v);h[v]?(h[v].p(U,g),$(h[v],1)):(h[v]=ft(U),h[v].c(),$(h[v],1),h[v].m(a,null))}for(Z(),v=k.length;v<h.length;v+=1)A(v);x()}},i(p){if(!o){for(let g=0;g<k.length;g+=1)$(h[g]);o=!0}},o(p){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)P(h[g]);o=!1},d(p){p&&(_(e),_(r),_(a)),pe(c,p),pe(h,p),i[11](null),f=!1,u()}}}function fl(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t;const r=e.reduce((g,v)=>{const U=v.artist;return g[U]||(g[U]=[]),g[U].push(v),g},{}),a=[],o=Object.keys(r).sort(Fe).map((g,v,U)=>{if(v===0||g[0].toLowerCase()!=U[v-1][0].toLowerCase()){const S="anchor_letter_"+g[0];return a.push({letter:g[0],tag:S}),{name:g,tag:S}}return{name:g}});let f,u=0,m;const c=g=>{if(m){var v=m.getBoundingClientRect();if(v.top<20){l(4,u=20);return}l(4,u=v.top)}},k=(g,v,U)=>r[g].sort((E,I)=>E.title<I.title?-1:1).filter(E=>{const I=E.type;return U[I]===!1?!1:v.length===0?!0:(g+";"+E.title+";"+E.tags.join(",")).toLowerCase().match(v.toLowerCase())}),h=(g,v,U,S)=>v.length===0?!1:U.length===0?!0:(g+";"+v.reduce((I,W)=>I+W.title+";"+W.tags.join(","),"")).toLowerCase().match(U.toLowerCase());function A(){l(3,f=window.pageYOffset)}function p(g){Ht[g?"unshift":"push"](()=>{m=g,l(5,m)})}return i.$$set=g=>{"searchString"in g&&l(0,n=g.searchString),"chords"in g&&l(2,e=g.chords),"filters"in g&&l(1,s=g.filters)},i.$$.update=()=>{i.$$.dirty&8&&c()},[n,s,e,f,u,m,a,o,k,h,A,p]}class ul extends Le{constructor(t){super(),Te(this,t,fl,cl,_e,{searchString:0,chords:2,filters:1})}}function ut(i,t,l){const n=i.slice();return n[5]=t[l],n}function ht(i,t,l){const n=i.slice();return n[8]=t[l],n}function _t(i){let t,l,n=i[3](i[5])+"",e,s,r,a,o,f=z(i[2][i[5]]),u=[];for(let c=0;c<f.length;c+=1)u[c]=mt(ht(i,f,c));const m=c=>P(u[c],1,1,()=>{u[c]=null});return{c(){t=C("div"),l=C("span"),e=R(n),s=N(),r=C("ul");for(let c=0;c<u.length;c+=1)u[c].c();a=N(),this.h()},l(c){t=w(c,"DIV",{});var k=B(t);l=w(k,"SPAN",{});var h=B(l);e=j(h,n),h.forEach(_),s=y(k),r=w(k,"UL",{class:!0});var A=B(r);for(let p=0;p<u.length;p+=1)u[p].l(A);A.forEach(_),a=y(k),k.forEach(_),this.h()},h(){L(r,"class","ul2col-container")},m(c,k){T(c,t,k),d(t,l),d(l,e),d(t,s),d(t,r);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(r,null);d(t,a),o=!0},p(c,k){if((!o||k&4)&&n!==(n=c[3](c[5])+"")&&je(e,n),k&6){f=z(c[2][c[5]]);let h;for(h=0;h<f.length;h+=1){const A=ht(c,f,h);u[h]?(u[h].p(A,k),$(u[h],1)):(u[h]=mt(A),u[h].c(),$(u[h],1),u[h].m(r,null))}for(Z(),h=f.length;h<u.length;h+=1)m(h);x()}},i(c){if(!o){for(let k=0;k<f.length;k+=1)$(u[k]);o=!0}},o(c){u=u.filter(Boolean);for(let k=0;k<u.length;k+=1)P(u[k]);o=!1},d(c){c&&_(t),pe(u,c)}}}function dt(i){let t,l,n,e;return l=new Oe({props:{chord:i[8],showArtist:!0}}),{c(){t=C("li"),fe(l.$$.fragment),n=N(),this.h()},l(s){t=w(s,"LI",{class:!0});var r=B(t);ge(l.$$.fragment,r),n=y(r),r.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(s,r){T(s,t,r),ue(l,t,null),d(t,n),e=!0},p(s,r){const a={};r&4&&(a.chord=s[8]),l.$set(a)},i(s){e||($(l.$$.fragment,s),e=!0)},o(s){P(l.$$.fragment,s),e=!1},d(s){s&&_(t),he(l)}}}function mt(i){let t,l,n=i[1][i[8].type]&&dt(i);return{c(){n&&n.c(),t=Y()},l(e){n&&n.l(e),t=Y()},m(e,s){n&&n.m(e,s),T(e,t,s),l=!0},p(e,s){e[1][e[8].type]?n?(n.p(e,s),s&6&&$(n,1)):(n=dt(e),n.c(),$(n,1),n.m(t.parentNode,t)):n&&(Z(),P(n,1,1,()=>{n=null}),x())},i(e){l||($(n),l=!0)},o(e){P(n),l=!1},d(e){e&&_(t),n&&n.d(e)}}}function gt(i){let t=i[0].length===0||i[5].toLowerCase().match(i[0].toLowerCase()),l,n,e=t&&_t(i);return{c(){e&&e.c(),l=Y()},l(s){e&&e.l(s),l=Y()},m(s,r){e&&e.m(s,r),T(s,l,r),n=!0},p(s,r){r&5&&(t=s[0].length===0||s[5].toLowerCase().match(s[0].toLowerCase())),t?e?(e.p(s,r),r&5&&$(e,1)):(e=_t(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(Z(),P(e,1,1,()=>{e=null}),x())},i(s){n||($(e),n=!0)},o(s){P(e),n=!1},d(s){s&&_(l),e&&e.d(s)}}}function hl(i){let t,l,n=z(Object.keys(i[2]).sort(Fe)),e=[];for(let r=0;r<n.length;r+=1)e[r]=gt(ut(i,n,r));const s=r=>P(e[r],1,1,()=>{e[r]=null});return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=Y()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=Y()},m(r,a){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(r,a);T(r,t,a),l=!0},p(r,[a]){if(a&15){n=z(Object.keys(r[2]).sort(Fe));let o;for(o=0;o<n.length;o+=1){const f=ut(r,n,o);e[o]?(e[o].p(f,a),$(e[o],1)):(e[o]=gt(f),e[o].c(),$(e[o],1),e[o].m(t.parentNode,t))}for(Z(),o=n.length;o<e.length;o+=1)s(o);x()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)$(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)P(e[a]);l=!1},d(r){r&&_(t),pe(e,r)}}}function _l(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t;const r=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),a={};for(const o of e)o.tags.forEach(u=>{a[u]||l(2,a[u]=[],a),a[u].push(o)});return Object.keys(a).forEach(o=>{a[o].sort((f,u)=>{const m=f.artist.toLowerCase(),c=u.artist.toLowerCase(),k=f.title.toLowerCase(),h=u.title.toLowerCase();return m<c?-1:m>c?1:k<h?-1:1})}),i.$$set=o=>{"searchString"in o&&l(0,n=o.searchString),"chords"in o&&l(4,e=o.chords),"filters"in o&&l(1,s=o.filters)},[n,s,a,r,e]}class dl extends Le{constructor(t){super(),Te(this,t,_l,hl,_e,{searchString:0,chords:4,filters:1})}}function pt(i,t,l){const n=i.slice();n[5]=t[l];const e=n[3].get(n[5].url);return n[6]=e,n}function kt(i){let t,l,n,e,s,r=i[6]&&bt(i);return n=new Oe({props:{chord:i[5],showArtist:!0}}),{c(){t=C("li"),r&&r.c(),l=N(),fe(n.$$.fragment),e=N(),this.h()},l(a){t=w(a,"LI",{class:!0});var o=B(t);r&&r.l(o),l=y(o),ge(n.$$.fragment,o),e=y(o),o.forEach(_),this.h()},h(){L(t,"class","ul2col-item")},m(a,o){T(a,t,o),r&&r.m(t,null),d(t,l),ue(n,t,null),d(t,e),s=!0},p(a,o){a[6]?r?r.p(a,o):(r=bt(a),r.c(),r.m(t,l)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[5]),n.$set(f)},i(a){s||($(n.$$.fragment,a),s=!0)},o(a){P(n.$$.fragment,a),s=!1},d(a){a&&_(t),r&&r.d(),he(n)}}}function bt(i){let t,l=i[6].count+"",n,e;return{c(){t=R("("),n=R(l),e=R(")")},l(s){t=j(s,"("),n=j(s,l),e=j(s,")")},m(s,r){T(s,t,r),T(s,n,r),T(s,e,r)},p(s,r){r&9&&l!==(l=s[6].count+"")&&je(n,l)},d(s){s&&(_(t),_(n),_(e))}}}function vt(i){let t=i[4](i[5],i[1],i[2]),l,n,e=t&&kt(i);return{c(){e&&e.c(),l=Y()},l(s){e&&e.l(s),l=Y()},m(s,r){e&&e.m(s,r),T(s,l,r),n=!0},p(s,r){r&7&&(t=s[4](s[5],s[1],s[2])),t?e?(e.p(s,r),r&7&&$(e,1)):(e=kt(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(Z(),P(e,1,1,()=>{e=null}),x())},i(s){n||($(e),n=!0)},o(s){P(e),n=!1},d(s){s&&_(l),e&&e.d(s)}}}function Ct(i){let t,l,n=z(i[0]),e=[];for(let r=0;r<n.length;r+=1)e[r]=vt(pt(i,n,r));const s=r=>P(e[r],1,1,()=>{e[r]=null});return{c(){t=C("ul");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=w(r,"UL",{class:!0});var a=B(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(_),this.h()},h(){L(t,"class","ul2col-container")},m(r,a){T(r,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);l=!0},p(r,a){if(a&31){n=z(r[0]);let o;for(o=0;o<n.length;o+=1){const f=pt(r,n,o);e[o]?(e[o].p(f,a),$(e[o],1)):(e[o]=vt(f),e[o].c(),$(e[o],1),e[o].m(t,null))}for(Z(),o=n.length;o<e.length;o+=1)s(o);x()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)$(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)P(e[a]);l=!1},d(r){r&&_(t),pe(e,r)}}}function ml(i){let t=i[0],l,n,e=Ct(i);return{c(){e.c(),l=Y()},l(s){e.l(s),l=Y()},m(s,r){e.m(s,r),T(s,l,r),n=!0},p(s,[r]){r&1&&_e(t,t=s[0])?(Z(),P(e,1,1,re),x(),e=Ct(s),e.c(),$(e,1),e.m(l.parentNode,l)):e.p(s,r)},i(s){n||($(e),n=!0)},o(s){P(e),n=!1},d(s){s&&_(l),e.d(s)}}}function gl(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t,r;Pe.subscribe(o=>{o&&(l(3,r=o),l(0,e=e.sort((f,u)=>{const m=o.get(f.url),c=o.get(u.url);return m&&c?m.count!==c.count?c.count-m.count:c.lastAccessDateUnix-m.lastAccessDateUnix:m?-1:c?1:f.artist!=u.artist?f.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:f.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const a=(o,f,u)=>u[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return i.$$set=o=>{"searchString"in o&&l(1,n=o.searchString),"chords"in o&&l(0,e=o.chords),"filters"in o&&l(2,s=o.filters)},[e,n,s,r,a]}class pl extends Le{constructor(t){super(),Te(this,t,gl,ml,_e,{searchString:1,chords:0,filters:2})}}function wt(i){const t=i[2](i[5]);i[6]=t;const l=i[3](i[5]);i[7]=l}function Lt(i,t,l){const n=i.slice();return n[8]=t[l],n}function Tt(i){let t,l,n,e,s,r="Close",a,o,f,u={ctx:i,current:null,token:null,hasCatch:!0,pending:vl,then:bl,catch:kl,value:5,error:11};return Wt(i[1],u),{c(){t=C("div"),l=C("div"),n=C("h3"),e=R(`Urls checks
                `),s=C("button"),s.textContent=r,a=N(),u.block.c(),this.h()},l(m){t=w(m,"DIV",{role:!0,class:!0});var c=B(t);l=w(c,"DIV",{class:!0});var k=B(l);n=w(k,"H3",{class:!0});var h=B(n);e=j(h,`Urls checks
                `),s=w(h,"BUTTON",{"data-svelte-h":!0}),X(s)!=="svelte-2m9p61"&&(s.textContent=r),h.forEach(_),a=y(k),u.block.l(k),k.forEach(_),c.forEach(_),this.h()},h(){L(n,"class","title-bar svelte-1b7k28l"),L(l,"class","contents svelte-1b7k28l"),L(t,"role","dialog"),L(t,"class","modal svelte-1b7k28l")},m(m,c){T(m,t,c),d(t,l),d(l,n),d(n,e),d(n,s),d(l,a),u.block.m(l,u.anchor=null),u.mount=()=>l,u.anchor=null,o||(f=te(s,"click",Ft),o=!0)},p(m,c){i=m,Qt(u,i,c)},d(m){m&&_(t),u.block.d(),u.token=null,u=null,o=!1,f()}}}function kl(i){let t,l,n=i[11].message+"",e;return{c(){t=C("p"),l=R("Could not retrieve checks: "),e=R(n),this.h()},l(s){t=w(s,"P",{style:!0});var r=B(t);l=j(r,"Could not retrieve checks: "),e=j(r,n),r.forEach(_),this.h()},h(){Ve(t,"color","red")},m(s,r){T(s,t,r),d(t,l),d(t,e)},p:re,d(s){s&&_(t)}}}function bl(i){wt(i);let t,l,n="Last Check",e,s,r="Checks",a,o,f="Skipped",u,m,c="Errors",k,h,A=i[6]+"",p,g,v,U=i[5].nbChecks+"",S,E,I,W=i[5].nbSkipped+"",q,Q,Se,$e=i[5].nbFails+"",oe,Ee,ie,Ne,G,le,Ie="Status",ye,ee,De="Ref",ke,be,Ue="Host",de,ae,F="Data",ve,me=z(i[7]),K=[];for(let H=0;H<me.length;H+=1)K[H]=St(Lt(i,me,H));return{c(){t=C("div"),l=C("span"),l.textContent=n,e=N(),s=C("span"),s.textContent=r,a=N(),o=C("span"),o.textContent=f,u=N(),m=C("span"),m.textContent=c,k=N(),h=C("span"),p=R(A),g=N(),v=C("span"),S=R(U),E=N(),I=C("span"),q=R(W),Q=N(),Se=C("span"),oe=R($e),Ee=N(),ie=C("br"),Ne=N(),G=C("div"),le=C("span"),le.textContent=Ie,ye=N(),ee=C("span"),ee.textContent=De,ke=N(),be=C("span"),be.textContent=Ue,de=N(),ae=C("span"),ae.textContent=F,ve=N();for(let H=0;H<K.length;H+=1)K[H].c();this.h()},l(H){t=w(H,"DIV",{class:!0});var V=B(t);l=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1lbvzb0"&&(l.textContent=n),e=y(V),s=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-1wmxeaf"&&(s.textContent=r),a=y(V),o=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-txun94"&&(o.textContent=f),u=y(V),m=w(V,"SPAN",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-5mrj6x"&&(m.textContent=c),k=y(V),h=w(V,"SPAN",{class:!0});var O=B(h);p=j(O,A),O.forEach(_),g=y(V),v=w(V,"SPAN",{class:!0});var ce=B(v);S=j(ce,U),ce.forEach(_),E=y(V),I=w(V,"SPAN",{class:!0});var J=B(I);q=j(J,W),J.forEach(_),Q=y(V),Se=w(V,"SPAN",{class:!0});var Ce=B(Se);oe=j(Ce,$e),Ce.forEach(_),V.forEach(_),Ee=y(H),ie=w(H,"BR",{}),Ne=y(H),G=w(H,"DIV",{class:!0});var se=B(G);le=w(se,"SPAN",{class:!0,"data-svelte-h":!0}),X(le)!=="svelte-1s7ffxq"&&(le.textContent=Ie),ye=y(se),ee=w(se,"SPAN",{class:!0,"data-svelte-h":!0}),X(ee)!=="svelte-1wa8gqx"&&(ee.textContent=De),ke=y(se),be=w(se,"SPAN",{class:!0,"data-svelte-h":!0}),X(be)!=="svelte-33rgke"&&(be.textContent=Ue),de=y(se),ae=w(se,"SPAN",{class:!0,"data-svelte-h":!0}),X(ae)!=="svelte-1yzk30k"&&(ae.textContent=F),ve=y(se);for(let b=0;b<K.length;b+=1)K[b].l(se);se.forEach(_),this.h()},h(){L(l,"class","col table-head svelte-1b7k28l"),L(s,"class","col table-head svelte-1b7k28l"),L(o,"class","col table-head svelte-1b7k28l"),L(m,"class","col table-head svelte-1b7k28l"),L(h,"class","col svelte-1b7k28l"),L(v,"class","col svelte-1b7k28l"),L(I,"class","col svelte-1b7k28l"),L(Se,"class","col svelte-1b7k28l"),L(t,"class","rows svelte-1b7k28l"),L(le,"class","col table-head svelte-1b7k28l"),L(ee,"class","col table-head svelte-1b7k28l"),L(be,"class","col table-head svelte-1b7k28l"),L(ae,"class","col table-head svelte-1b7k28l"),L(G,"class","rows svelte-1b7k28l")},m(H,V){T(H,t,V),d(t,l),d(t,e),d(t,s),d(t,a),d(t,o),d(t,u),d(t,m),d(t,k),d(t,h),d(h,p),d(t,g),d(t,v),d(v,S),d(t,E),d(t,I),d(I,q),d(t,Q),d(t,Se),d(Se,oe),T(H,Ee,V),T(H,ie,V),T(H,Ne,V),T(H,G,V),d(G,le),d(G,ye),d(G,ee),d(G,ke),d(G,be),d(G,de),d(G,ae),d(G,ve);for(let O=0;O<K.length;O+=1)K[O]&&K[O].m(G,null)},p(H,V){if(wt(H),V&10){me=z(H[7]);let O;for(O=0;O<me.length;O+=1){const ce=Lt(H,me,O);K[O]?K[O].p(ce,V):(K[O]=St(ce),K[O].c(),K[O].m(G,null))}for(;O<K.length;O+=1)K[O].d(1);K.length=me.length}},d(H){H&&(_(t),_(Ee),_(ie),_(Ne),_(G)),pe(K,H)}}}function St(i){let t,l=i[8].status+"",n,e,s,r=i[8].chord.artist+"",a,o,f=i[8].chord.title+"",u,m,c,k,h=new URL(i[8].chord.url).hostname+"",A,p,g,v=(i[8].error?JSON.stringify(i[8].error):"")+"",U;return{c(){t=C("span"),n=R(l),e=N(),s=C("span"),a=R(r),o=R(" - "),u=R(f),m=N(),c=C("span"),k=C("a"),A=R(h),p=N(),g=C("span"),U=R(v),this.h()},l(S){t=w(S,"SPAN",{class:!0});var E=B(t);n=j(E,l),E.forEach(_),e=y(S),s=w(S,"SPAN",{class:!0});var I=B(s);a=j(I,r),o=j(I," - "),u=j(I,f),I.forEach(_),m=y(S),c=w(S,"SPAN",{class:!0});var W=B(c);k=w(W,"A",{href:!0,target:!0,rel:!0});var q=B(k);A=j(q,h),q.forEach(_),W.forEach(_),p=y(S),g=w(S,"SPAN",{class:!0});var Q=B(g);U=j(Q,v),Q.forEach(_),this.h()},h(){L(t,"class","col svelte-1b7k28l"),L(s,"class","col svelte-1b7k28l"),L(k,"href",i[8].chord.url),L(k,"target","_blank"),L(k,"rel","noopener noreferrer"),L(c,"class","col svelte-1b7k28l"),L(g,"class","col svelte-1b7k28l")},m(S,E){T(S,t,E),d(t,n),T(S,e,E),T(S,s,E),d(s,a),d(s,o),d(s,u),T(S,m,E),T(S,c,E),d(c,k),d(k,A),T(S,p,E),T(S,g,E),d(g,U)},p:re,d(S){S&&(_(t),_(e),_(s),_(m),_(c),_(p),_(g))}}}function vl(i){let t,l="Fetching results...";return{c(){t=C("p"),t.textContent=l},l(n){t=w(n,"P",{"data-svelte-h":!0}),X(t)!=="svelte-gjakbw"&&(t.textContent=l)},m(n,e){T(n,t,e)},p:re,d(n){n&&_(t)}}}function Cl(i){let t,l=i[0]&&Tt(i);return{c(){l&&l.c(),t=Y()},l(n){l&&l.l(n),t=Y()},m(n,e){l&&l.m(n,e),T(n,t,e)},p(n,[e]){n[0]?l?l.p(n,e):(l=Tt(n),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:re,o:re,d(n){n&&_(t),l&&l.d(n)}}}function wl(i,t,l){let{isOpen:n}=t;const e=Ge+"/chords/checkLinks";let s=fetch(e).then(o=>o.json());const r=o=>{const f=new Date(o.timestamp);return f.toDateString()+" "+f.toTimeString()},a=o=>o.fails.sort((f,u)=>f.chord.url<u.chord.url?-1:1);return i.$$set=o=>{"isOpen"in o&&l(0,n=o.isOpen)},[n,s,r,a]}class Ll extends Le{constructor(t){super(),Te(this,t,wl,Cl,_e,{isOpen:0})}}function Et(i,t,l){const n=i.slice();return n[10]=t[l],n}function At(i){let t,l=i[10].dateTag+"",n;return{c(){t=C("li"),n=R(l),this.h()},l(e){t=w(e,"LI",{class:!0});var s=B(t);n=j(s,l),s.forEach(_),this.h()},h(){L(t,"class","ul2col-separator")},m(e,s){T(e,t,s),d(t,n)},p(e,s){s&1&&l!==(l=e[10].dateTag+"")&&je(n,l)},d(e){e&&_(t)}}}function Nt(i){let t,l,n,e,s,r=i[10].dateTag&&At(i);return n=new Oe({props:{chord:i[10]}}),{c(){r&&r.c(),t=N(),l=C("li"),fe(n.$$.fragment),e=N(),this.h()},l(a){r&&r.l(a),t=y(a),l=w(a,"LI",{class:!0});var o=B(l);ge(n.$$.fragment,o),e=y(o),o.forEach(_),this.h()},h(){L(l,"class","ul2col-item")},m(a,o){r&&r.m(a,o),T(a,t,o),T(a,l,o),ue(n,l,null),d(l,e),s=!0},p(a,o){a[10].dateTag?r?r.p(a,o):(r=At(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[10]),n.$set(f)},i(a){s||($(n.$$.fragment,a),s=!0)},o(a){P(n.$$.fragment,a),s=!1},d(a){a&&(_(t),_(l)),r&&r.d(a),he(n)}}}function Tl(i){let t,l,n,e,s="More...",r,a,o,f,u,m=z(i[0]),c=[];for(let h=0;h<m.length;h+=1)c[h]=Nt(Et(i,m,h));const k=h=>P(c[h],1,1,()=>{c[h]=null});return{c(){t=C("div"),l=C("h3"),n=R(`Latest additions
        `),e=C("button"),e.textContent=s,r=N(),a=C("ul");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){t=w(h,"DIV",{});var A=B(t);l=w(A,"H3",{});var p=B(l);n=j(p,`Latest additions
        `),e=w(p,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-l2h3rt"&&(e.textContent=s),p.forEach(_),r=y(A),a=w(A,"UL",{class:!0});var g=B(a);for(let v=0;v<c.length;v+=1)c[v].l(g);g.forEach(_),A.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(a,"class","ul2col-container")},m(h,A){T(h,t,A),d(t,l),d(l,n),d(l,e),d(t,r),d(t,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(a,null);o=!0,f||(u=te(e,"click",i[3]),f=!0)},p(h,[A]){if(A&1){m=z(h[0]);let p;for(p=0;p<m.length;p+=1){const g=Et(h,m,p);c[p]?(c[p].p(g,A),$(c[p],1)):(c[p]=Nt(g),c[p].c(),$(c[p],1),c[p].m(a,null))}for(Z(),p=m.length;p<c.length;p+=1)k(p);x()}},i(h){if(!o){for(let A=0;A<m.length;A+=1)$(c[A]);o=!0}},o(h){c=c.filter(Boolean);for(let A=0;A<c.length;A+=1)P(c[A]);o=!1},d(h){h&&_(t),pe(c,h),f=!1,u()}}}function Sl(i,t,l){let{chords:n}=t;const e=Date.now(),s=1e3*3600*24*7,r=s*4,a=[{label:"last week",time:e-s},{label:"one month ago",time:e-r},{label:"two monthes ago",time:e-2*r},{label:"six monthes ago",time:e-6*r},{label:"one year ago",time:e-12*r}],o=n.filter(k=>k.creationDate).sort((k,h)=>h.creationDate-k.creationDate).map((k,h,A)=>{const p={...k};if(h>0){const g=A[h-1];for(const{time:v,label:U}of a)g.creationDate>v&&k.creationDate<v&&(p.dateTag=U)}return p});let f=6,u=[];const m=()=>{f+=4,l(0,u=o.slice(0,f))};Ke(()=>{m()});const c=()=>m();return i.$$set=k=>{"chords"in k&&l(2,n=k.chords)},[u,m,n,c]}class El extends Le{constructor(t){super(),Te(this,t,Sl,Tl,_e,{chords:2})}}function yt(i,t,l){const n=i.slice();return n[5]=t[l],n}function Bt(i){let t,l=" ↶ ",n,e;return{c(){t=C("button"),t.textContent=l},l(s){t=w(s,"BUTTON",{"data-svelte-h":!0}),X(t)!=="svelte-1mg1zky"&&(t.textContent=l)},m(s,r){T(s,t,r),n||(e=te(t,"click",i[3]),n=!0)},p:re,d(s){s&&_(t),n=!1,e()}}}function $t(i,t){let l,n,e,s;return n=new Oe({props:{chord:t[5],showArtist:!0}}),{key:i,first:null,c(){l=C("li"),fe(n.$$.fragment),e=N(),this.h()},l(r){l=w(r,"LI",{class:!0});var a=B(l);ge(n.$$.fragment,a),e=y(a),a.forEach(_),this.h()},h(){L(l,"class","ul2col-item"),this.first=l},m(r,a){T(r,l,a),ue(n,l,null),d(l,e),s=!0},p(r,a){t=r;const o={};a&2&&(o.chord=t[5]),n.$set(o)},i(r){s||($(n.$$.fragment,r),s=!0)},o(r){P(n.$$.fragment,r),s=!1},d(r){r&&_(l),he(n)}}}function Al(i){let t,l,n,e,s,r,a="Get more random songs",o,f,u,m,c=[],k=new Map,h,A,p,g=i[0].length>Ae&&Bt(i),v=z(i[1]);const U=S=>S[5].url;for(let S=0;S<v.length;S+=1){let E=yt(i,v,S),I=U(E);k.set(I,c[S]=$t(I,E))}return{c(){t=C("div"),l=C("h3"),n=R(`Random song
        `),e=C("span"),g&&g.c(),s=N(),r=C("button"),r.textContent=a,o=N(),f=C("br"),u=N(),m=C("ul");for(let S=0;S<c.length;S+=1)c[S].c();this.h()},l(S){t=w(S,"DIV",{});var E=B(t);l=w(E,"H3",{});var I=B(l);n=j(I,`Random song
        `),e=w(I,"SPAN",{class:!0});var W=B(e);g&&g.l(W),s=y(W),r=w(W,"BUTTON",{"data-svelte-h":!0}),X(r)!=="svelte-1gfm3kd"&&(r.textContent=a),W.forEach(_),I.forEach(_),o=y(E),f=w(E,"BR",{}),u=y(E),m=w(E,"UL",{class:!0});var q=B(m);for(let Q=0;Q<c.length;Q+=1)c[Q].l(q);q.forEach(_),E.forEach(_),this.h()},h(){L(e,"class","pull-right"),L(m,"class","ul2col-container")},m(S,E){T(S,t,E),d(t,l),d(l,n),d(l,e),g&&g.m(e,null),d(e,s),d(e,r),d(t,o),d(t,f),d(t,u),d(t,m);for(let I=0;I<c.length;I+=1)c[I]&&c[I].m(m,null);h=!0,A||(p=te(r,"click",i[2]),A=!0)},p(S,[E]){S[0].length>Ae?g?g.p(S,E):(g=Bt(S),g.c(),g.m(e,s)):g&&(g.d(1),g=null),E&2&&(v=z(S[1]),Z(),c=Mt(c,E,U,1,S,v,k,m,qt,$t,null,yt),x())},i(S){if(!h){for(let E=0;E<v.length;E+=1)$(c[E]);h=!0}},o(S){for(let E=0;E<c.length;E+=1)P(c[E]);h=!1},d(S){S&&_(t),g&&g.d();for(let E=0;E<c.length;E+=1)c[E].d();A=!1,p()}}}const Ae=6;function Nl(i,t,l){let{chords:n}=t,e=[],s=[];const r=()=>{e.length>=n.length-Ae&&l(0,e=[]);for(let o=0;o<Ae;o++){let f=-1;for(;f===-1||e.includes(f);)f=Math.floor(Math.random()*n.length);e.push(f)}l(1,s=e.slice(e.length-Ae).map(o=>n[o]))},a=()=>{e.length<=Ae||(e.splice(e.length-Ae),l(1,s=e.slice(e.length-Ae).map(o=>n[o])))};return Ke(()=>{r()}),i.$$set=o=>{"chords"in o&&l(4,n=o.chords)},[e,s,r,a,n]}class yl extends Le{constructor(t){super(),Te(this,t,Nl,Al,_e,{chords:4})}}function Dt(i,t,l){const n=i.slice();return n[14]=t[l],n}function Ut(i,t,l){const n=i.slice();return n[17]=t[l],n[18]=t,n[19]=l,n}function Pt(i){let t,l,n,e,s,r,a;function o(){i[11].call(l,i[17])}function f(){return i[12](i[17])}return{c(){t=C("button"),l=C("input"),n=N(),e=C("span"),s=N(),this.h()},l(u){t=w(u,"BUTTON",{class:!0});var m=B(t);l=w(m,"INPUT",{id:!0,type:!0}),n=y(m),e=w(m,"SPAN",{class:!0}),B(e).forEach(_),s=y(m),m.forEach(_),this.h()},h(){L(l,"id",i[17]),L(l,"type","checkbox"),L(e,"class",He(qe(i[17]))+" svelte-kiyfxh"),L(t,"class","filter-control svelte-kiyfxh")},m(u,m){T(u,t,m),d(t,l),l.checked=i[2][i[17]],d(t,n),d(t,e),d(t,s),r||(a=[te(l,"change",o),te(t,"click",f)],r=!0)},p(u,m){i=u,m&36&&(l.checked=i[2][i[17]])},d(u){u&&_(t),r=!1,ze(a)}}}function Ot(i){let t,l=i[14].label+"",n,e,s,r;function a(){return i[13](i[14])}return{c(){t=C("button"),n=R(l),e=N(),this.h()},l(o){t=w(o,"BUTTON",{class:!0});var f=B(t);n=j(f,l),e=y(f),f.forEach(_),this.h()},h(){L(t,"class","control svelte-kiyfxh"),Re(t,"selected",i[1]===i[14])},m(o,f){T(o,t,f),d(t,n),d(t,e),s||(r=te(t,"click",a),s=!0)},p(o,f){i=o,f&18&&Re(t,"selected",i[1]===i[14])},d(o){o&&_(t),s=!1,r()}}}function Bl(i){let t,l,n,e,s,r,a="Check dead links",o,f,u="Edit",m,c,k,h,A,p=i[3].length+"",g,v,U,S,E,I,W,q,Q,Se="All songs",$e,oe,Ee,ie,Ne='<i class="fas fa-times-circle"></i>',G,le,Ie="Filters",ye,ee,De,ke,be="View",Ue,de,ae,F,ve,me,K,H;t=new Kt({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}}),c=new ll({}),S=new El({props:{chords:i[3]}}),I=new yl({props:{chords:i[3]}});let V=z(i[5]),O=[];for(let b=0;b<V.length;b+=1)O[b]=Pt(Ut(i,V,b));let ce=z(i[4]),J=[];for(let b=0;b<ce.length;b+=1)J[b]=Ot(Dt(i,ce,b));var Ce=i[1].component;function se(b,M){return{props:{chords:b[3],searchString:b[0],filters:b[2]}}}return Ce&&(F=Ye(Ce,se(i))),{c(){fe(t.$$.fragment),l=N(),n=C("h2"),e=R(`Song book
    `),s=C("span"),r=C("button"),r.textContent=a,o=N(),f=C("button"),f.textContent=u,m=N(),fe(c.$$.fragment),k=N(),h=C("p"),A=R("This is a list of "),g=R(p),v=R(` song chords I have been gathering for the past 10 years and that
    I like to play.`),U=N(),fe(S.$$.fragment),E=N(),fe(I.$$.fragment),W=N(),q=C("div"),Q=C("h3"),Q.textContent=Se,$e=R(`
    Search an artist, a title or a tag:`),oe=C("input"),Ee=N(),ie=C("button"),ie.innerHTML=Ne,G=N(),le=C("h4"),le.textContent=Ie,ye=N(),ee=C("div");for(let b=0;b<O.length;b+=1)O[b].c();De=N(),ke=C("h4"),ke.textContent=be,Ue=N(),de=C("div");for(let b=0;b<J.length;b+=1)J[b].c();ae=N(),F&&fe(F.$$.fragment),ve=Y(),this.h()},l(b){ge(t.$$.fragment,b),l=y(b),n=w(b,"H2",{});var M=B(n);e=j(M,`Song book
    `),s=w(M,"SPAN",{class:!0});var D=B(s);r=w(D,"BUTTON",{"data-svelte-h":!0}),X(r)!=="svelte-13v6ylk"&&(r.textContent=a),o=y(D),f=w(D,"BUTTON",{"data-svelte-h":!0}),X(f)!=="svelte-18v2orh"&&(f.textContent=u),D.forEach(_),M.forEach(_),m=y(b),ge(c.$$.fragment,b),k=y(b),h=w(b,"P",{});var we=B(h);A=j(we,"This is a list of "),g=j(we,p),v=j(we,` song chords I have been gathering for the past 10 years and that
    I like to play.`),we.forEach(_),U=y(b),ge(S.$$.fragment,b),E=y(b),ge(I.$$.fragment,b),W=y(b),q=w(b,"DIV",{});var ne=B(q);Q=w(ne,"H3",{"data-svelte-h":!0}),X(Q)!=="svelte-bfvigd"&&(Q.textContent=Se),$e=j(ne,`
    Search an artist, a title or a tag:`),oe=w(ne,"INPUT",{type:!0}),Ee=y(ne),ie=w(ne,"BUTTON",{"data-svelte-h":!0}),X(ie)!=="svelte-5nqbye"&&(ie.innerHTML=Ne),G=y(ne),le=w(ne,"H4",{"data-svelte-h":!0}),X(le)!=="svelte-xazxp3"&&(le.textContent=Ie),ye=y(ne),ee=w(ne,"DIV",{class:!0});var Je=B(ee);for(let Be=0;Be<O.length;Be+=1)O[Be].l(Je);Je.forEach(_),De=y(ne),ke=w(ne,"H4",{"data-svelte-h":!0}),X(ke)!=="svelte-1yp5l9r"&&(ke.textContent=be),Ue=y(ne),de=w(ne,"DIV",{class:!0});var Xe=B(de);for(let Be=0;Be<J.length;Be+=1)J[Be].l(Xe);Xe.forEach(_),ne.forEach(_),ae=y(b),F&&ge(F.$$.fragment,b),ve=Y(),this.h()},h(){Ve(r,"position","relative"),Ve(f,"position","relative"),L(s,"class","pull-right"),L(oe,"type","text"),L(ee,"class","filter-controls-container svelte-kiyfxh"),L(de,"class","view-controls-container svelte-kiyfxh")},m(b,M){ue(t,b,M),T(b,l,M),T(b,n,M),d(n,e),d(n,s),d(s,r),d(s,o),d(s,f),T(b,m,M),ue(c,b,M),T(b,k,M),T(b,h,M),d(h,A),d(h,g),d(h,v),T(b,U,M),ue(S,b,M),T(b,E,M),ue(I,b,M),T(b,W,M),T(b,q,M),d(q,Q),d(q,$e),d(q,oe),We(oe,i[0]),d(q,Ee),d(q,ie),d(q,G),d(q,le),d(q,ye),d(q,ee);for(let D=0;D<O.length;D+=1)O[D]&&O[D].m(ee,null);d(q,De),d(q,ke),d(q,Ue),d(q,de);for(let D=0;D<J.length;D+=1)J[D]&&J[D].m(de,null);T(b,ae,M),F&&ue(F,b,M),T(b,ve,M),me=!0,K||(H=[te(r,"click",i[7]),te(f,"click",i[8]),te(oe,"input",i[9]),te(ie,"click",i[10])],K=!0)},p(b,[M]){if(M&1&&oe.value!==b[0]&&We(oe,b[0]),M&36){V=z(b[5]);let D;for(D=0;D<V.length;D+=1){const we=Ut(b,V,D);O[D]?O[D].p(we,M):(O[D]=Pt(we),O[D].c(),O[D].m(ee,null))}for(;D<O.length;D+=1)O[D].d(1);O.length=V.length}if(M&18){ce=z(b[4]);let D;for(D=0;D<ce.length;D+=1){const we=Dt(b,ce,D);J[D]?J[D].p(we,M):(J[D]=Ot(we),J[D].c(),J[D].m(de,null))}for(;D<J.length;D+=1)J[D].d(1);J.length=ce.length}if(M&2&&Ce!==(Ce=b[1].component)){if(F){Z();const D=F;P(D.$$.fragment,1,0,()=>{he(D,1)}),x()}Ce?(F=Ye(Ce,se(b)),fe(F.$$.fragment),$(F.$$.fragment,1),ue(F,ve.parentNode,ve)):F=null}else if(Ce){const D={};M&1&&(D.searchString=b[0]),M&4&&(D.filters=b[2]),F.$set(D)}},i(b){me||($(t.$$.fragment,b),$(c.$$.fragment,b),$(S.$$.fragment,b),$(I.$$.fragment,b),F&&$(F.$$.fragment,b),me=!0)},o(b){P(t.$$.fragment,b),P(c.$$.fragment,b),P(S.$$.fragment,b),P(I.$$.fragment,b),F&&P(F.$$.fragment,b),me=!1},d(b){b&&(_(l),_(n),_(m),_(k),_(h),_(U),_(E),_(W),_(q),_(ae),_(ve)),he(t,b),he(c,b),he(S,b),he(I,b),pe(O,b),pe(J,b),F&&he(F,b),K=!1,ze(H)}}}function $l(i,t,l){let{data:n}=t;const{chords:e}=n;Ke(()=>{const g=Ge+"/chords/getLinksVisitsCount";fetch(g).then(v=>v.json()).then(v=>{const U=v.reduce((S,E)=>(S.set(E.url,{...E}),S),new Map);Pe.set(U)})});let s="";const r=[{label:"By artist",component:ul},{label:"By tags",component:dl},{label:"By frequency",component:pl},{label:"By access date",component:il}];let a=r[0],o={pdf:!0,doc:!0,youtube:!0,link:!0};const f=Object.keys(o),u=()=>zt(Ll),m=()=>Zt("/songbook/edit");function c(){s=this.value,l(0,s)}const k=()=>l(0,s="");function h(g){o[g]=this.checked,l(2,o)}const A=g=>{l(2,o[g]=!o[g],o),l(2,o)},p=g=>l(1,a=g);return i.$$set=g=>{"data"in g&&l(6,n=g.data)},[s,a,o,e,r,f,n,u,m,c,k,h,A,p]}class Gl extends Le{constructor(t){super(),Te(this,t,$l,Bl,_e,{data:6})}}export{Gl as component,Kl as universal};
