import"../chunks/DsnmJJEf.js";import"../chunks/CYMEFg2K.js";import{h as I,bw as we,T as ze,g as e,i as u,bh as he,p as oe,b as L,f as X,e as y,c as me,bx as pe,s as _,r as v,t as Y,aJ as b,a as E,n as Ee,d as ae,C as Pe}from"../chunks/BJRZRhu8.js";import{d as ie,s as R,e as Z}from"../chunks/B3kKxc5b.js";import{e as T,i as z}from"../chunks/CD5Q4Pji.js";import{i as He}from"../chunks/CqJ2fdgF.js";import{M as We}from"../chunks/CYI8nGiq.js";import{t as le}from"../chunks/DL4ggUP-.js";import{s as C,r as Oe}from"../chunks/h256F5ba.js";import{s as ne,a as se}from"../chunks/BYDnD9tF.js";import{s as ve,a as fe}from"../chunks/Elmngvfr.js";import{e as ge,p as be,P as Ue}from"../chunks/CC3ew83H.js";import{M as Fe}from"../chunks/eIcGAGwT.js";import{b as Ie}from"../chunks/BrzxCuy6.js";import"../chunks/Ba5CEnrN.js";import{p as qe}from"../chunks/DxqDe86E.js";/* empty css                */import"../chunks/Ds0xSSFg.js";import{g as Me}from"../chunks/DAn84V-y.js";var De=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],Le=["difference","intersection","symmetricDifference","union"],Ae=!1;class re extends Set{#s=new Map;#e=I(0);#t=I(0);#n=we||-1;constructor(o){if(super(),o){for(var h of o)super.add(h);this.#t.v=super.size}Ae||this.#o()}#r(o){return we===this.#n?I(o):ze(o)}#o(){Ae=!0;var o=re.prototype,h=Set.prototype;for(const m of De)o[m]=function(...p){return e(this.#e),h[m].apply(this,p)};for(const m of Le)o[m]=function(...p){e(this.#e);var P=h[m].apply(this,p);return new re(P)}}has(o){var h=super.has(o),m=this.#s,p=m.get(o);if(p===void 0){if(!h)return e(this.#e),!1;p=this.#r(!0),m.set(o,p)}return e(p),h}add(o){return super.has(o)||(super.add(o),u(this.#t,super.size),he(this.#e)),this}delete(o){var h=super.delete(o),m=this.#s,p=m.get(o);return p!==void 0&&(m.delete(o),u(p,!1)),h&&(u(this.#t,super.size),he(this.#e)),h}clear(){if(super.size!==0){super.clear();var o=this.#s;for(var h of o.values())u(h,!1);o.clear(),u(this.#t,0),he(this.#e)}}keys(){return this.values()}values(){return e(this.#e),super.values()}entries(){return e(this.#e),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return e(this.#t)}}const K={fearful:{_color:"#FFA726",scared:{helpless:{en:"helpless"},frightened:{en:"frightened"}},anxious:{apprehensive:{en:"apprehensive"},worried:{en:"worried"}},insecure:{inadequate:{en:"inadequate"},"self-conscious":{en:"self-conscious"}},weak:{worthless:{en:"worthless"},insignificant:{en:"insignificant"}},rejected:{excluded:{en:"excluded"},persecuted:{en:"persecuted"}},threatened:{nervous:{en:"nervous"},exposed:{en:"exposed"}}},angry:{_color:"#EF5350","let down":{betrayed:{en:"betrayed"},resentful:{en:"resentful"}},humiliated:{disrespected:{en:"disrespected"},ridiculed:{en:"ridiculed"}},bitter:{indignant:{en:"indignant"},violated:{en:"violated"}},mad:{furious:{en:"furious"},jealous:{en:"jealous"}},aggressive:{provoked:{en:"provoked"},hostile:{en:"hostile"}},frustrated:{infuriated:{en:"infuriated"},annoyed:{en:"annoyed"}},distant:{withdrawn:{en:"withdrawn"},numb:{en:"numb"}},critical:{skeptical:{en:"skeptical"},dismissive:{en:"dismissive"}}},disgusted:{_color:"#9E9E9E",disapproving:{judgmental:{en:"judgmental"},disdainful:{en:"disdainful"}},disappointed:{appalled:{en:"appalled"},revolted:{en:"revolted"}},awful:{nauseated:{en:"nauseated"},detestable:{en:"detestable"}},repelled:{horrified:{en:"horrified"},hesitant:{en:"hesitant"}}},sad:{_color:"#42A5F5",lonely:{isolated:{en:"isolated"},abandoned:{en:"abandoned"}},vulnerable:{victimized:{en:"victimized"},fragile:{en:"fragile"}},despair:{grief:{en:"grief"},powerless:{en:"powerless"}},guilty:{ashamed:{en:"ashamed"},remorseful:{en:"remorseful"}},depressed:{inferior:{en:"inferior"},empty:{en:"empty"}},hurt:{embarrassed:{en:"embarrassed"},discouraged:{en:"discouraged"}}},happy:{_color:"#FFEB3B",interested:{curious:{en:"curious"},inquisitive:{en:"inquisitive"}},proud:{successful:{en:"successful"},confident:{en:"confident"}},accepted:{respected:{en:"respected"},valued:{en:"valued"}},powerful:{courageous:{en:"courageous"},creative:{en:"creative"}},peaceful:{loving:{en:"loving"},thankful:{en:"thankful"}},trusting:{sensitive:{en:"sensitive"},intimate:{en:"intimate"}},optimistic:{hopeful:{en:"hopeful"},inspired:{en:"inspired"}},playful:{aroused:{en:"aroused"},cheeky:{en:"cheeky"}},content:{free:{en:"free"},joyful:{en:"joyful"}}},surprised:{_color:"#AB47BC",startled:{shocked:{en:"shocked"},dismayed:{en:"dismayed"}},confused:{disillusioned:{en:"disillusioned"},perplexed:{en:"perplexed"}},amazed:{astonished:{en:"astonished"},awe:{en:"awe"}},excited:{eager:{en:"eager"},energetic:{en:"energetic"}}},bad:{_color:"#66BB6A",bored:{indifferent:{en:"indifferent"},apathetic:{en:"apathetic"}},busy:{pressured:{en:"pressured"},rushed:{en:"rushed"}},stressed:{overwhelmed:{en:"overwhelmed"},"out of control":{en:"out of control"}},tired:{sleepy:{en:"sleepy"},unfocused:{en:"unfocused"}}}};var Ve=pe('<g class="emotion-wedge"><path></path><text class="emotion-text svelte-ydlb3b" text-anchor="middle" dominant-baseline="middle"> </text></g>'),Ge=pe('<g class="subcategory-wedge"><path></path><text class="subcategory-text svelte-ydlb3b" text-anchor="middle" dominant-baseline="middle"> </text></g>'),Je=pe('<g class="category-wedge"><path></path><text class="category-text svelte-ydlb3b" text-anchor="middle" dominant-baseline="middle"> </text></g>'),Ze=L('<button class="selection-item svelte-ydlb3b"> </button>'),Ke=L('<div class="emotion-wheel-container svelte-ydlb3b"><svg viewBox="0 0 100 100" class="wheel svelte-ydlb3b"><!><!><!><circle cx="50" cy="50" r="0" class="center-circle svelte-ydlb3b"></circle></svg></div> <div class="selection svelte-ydlb3b"></div> <br/> <button>Submit</button>',1);function Ne(q,o){oe(o,!0);const h=()=>fe(be,"$personalTrackerPassword",m),[m,p]=ve(),P=async()=>{const t={type:"emotionwheel",data:{emotions:[...c].map(n=>{const[s,l,r,i]=n.split(" - ");return{category:s,subcategory:l,emotion:r,color:i}})}};try{await ge(t,h()),o.onUpload()}catch(n){const l=`<strong>Entry not created</strong><br/> ${n.message}`;le.push(l,{theme:{"--toastBarBackground":"#FF0000"}})}o.onUpload()},c=new re,V=a=>{const t=[a.category,a.subcategory,a.emotion,a.color].join(" - ");c.has(t)?c.delete(t):c.add(t)};function k(){const a=[];let t=0;Object.keys(K).forEach(s=>{let l=0;Object.keys(K[s]).filter(i=>!i.startsWith("_")).forEach(i=>{l+=Object.keys(K[s][i]).length});const r=K[s]._color||"#CCCCCC";a.push({name:s,color:r,emotionCount:l,startAngle:0,endAngle:0,subcategories:[]}),t+=l});let n=0;return a.forEach(s=>{const l=s.emotionCount/t*360;s.startAngle=n,s.endAngle=n+l;let r=n;Object.keys(K[s.name]).filter(i=>!i.startsWith("_")).forEach(i=>{const d=Object.keys(K[s.name][i]),$=d.length/s.emotionCount*l;s.subcategories.push({name:i,startAngle:r,endAngle:r+$,emotions:d}),r+=$}),n+=l}),a}const w=k();function j(a,t){const n=parseInt(a.replace("#",""),16),s=Math.min(255,Math.floor((n>>16)+(255-(n>>16))*t/100)),l=Math.min(255,Math.floor((n>>8&255)+(255-(n>>8&255))*t/100)),r=Math.min(255,Math.floor((n&255)+(255-(n&255))*t/100));return"#"+(s<<16|l<<8|r).toString(16).padStart(6,"0")}let M=I(null),f=I(null),g=I(null);function A(a,t,n){u(M,a,!0),u(f,t,!0),u(g,n,!0)}function x(a,t){u(M,a,!0),u(f,t,!0),u(g,null)}function H(a){u(M,a,!0),u(f,null),u(g,null)}function ee(){u(M,null),u(f,null),u(g,null)}function N(a,t,n,s,l=50,r=50){const i=(a-90)*Math.PI/180,d=(t-90)*Math.PI/180,$=l+n*Math.cos(i),F=r+n*Math.sin(i),B=l+s*Math.cos(i),S=r+s*Math.sin(i),W=l+s*Math.cos(d),D=r+s*Math.sin(d),O=l+n*Math.cos(d),U=r+n*Math.sin(d),G=t-a>180?1:0;return`
            M ${$} ${F}
            L ${B} ${S}
            A ${s} ${s} 0 ${G} 1 ${W} ${D}
            L ${O} ${U}
            A ${n} ${n} 0 ${G} 0 ${$} ${F}
            Z
        `}function ce(a,t,n){const s=(a+t)/2,l=(s-90)*Math.PI/180,r=50+n*Math.cos(l),i=50+n*Math.sin(l),d=s<180?s-90:s+90;return{x:r,y:i,rotation:d}}var _e=Ke(),de=X(_e),ye=y(de),xe=y(ye);T(xe,17,()=>w,z,(a,t)=>{var n=me(),s=X(n);T(s,17,()=>e(t).subcategories,z,(l,r)=>{const i=b(()=>(e(r).endAngle-e(r).startAngle)/e(r).emotions.length);var d=me(),$=X(d);T($,17,()=>e(r).emotions,z,(F,B,S)=>{const W=b(()=>e(r).startAngle+S*e(i)),D=b(()=>e(r).startAngle+(S+1)*e(i)),O=b(()=>N(e(W),e(D),30,47)),U=b(()=>ce(e(W),e(D),38.5)),G=b(()=>e(g)===e(B)),je=b(()=>[...c].find(Te=>Te.includes(e(B))));var J=Ve();J.__click=()=>V({category:e(t).name,subcategory:e(r).name,emotion:e(B),color:e(t).color});var te=y(J);let ke;var Q=_(te),Be=y(Q,!0);v(Q),v(J),Y(()=>{C(te,"d",e(O)),ke=ne(te,0,"emotion-path svelte-ydlb3b",null,ke,{highlighted:e(G),selected:e(je)}),se(te,`fill: ${e(t).color??""};`),C(Q,"x",e(U).x),C(Q,"y",e(U).y),C(Q,"transform",`rotate(${e(U).rotation??""} ${e(U).x??""} ${e(U).y??""})`),R(Be,e(B))}),Z("mouseenter",J,()=>A(e(t).name,e(r).name,e(B))),Z("mouseleave",J,ee),E(F,J)}),E(l,d)}),E(a,n)});var $e=_(xe);T($e,17,()=>w,z,(a,t)=>{var n=me(),s=X(n);T(s,17,()=>e(t).subcategories,z,(l,r)=>{const i=b(()=>N(e(r).startAngle,e(r).endAngle,17,30)),d=b(()=>ce(e(r).startAngle,e(r).endAngle,23.5)),$=b(()=>e(f)===e(r).name&&e(M)===e(t).name),F=b(()=>[...c].find(G=>G.includes(e(r).name))),B=b(()=>j(e(t).color,30));var S=Ge(),W=y(S);let D;var O=_(W),U=y(O,!0);v(O),v(S),Y(()=>{C(W,"d",e(i)),D=ne(W,0,"subcategory-path svelte-ydlb3b",null,D,{highlighted:e($),selected:e(F)}),se(W,`fill: ${e(B)??""};`),C(O,"x",e(d).x),C(O,"y",e(d).y),C(O,"transform",`rotate(${e(d).rotation??""} ${e(d).x??""} ${e(d).y??""})`),R(U,e(r).name)}),Z("mouseenter",S,()=>x(e(t).name,e(r).name)),Z("mouseleave",S,ee),E(l,S)}),E(a,n)});var Se=_($e);T(Se,17,()=>w,z,(a,t)=>{const n=b(()=>N(e(t).startAngle,e(t).endAngle,0,17)),s=b(()=>ce(e(t).startAngle,e(t).endAngle,8.5)),l=b(()=>e(M)===e(t).name),r=b(()=>[...c].find(S=>S.includes(e(t).name)));var i=Je(),d=y(i);let $;var F=_(d),B=y(F,!0);v(F),v(i),Y(()=>{C(d,"d",e(n)),$=ne(d,0,"category-path svelte-ydlb3b",null,$,{highlighted:e(l),selected:e(r)}),se(d,`fill: ${e(t).color??""};`),C(F,"x",e(s).x),C(F,"y",e(s).y),C(F,"transform",`rotate(${e(s).rotation??""} ${e(s).x??""} ${e(s).y??""})`),R(B,e(t).name)}),Z("mouseenter",i,()=>H(e(t).name)),Z("mouseleave",i,ee),E(a,i)}),Ee(),v(ye),v(de);var ue=_(de,2);T(ue,21,()=>[...c],z,(a,t)=>{const n=b(()=>{const[r,i,d,$]=e(t).split(" - ");return{category:r,subcategory:i,emotion:d,color:$}});var s=Ze();s.__click=()=>c.delete(e(t));var l=y(s);v(s),Y(()=>{se(s,`--color: ${e(n).color??""}`),R(l,`${e(n).category??""}
            ${e(n).subcategory??""}
            ${e(n).emotion??""}`)}),E(a,s)}),v(ue);var Ce=_(ue,4);Ce.__click=P,E(q,_e),ae(),p()}ie(["click"]);var Qe=L("<button> </button>"),Xe=L('<div><h4>Mood</h4> <!> <div class="options-container svelte-xnfdmm"></div> <button class="form-action">Submit</button></div>');function Ye(q,o){oe(o,!0);const h=()=>fe(be,"$personalTrackerPassword",m),[m,p]=ve();let P=Pe([]),c=I(5);const V=async()=>{const f={type:"mood",data:e(c)};try{await ge(f,h()),o.onUpload()}catch(g){const x=`<strong>Entry not created</strong><br/> ${g.message}`;le.push(x,{theme:{"--toastBarBackground":"#FF0000"}})}};var k=Xe(),w=_(y(k),2);T(w,17,()=>P,z,(f,g)=>{Fe(f,{get item(){return e(g)}})});var j=_(w,2);T(j,20,()=>[1,2,3,4,5,6,7,8,9,10],z,(f,g)=>{var A=Qe();A.__click=()=>u(c,g,!0);let x;var H=y(A,!0);v(A),Y(()=>{x=ne(A,1,"",null,x,{selected:e(c)===g}),R(H,g)}),E(f,A)}),v(j);var M=_(j,2);M.__click=V,v(k),E(q,k),ae(),p()}ie(["click"]);var Re=L('<div><h4>Weight</h4> <!> <div class="input-container svelte-aotxyr"><button class="svelte-aotxyr">-</button> <input type="number" step="0.1" class="svelte-aotxyr"/> <button class="svelte-aotxyr">+</button></div> <button class="form-action">Submit</button></div>');function et(q,o){oe(o,!0);const h=()=>fe(be,"$personalTrackerPassword",m),[m,p]=ve();let P=I(Pe([])),c=I(100);const V=async()=>{if(u(P,[],!0),e(c)!==Number(e(c).toFixed(1))&&e(P).push({level:"error",header:"Value have at most 1 number after the comma"}),(e(c)<80||e(c)>110)&&e(P).push({level:"error",header:"Value must be in kg"}),e(P).length)return;const x={type:"weight",data:Math.floor(e(c)*100)};try{await ge(x,h()),o.onUpload()}catch(H){const N=`<strong>Entry not created</strong><br/> ${H.message}`;le.push(N,{theme:{"--toastBarBackground":"#FF0000"}})}};var k=Re(),w=_(y(k),2);T(w,17,()=>e(P),z,(x,H)=>{Fe(x,{get item(){return e(H)}})});var j=_(w,2),M=y(j);M.__click=()=>u(c,Number((e(c)-.1).toFixed(2)),!0);var f=_(M,2);Oe(f);var g=_(f,2);g.__click=()=>u(c,Number((e(c)+.1).toFixed(2)),!0),v(j);var A=_(j,2);A.__click=V,v(k),Ie(f,()=>e(c),x=>u(c,x)),E(q,k),ae(),p()}ie(["click"]);var tt=L('<div class="input-form svelte-cigsfe"><!></div> <hr class="separator svelte-cigsfe"/>',1),st=L(`<div class="contents svelte-cigsfe"><h4 class="title-bar svelte-cigsfe">Today's Personal Metrics <button>Back</button></h4> <!></div>`);function $t(q,o){oe(o,!1),qe.set({name:"Personal Tracker",iconPath:"/personal_tracker.png",showAuthInHeader:!0});const h=()=>{Me("/personal-tracker"),le.push("New entry created")};let m=[{name:"emotionWheel",component:Ne},{name:"mood",component:Ye},{name:"weight",component:et}];He(),We(q,{message:"Login to add an entry",children:(p,P)=>{Ue(p,{children:(c,V)=>{var k=st(),w=y(k),j=_(y(w));j.__click=()=>{Me("/personal-tracker")},v(w);var M=_(w,2);T(M,1,()=>m,z,(f,g)=>{var A=tt(),x=X(A),H=y(x);e(g).component(H,{onUpload:h}),v(x),Ee(2),E(f,A)}),v(k),E(c,k)},$$slots:{default:!0}})},$$slots:{default:!0}}),ae()}ie(["click"]);export{$t as component};
