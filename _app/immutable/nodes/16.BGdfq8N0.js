import{s as nt,H,i as m,n as P,f as i,k as mt,p as gt,e as _,c as h,z as g,a as x,b as L,g as y,m as w,h as C,O as N,C as z,y as Pt,M as $t,t as dt,d as vt,j as bt}from"../chunks/scheduler.RaxKIsz3.js";import{h as ut,u as Et}from"../chunks/await_block.Kd_Y7m9u.js";import{S as lt,i as rt,t as D,c as Nt,a as F,g as Lt,b as Ct,d as kt,m as xt,e as yt}from"../chunks/index.BKJwPhFc.js";import{u as wt,t as St}from"../chunks/service.Da21701Q.js";import{r as Wt,a as At}from"../chunks/index.BDjTchwm.js";import{e as ft}from"../chunks/each.Bc-qVqPL.js";const It=!1,le=Object.freeze(Object.defineProperty({__proto__:null,ssr:It},Symbol.toStringTag,{value:"Module"})),Bt=async()=>await Wt({path:"/webWatcher/getAllWatchers"}),Ot=async s=>At({path:"/webWatcher/createWatcher",data:s});function Tt(s){let t,o="Login to upload content";return{c(){t=_("p"),t.textContent=o},l(e){t=h(e,"P",{"data-svelte-h":!0}),g(t)!=="svelte-k7lhwu"&&(t.textContent=o)},m(e,n){m(e,t,n)},p:P,d(e){e&&i(t)}}}function Ut(s){let t,o,e,n="Name",r,l,a,f,d,$="URL",p,u,c,b,E,j="Notification message",J,A,M,S,I,ot="CSS selector",Z,B,V,W,O,st="Check interval (seconds)",tt,T,R,q,U,at="Upload",et,it;return{c(){t=_("div"),o=_("p"),e=_("label"),e.textContent=n,r=x(),l=_("input"),a=x(),f=_("p"),d=_("label"),d.textContent=$,p=x(),u=_("input"),c=x(),b=_("p"),E=_("label"),E.textContent=j,J=x(),A=_("input"),M=x(),S=_("p"),I=_("label"),I.textContent=ot,Z=x(),B=_("input"),V=x(),W=_("p"),O=_("label"),O.textContent=st,tt=x(),T=_("input"),R=x(),q=_("p"),U=_("button"),U.textContent=at,this.h()},l(v){t=h(v,"DIV",{class:!0});var k=L(t);o=h(k,"P",{class:!0});var G=L(o);e=h(G,"LABEL",{for:!0,"data-svelte-h":!0}),g(e)!=="svelte-bs9sy6"&&(e.textContent=n),r=y(G),l=h(G,"INPUT",{type:!0}),G.forEach(i),a=y(k),f=h(k,"P",{class:!0});var K=L(f);d=h(K,"LABEL",{for:!0,"data-svelte-h":!0}),g(d)!=="svelte-47691s"&&(d.textContent=$),p=y(K),u=h(K,"INPUT",{type:!0}),K.forEach(i),k.forEach(i),c=y(v),b=h(v,"P",{});var Q=L(b);E=h(Q,"LABEL",{for:!0,"data-svelte-h":!0}),g(E)!=="svelte-1rjok9v"&&(E.textContent=j),J=y(Q),A=h(Q,"INPUT",{type:!0}),Q.forEach(i),M=y(v),S=h(v,"P",{});var X=L(S);I=h(X,"LABEL",{for:!0,"data-svelte-h":!0}),g(I)!=="svelte-1ib74yx"&&(I.textContent=ot),Z=y(X),B=h(X,"INPUT",{type:!0}),X.forEach(i),V=y(v),W=h(v,"P",{});var Y=L(W);O=h(Y,"LABEL",{for:!0,"data-svelte-h":!0}),g(O)!=="svelte-fnhv3x"&&(O.textContent=st),tt=y(Y),T=h(Y,"INPUT",{type:!0}),Y.forEach(i),R=y(v),q=h(v,"P",{});var ct=L(q);U=h(ct,"BUTTON",{"data-svelte-h":!0}),g(U)!=="svelte-15774uw"&&(U.textContent=at),ct.forEach(i),this.h()},h(){w(e,"for","name"),w(l,"type","text"),w(o,"class","meta-section-item"),w(d,"for","content"),w(u,"type","textarea"),w(f,"class","meta-section-item"),w(t,"class","meta-section svelte-1nsha7f"),w(E,"for","notification-message"),w(A,"type","textarea"),w(I,"for","css-selector"),w(B,"type","textarea"),w(O,"for","check-interval"),w(T,"type","textarea")},m(v,k){m(v,t,k),C(t,o),C(o,e),C(o,r),C(o,l),N(l,s[0]),C(t,a),C(t,f),C(f,d),C(f,p),C(f,u),N(u,s[2]),m(v,c,k),m(v,b,k),C(b,E),C(b,J),C(b,A),N(A,s[1]),m(v,M,k),m(v,S,k),C(S,I),C(S,Z),C(S,B),N(B,s[3]),m(v,V,k),m(v,W,k),C(W,O),C(W,tt),C(W,T),N(T,s[4]),m(v,R,k),m(v,q,k),C(q,U),et||(it=[z(l,"input",s[7]),z(u,"input",s[8]),z(A,"input",s[9]),z(B,"input",s[10]),z(T,"input",s[11]),z(U,"click",s[6])],et=!0)},p(v,k){k&1&&l.value!==v[0]&&N(l,v[0]),k&4&&N(u,v[2]),k&2&&N(A,v[1]),k&8&&N(B,v[3]),k&16&&N(T,v[4])},d(v){v&&(i(t),i(c),i(b),i(M),i(S),i(V),i(W),i(R),i(q)),et=!1,Pt(it)}}}function jt(s){let t;function o(r,l){return r[5]?Ut:Tt}let e=o(s),n=e(s);return{c(){n.c(),t=H()},l(r){n.l(r),t=H()},m(r,l){n.m(r,l),m(r,t,l)},p(r,[l]){e===(e=o(r))&&n?n.p(r,l):(n.d(1),n=e(r),n&&(n.c(),n.m(t.parentNode,t)))},i:P,o:P,d(r){r&&i(t),n.d(r)}}}function qt(s,t,o){let e;mt(s,wt,j=>o(5,e=j));const n=gt();let r,l,a,f,d=15*60;const $=async()=>{if(!r.length||!a||!l||!f){console.error("name should be defined");return}try{await Ot({name:r,notificationMessage:l,url:a,cssSelector:f,checkIntervalSeconds:d}),n("upload")}catch(j){const J=`<strong>Entry not created</strong><br/> ${j.message}`;St.push(J,{theme:{"--toastBarBackground":"#FF0000"}})}};function p(){r=this.value,o(0,r)}function u(){a=this.value,o(2,a)}function c(){l=this.value,o(1,l)}function b(){f=this.value,o(3,f)}function E(){d=this.value,o(4,d)}return[r,l,a,f,d,e,$,p,u,c,b,E]}class zt extends lt{constructor(t){super(),rt(this,t,qt,jt,nt,{})}}function pt(s,t,o){const e=s.slice();return e[1]=t[o],e}function _t(s){let t,o=JSON.stringify(s[1])+"",e,n,r;return{c(){t=_("p"),e=dt(o),n=x(),r=_("br")},l(l){t=h(l,"P",{});var a=L(t);e=vt(a,o),a.forEach(i),n=y(l),r=h(l,"BR",{})},m(l,a){m(l,t,a),C(t,e),m(l,n,a),m(l,r,a)},p(l,a){a&1&&o!==(o=JSON.stringify(l[1])+"")&&bt(e,o)},d(l){l&&(i(t),i(n),i(r))}}}function Ht(s){let t,o=ft(s[0].sort(ht)),e=[];for(let n=0;n<o.length;n+=1)e[n]=_t(pt(s,o,n));return{c(){t=_("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=h(n,"DIV",{class:!0});var r=L(t);for(let l=0;l<e.length;l+=1)e[l].l(r);r.forEach(i),this.h()},h(){w(t,"class","container svelte-c8nodu")},m(n,r){m(n,t,r);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(n,[r]){if(r&1){o=ft(n[0].sort(ht));let l;for(l=0;l<o.length;l+=1){const a=pt(n,o,l);e[l]?e[l].p(a,r):(e[l]=_t(a),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=o.length}},i:P,o:P,d(n){n&&i(t),$t(e,n)}}}const ht=(s,t)=>t.id-s.id;function Jt(s,t,o){let{watchers:e}=t;return s.$$set=n=>{"watchers"in n&&o(0,e=n.watchers)},[e]}class Dt extends lt{constructor(t){super(),rt(this,t,Jt,Ht,nt,{watchers:0})}}function Ft(s){let t,o="Login to list the watchers";return{c(){t=_("p"),t.textContent=o},l(e){t=h(e,"P",{"data-svelte-h":!0}),g(t)!=="svelte-jtzxnq"&&(t.textContent=o)},m(e,n){m(e,t,n)},p:P,i:P,o:P,d(e){e&&i(t)}}}function Mt(s){let t,o="Create new watcher",e,n,r,l,a="Content",f,d,$,p;n=new zt({}),n.$on("upload",s[3]);let u={ctx:s,current:null,token:null,hasCatch:!0,pending:Gt,then:Rt,catch:Vt,value:4,error:5,blocks:[,,,]};return ut($=s[0],u),{c(){t=_("h3"),t.textContent=o,e=x(),Ct(n.$$.fragment),r=x(),l=_("h3"),l.textContent=a,f=x(),d=H(),u.block.c()},l(c){t=h(c,"H3",{"data-svelte-h":!0}),g(t)!=="svelte-jfn1n2"&&(t.textContent=o),e=y(c),kt(n.$$.fragment,c),r=y(c),l=h(c,"H3",{"data-svelte-h":!0}),g(l)!=="svelte-1qnf76d"&&(l.textContent=a),f=y(c),d=H(),u.block.l(c)},m(c,b){m(c,t,b),m(c,e,b),xt(n,c,b),m(c,r,b),m(c,l,b),m(c,f,b),m(c,d,b),u.block.m(c,u.anchor=b),u.mount=()=>d.parentNode,u.anchor=d,p=!0},p(c,b){s=c,u.ctx=s,b&1&&$!==($=s[0])&&ut($,u)||Et(u,s,b)},i(c){p||(F(n.$$.fragment,c),F(u.block),p=!0)},o(c){D(n.$$.fragment,c);for(let b=0;b<3;b+=1){const E=u.blocks[b];D(E)}p=!1},d(c){c&&(i(t),i(e),i(r),i(l),i(f),i(d)),yt(n,c),u.block.d(c),u.token=null,u=null}}}function Vt(s){let t,o="Something went wrong",e,n,r=JSON.stringify(s[5])+"",l;return{c(){t=_("p"),t.textContent=o,e=x(),n=_("p"),l=dt(r)},l(a){t=h(a,"P",{"data-svelte-h":!0}),g(t)!=="svelte-171fb2d"&&(t.textContent=o),e=y(a),n=h(a,"P",{});var f=L(n);l=vt(f,r),f.forEach(i)},m(a,f){m(a,t,f),m(a,e,f),m(a,n,f),C(n,l)},p(a,f){f&1&&r!==(r=JSON.stringify(a[5])+"")&&bt(l,r)},i:P,o:P,d(a){a&&(i(t),i(e),i(n))}}}function Rt(s){let t,o;return t=new Dt({props:{watchers:s[4]}}),{c(){Ct(t.$$.fragment)},l(e){kt(t.$$.fragment,e)},m(e,n){xt(t,e,n),o=!0},p(e,n){const r={};n&1&&(r.watchers=e[4]),t.$set(r)},i(e){o||(F(t.$$.fragment,e),o=!0)},o(e){D(t.$$.fragment,e),o=!1},d(e){yt(t,e)}}}function Gt(s){let t,o="Loading data";return{c(){t=_("p"),t.textContent=o},l(e){t=h(e,"P",{"data-svelte-h":!0}),g(t)!=="svelte-ezyzhc"&&(t.textContent=o)},m(e,n){m(e,t,n)},p:P,i:P,o:P,d(e){e&&i(t)}}}function Kt(s){let t,o="Web Watchers",e,n,r,l,a;const f=[Mt,Ft],d=[];function $(p,u){return p[1]?0:1}return n=$(s),r=d[n]=f[n](s),{c(){t=_("h2"),t.textContent=o,e=x(),r.c(),l=H()},l(p){t=h(p,"H2",{"data-svelte-h":!0}),g(t)!=="svelte-1xt9l7p"&&(t.textContent=o),e=y(p),r.l(p),l=H()},m(p,u){m(p,t,u),m(p,e,u),d[n].m(p,u),m(p,l,u),a=!0},p(p,[u]){let c=n;n=$(p),n===c?d[n].p(p,u):(Lt(),D(d[c],1,1,()=>{d[c]=null}),Nt(),r=d[n],r?r.p(p,u):(r=d[n]=f[n](p),r.c()),F(r,1),r.m(l.parentNode,l))},i(p){a||(F(r),a=!0)},o(p){D(r),a=!1},d(p){p&&(i(t),i(e),i(l)),d[n].d(p)}}}function Qt(s,t,o){let e;mt(s,wt,a=>o(1,e=a));const n=()=>e?Bt():[];let r=n();return[r,e,n,()=>o(0,r=n())]}class re extends lt{constructor(t){super(),rt(this,t,Qt,Kt,nt,{})}}export{re as component,le as universal};
