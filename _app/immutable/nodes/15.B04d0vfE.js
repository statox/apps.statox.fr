import"../chunks/disclose-version.Bg9kRutz.js";import{i as J}from"../chunks/legacy.EqIdVoM0.js";import{m as U,aV as ie,g as r,ah as oe,ai as ae,ae as m,af as s,x as X,ag as G,s as P,B as Q,z as N,y as V,A as le,w as W,aX as te,a5 as ve}from"../chunks/index-client.S3REcJgE.js";import{s as F}from"../chunks/render.CF6uZz0T.js";import{i as Y}from"../chunks/if.BYsj_AMu.js";import{k as fe}from"../chunks/key.BxrKyE8K.js";import{e as K,i as z}from"../chunks/each.Nz7c8l4p.js";import{a as T,t as A,e as Z,c as de}from"../chunks/template.B5pchg3w.js";import{b as re}from"../chunks/select.BE3p5t0V.js";import{p as R}from"../chunks/props.C2aoZBXh.js";import{P as ce}from"../chunks/P5.CIpUrZEU.js";import{s as he}from"../chunks/style.PwPRnE0L.js";import{c as ue,o as be}from"../chunks/store.DF07ihmy.js";import"../chunks/entry.CHCvBGxE.js";import{p as ye}from"../chunks/Main.svelte_svelte_type_style_lang.CsTDB6ng.js";import"../chunks/auth0-spa-js.production.esm.Dzqc2IBy.js";const E=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],ee=B=>{if(B<1||B>7)throw new Error(`Unkown degree ${B}`);return["I","II","III","IV","V","VI","VII"][B-1]};var _e=A('<div class="d-flex justify-content-center"><!></div>');function xe(B,C){U(C,!1);let x=G(),p=R(C,"labelMode",8,"name"),v=R(C,"notesToDisplay",8);const f=["C","D","E","F","G","A","B"],w=["C#","D#","F#","G#","A#"],i=14,I=t=>{const M=[80,70,60,150],e=[80,70,60],o=t.width/i;for(let a=0;a<i;a++){const d=f[a%f.length];t.strokeWeight(1),t.stroke(M),t.noFill(),t.rect(o*a,0,o,t.height);const h=d+"#";w.includes(h)&&(t.fill(e),t.rect(o*a+2*o/3,0,o/2,t.height*.65))}},L=(t,M,e)=>{if(e==="name")return M;const o=t.indexOf(M);if(o===-1)throw new Error("note not in scale");return ee(o+1)},k=t=>{const M=t.width/i;for(let e=0;e<i;e++){const o=f[e%f.length],a=v().indexOf(o);if(a>=0){a===0?t.fill([250,80,80]):t.fill("black");const _=M*e+M/2,c=t.height*.8;t.circle(_,c,20),t.noStroke(),t.fill("white");const y=L(v(),o,p());t.text(y,_-t.textWidth(y)/2,c+t.textSize()/2)}const d=o+"#",h=v().indexOf(d);if(h>=0){h===0?t.fill([250,80,80]):t.fill("black");const _=M*e+M,c=t.height*.5;t.circle(_,c,20),t.noStroke(),t.fill("white");const y=L(v(),d,p());t.text(y,_-t.textWidth(y)/2,c+t.textSize()/2)}}},b=t=>{t.setup=()=>{P(x,t),t.createCanvas(900,300),t.textStyle(t.BOLD)},t.draw=()=>{t.background([200,190,170]),I(t),k(t),t.noLoop()}};ie(()=>{var t;(t=r(x))==null||t.remove()}),oe(()=>(Q(v()),Q(p()),r(x)),()=>{var t;(v()||p())&&((t=r(x))==null||t.draw())}),ae(),J();var u=_e(),j=m(u);ce(j,{sketch:b}),s(u),T(B,u),X()}var pe=A('<div class="d-flex justify-content-center"><!></div>');function we(B,C){U(C,!1);let x=G(),p=R(C,"labelMode",8,"name"),v=R(C,"notesToDisplay",8);const f=["E","A","D","G","B","E"],w=15,i=f.map(e=>{const o=E.indexOf(e);if(o===-1)throw new Error(`Base ${e} not found`);const a=[e];for(let d=1;d<w;d++){const h=E[(o+d)%E.length];a.push(h)}return a}),I=30,L=e=>{const o=[80,70,60,150],a=e.height/6;for(let c=0;c<i.length;c++){const y=f[c],D=a*c+a/2;e.strokeWeight(1),e.stroke(o),e.noFill(),e.line(I,D,e.width,D),e.noStroke(),e.fill(o),e.text(y,5,e.height-D+e.textSize()/2)}e.strokeWeight(5),e.stroke(o),e.noFill(),e.line(I,a/2,I,e.height-a/2),e.strokeWeight(1);const d=e.width/i[0].length;for(let c=1;c<w;c++){const y=I+d*c;e.line(y,a/2,y,e.height-a/2)}const h=[3,5,7,9,15];for(const c of h){let{x:y,y:D}=u({string:2,fret:c});D-=a/2,e.fill(o),e.circle(y,D,10)}const _=[1,3];for(const c of _){let{x:y,y:D}=u({string:c,fret:12});D-=a/2,e.fill(o),e.circle(y,D,10)}},k=(e,o,a)=>{if(a==="name")return o;const d=e.indexOf(o);if(d===-1)throw new Error("note not in scale");return ee(d+1)},b=e=>{for(let o=0;o<6;o++){const a=i[o];for(let d=0;d<a.length;d++){const h=a[d];if(!v().includes(h))continue;const _={string:o,fret:d},{x:c,y}=u(_);v().indexOf(h)===0?e.fill([250,80,80]):e.fill("black"),e.circle(c,y,20),e.noStroke(),e.fill("white");const D=k(v(),h,p());e.text(D,c-e.textWidth(D)/2,y+e.textSize()/2)}}},u=e=>{const{string:o,fret:a}=e,d=r(x).height/6,h=d*(5-o)+d/2;if(a===0)return{x:I,y:h};const _=r(x).width/i[0].length;return{x:I+_*(a-1)+_*.5,y:h}},j=e=>{e.setup=()=>{P(x,e),e.createCanvas(900,300),e.textStyle(e.BOLD)},e.draw=()=>{e.background([200,190,170]),L(e),b(e),e.noLoop()}};ie(()=>{var e;(e=r(x))==null||e.remove()}),oe(()=>(Q(v()),Q(p()),r(x)),()=>{var e;(v()||p())&&((e=r(x))==null||e.draw())}),ae(),J();var t=pe(),M=m(t);ce(M,{sketch:j}),s(t),T(B,t),X()}var ke=A('<h3>Instrument</h3> <div><button>C / IV</button> <button><i class="fas fa-guitar"></i> / <i class="fas fa-keyboard"></i></button></div> <!> <!>',1);function Se(B,C){U(C,!1);let x=R(C,"notesToDisplay",8),p=G("name");const v=["neck","keyboard","both"];let f=G(0);J();var w=ke(),i=N(V(w),2),I=m(i),L=N(I,2);s(i);var k=N(i,2);{var b=t=>{we(t,{get notesToDisplay(){return x()},get labelMode(){return r(p)}})};Y(k,t=>{["neck","both"].includes(v[r(f)])&&t(b)})}var u=N(k,2);{var j=t=>{xe(t,{get notesToDisplay(){return x()},get labelMode(){return r(p)}})};Y(u,t=>{["keyboard","both"].includes(v[r(f)])&&t(j)})}Z("click",I,()=>P(p,r(p)==="name"?"degree":"name")),Z("click",L,()=>P(f,(r(f)+1)%v.length)),T(B,w),X()}var Ie=A(`<div role="dialog" class="modal svelte-5yv1o0"><div class="contents svelte-5yv1o0"><h4 class="title-bar svelte-5yv1o0">Chord Progressions <button>Close</button></h4> <div>This is a list of chord progressions I took from David Benett's videos and elsewhere
                too <ul><li><a href="https://www.youtube.com/watch?v=Vyc8lezaa9g" rel="noopener noreferrer" target="_blank">David Benett - 7 super common chord progressions and why they work</a></li> <li><a href="https://www.youtube.com/watch?v=v3YbEL-_eoI" rel="noopener noreferrer" target="_blank">David Benett - 6 more common chord progressions and why they work</a></li></ul> The user can change the tonic note in the "Scales" section and the progressions will
                change the actual chords to play.</div></div></div>`);function Ce(B,C){let x=R(C,"isOpen",8);var p=de(),v=V(p);{var f=w=>{var i=Ie(),I=m(i),L=m(I),k=N(m(L));s(L),le(2),s(I),s(i),Z("click",k,function(...b){var u;(u=ue)==null||u.apply(this,b)}),T(w,i)};Y(v,w=>{x()&&w(f)})}T(B,p)}const De=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}];var Ne=A("<span><b>Examples:</b> </span>"),Me=A('<div class="progression-step"><div class="step-degree svelte-1p3ym4z"> </div> <div class="step-value svelte-1p3ym4z"> </div></div>'),Be=A('<div><h4> </h4> <!> <div class="progression-table svelte-1p3ym4z"></div></div> <br>',1),Te=A('<h3>Chord Progressions <span><button aria-label="info"><i class="fa fa-info-circle" aria-hidden="true"></i></button></span></h3> <!>',1);function je(B,C){U(C,!1);let x=R(C,"scaleNotes",24,()=>[]);const p=k=>{let b=ee(k.degree);return k.minor&&(b=b.toLowerCase()),k.flat&&(b="b"+b),b},v=k=>{const b=x()[k.degree-1];let u=E.indexOf(b);k.flat&&(u--,u===-1&&(u=E.length-1));let j=E[u];return k.minor&&(j+="m"),j};J();var f=Te(),w=V(f),i=N(m(w)),I=m(i);he(I,"position","relative"),s(i),s(w);var L=N(w,2);K(L,1,()=>De,z,(k,b)=>{var u=Be(),j=V(u),t=m(j),M=m(t,!0);s(t);var e=N(t,2);{var o=d=>{var h=Ne(),_=N(m(h));W(()=>F(_,` ${r(b).examples.join(", ")??""}`)),s(h),T(d,h)};Y(e,d=>{r(b).examples&&d(o)})}var a=N(e,2);K(a,5,()=>r(b).chords,z,(d,h)=>{var _=Me(),c=m(_),y=m(c,!0);W(()=>F(y,p(r(h)))),s(c);var D=N(c,2),$=m(D,!0);W(()=>F($,v(r(h)))),s(D),s(_),T(d,_)}),s(a),s(j),le(2),W(()=>F(M,r(b).name)),T(k,u)}),Z("click",I,()=>be(Ce)),T(B,f),X()}var Ae=A("<option> </option>"),Le=A("<option> </option>"),Oe=A("<option> </option>"),We=A('<th class="svelte-gg3pfu"> </th>'),Ee=A('<td class="svelte-gg3pfu"> </td>'),Fe=A('<table><thead><tr><th class="svelte-gg3pfu"><label for="tonicInput">Tonic</label></th><th class="svelte-gg3pfu"><label for="scaleInput">Scale</label></th><th class="svelte-gg3pfu"><label for="modeInput">mode</label></th></tr></thead><tbody><tr><td class="svelte-gg3pfu"><select id="tonicInput"></select></td><td class="svelte-gg3pfu"><select id="scaleInput"></select></td><td class="svelte-gg3pfu"><select id="modeInput"></select></td></tr></tbody></table> <br> <table><tbody><tr></tr><tr></tr></tbody></table> <!> <!>',1);function tt(B,C){U(C,!1),ye.set("Scales");const x=[{name:"Major",intervals:[2,2,1,2,2,2,1],chords:["major","minor","minor","diminished","major","minor","major"]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2],chords:["minor","diminished","major","minor","major","major","minor"]},{name:"Pentatonic major",intervals:[2,2,3,2,3],chords:["major","minor","minor","major","minor"]},{name:"Pentatonic minor",intervals:[3,2,2,3,2],chords:["minor","major","minor","major","major"]}],p=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let v=G("C"),f=G(x[0]),w=G(p[0]),i=G([]);const I=(g,l,n)=>{const{intervals:S}=l;P(i,[g]);const O=E.indexOf(g);if(O===-1)throw new Error(`Tonic ${g} not found`);let H=O;for(const q of S)H=(H+q)%E.length,r(i).push(E[H]);r(i).pop();for(let q=1;q<n.degree;q++)r(i).push(r(i).shift())},L=(g,l)=>{let n=ee(g);return l==="minor"?n=n.toLowerCase():l==="diminished"&&(n+="°"),n},k=(g,l)=>{let n=g;return l==="minor"?n+="m":l==="diminished"&&(n+="°"),n};oe(()=>(r(v),r(f),r(w)),()=>{I(r(v),r(f),r(w))}),ae(),J();var b=Fe(),u=V(b),j=N(m(u)),t=m(j),M=m(t),e=m(M);W(()=>{r(v),te(()=>{})}),K(e,5,()=>E,z,(g,l)=>{var n=Ae(),S={},O=m(n,!0);s(n),W(()=>{S!==(S=r(l))&&(n.value=(n.__value=r(l))==null?"":r(l)),F(O,r(l))}),T(g,n)}),s(e),s(M);var o=N(M),a=m(o);W(()=>{r(f),te(()=>{})}),K(a,5,()=>x,z,(g,l)=>{var n=Le(),S={},O=m(n,!0);s(n),W(()=>{S!==(S=r(l))&&(n.value=(n.__value=r(l))==null?"":r(l)),F(O,r(l).name)}),T(g,n)}),s(a),s(o);var h=N(o),_=m(h);W(()=>{r(w),te(()=>{})}),K(_,5,()=>p,z,(g,l)=>{var n=Oe(),S={},O=m(n,!0);s(n),W(()=>{S!==(S=r(l))&&(n.value=(n.__value=r(l))==null?"":r(l)),F(O,r(l).name)}),T(g,n)}),s(_),s(h),s(t),s(j),s(u);var y=N(u,4),D=m(y),$=m(D);K($,5,()=>r(f).chords,z,(g,l,n)=>{var S=We(),O=m(S,!0);W(()=>F(O,L(n+1,r(l)))),s(S),T(g,S)}),s($);var ne=N($);K(ne,5,()=>r(i),z,(g,l,n)=>{var S=Ee();const O=ve(()=>r(f).chords[n]);var H=m(S,!0);W(()=>F(H,k(r(l),r(O)))),s(S),T(g,S)}),s(ne),s(D),s(y);var se=N(y,2);Se(se,{get notesToDisplay(){return r(i)}});var ge=N(se,2);{var me=g=>{var l=de(),n=V(l);fe(n,()=>r(i),S=>{je(S,{get scaleNotes(){return r(i)}})}),T(g,l)};Y(ge,g=>{["Major","Natural minor"].includes(r(f).name)&&g(me)})}re(e,()=>r(v),g=>P(v,g)),re(a,()=>r(f),g=>P(f,g)),re(_,()=>r(w),g=>P(w,g)),T(B,b),X()}export{tt as component};
