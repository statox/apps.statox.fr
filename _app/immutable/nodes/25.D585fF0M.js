import"../chunks/NZTpNUN0.js";import{o as C}from"../chunks/CVDCh7bQ.js";import{p as A,c as P,f as d,a as o,d as E,g as a,u as S,b as l,s as c,e as n,r as m,t as G,i as I,h as J}from"../chunks/OOCdeaM4.js";import{s as L,d as K}from"../chunks/DBBHR-3t.js";import{i as H}from"../chunks/BMFH8sZT.js";import{a as F,s as N}from"../chunks/BY6cWyRb.js";import{u as U}from"../chunks/bMdrnNxv.js";import{M as O}from"../chunks/C8MJLfl1.js";import{M as V}from"../chunks/DKcpRBkl.js";import{e as Q,i as R}from"../chunks/80iJqotc.js";import{a as W}from"../chunks/Bfiui_HV.js";import{D as X}from"../chunks/DTyfSRsR.js";import{g as Y}from"../chunks/Bd9sQ8Nq.js";import"../chunks/DRxGxY2p.js";import"../chunks/CVVRCy7F.js";import{p as Z}from"../chunks/Zs3ZkE6R.js";import{g as ee}from"../chunks/DwaJ-MFr.js";var te=l('<div class="event svelte-cyscl8"><div class="event-date"> </div> <div class="event-type"> </div> <div class="event-value"> </div></div>'),re=l('<div class="event svelte-cyscl8"><div>Date</div> <div>Type</div> <div>Value</div></div> <!>',1),ae=l("<p>Loading events</p>");function oe(_,s){A(s,!0);const g=()=>F(U,"$user",h),[h,k]=N();var i=P(),p=d(i);{var f=v=>{var u=P(),y=d(u);W(y,()=>s.events,e=>{var t=ae();o(e,t)},(e,t)=>{var r=re(),$=c(d(r),2);Q($,17,()=>a(t),R,(b,x)=>{const j=S(()=>X.fromSeconds(a(x).eventDateUnix).toLocal().toFormat("dd/MM/yy HH:mm"));var M=te(),D=n(M),q=n(D,!0);m(D);var T=c(D,2),z=n(T,!0);m(T);var w=c(T,2),B=n(w,!0);m(w),m(M),G(()=>{L(q,a(j)),L(z,a(x).type),L(B,a(x).value)}),o(b,M)}),o(e,r)},(e,t)=>{{let r=S(()=>({level:"error",header:"Something went wrong getting events",message:a(t)}));V(e,{get item(){return a(r)}})}}),o(v,u)};H(p,v=>{g()&&s.events&&v(f)})}o(_,i),E(),k()}var se=l("<div><button>Add an entry</button></div> <!>",1),ie=l("<!> <!>",1);function Me(_,s){A(s,!0);const g=()=>F(U,"$user",h),[h,k]=N();let i=J(void 0);Z.set("Personal Tracker"),C(()=>I(i,Y(),!0));var p=ie(),f=d(p);O(f,{title:"Personal Tracker",description:"Track me metrics",iconPath:"/personal_tracker.png"});var v=c(f,2);{var u=e=>{var t=se(),r=d(t),$=n(r);$.__click=()=>ee("/personal-tracker/add"),m(r);var b=c(r,2);oe(b,{get events(){return a(i)}}),o(e,t)},y=e=>{V(e,{item:{level:"info",header:"Login to add an entry or see events"}})};H(v,e=>{g()?e(u):e(y,!1)})}o(_,p),E(),k()}K(["click"]);export{Me as component};
