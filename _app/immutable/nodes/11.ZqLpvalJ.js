import{P as je}from"../chunks/public.C30nq52-.js";import{s as _e,M as It,f as w,g as C,N as X,j as T,G as He,i as L,w as ne,r as re,d as _,A as Ge,a as y,l as V,h as B,c as N,m as j,L as Me,H as m,$ as Ht,e as Y,P as pe,n as Re,k as Ve,p as Vt,o as Je,q as Ye,T as We}from"../chunks/scheduler.QoS9EMOx.js";import{S as Te,i as Le,g as Z,t as U,c as x,a as $,b as fe,d as ge,m as ue,e as he}from"../chunks/index.BS23CabK.js";import{e as z,u as jt,o as Rt}from"../chunks/each.XEVV6in-.js";import{a as Mt,o as qt}from"../chunks/store.sj-Gcwq_.js";/* empty css                          */import{M as Ft}from"../chunks/Main.MyVnOsow.js";import{w as zt}from"../chunks/index.DpfTd9wF.js";import{b as Gt}from"../chunks/paths.b4WeafVV.js";import{g as Jt,t as Kt,h as Xt,u as Yt}from"../chunks/service.KCy62VHU.js";const Wt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Qt=i=>{const t=i.url;return t.includes(".doc")?"doc":t.includes(".pdf")?"pdf":t.includes("youtube")?"youtube":"link"},Zt=async()=>{const i=je+"/chords/getAll";return(await fetch(i,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then(async l=>{if(l.ok)return l.json();throw new Error(await l.text())})).map(l=>({...l,type:Qt(l)}))},xt=async()=>({chords:await Zt()}),ql=Object.freeze(Object.defineProperty({__proto__:null,load:xt},Symbol.toStringTag,{value:"Module"})),{clearTimeout:Qe,setTimeout:Ze,window:qe}=Wt;function el(i){let t=!1,l=()=>{t=!1},n,e,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',r,a;return It(i[3]),{c(){e=w("button"),e.innerHTML=s,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-ed45ug"&&(e.innerHTML=s),this.h()},h(){T(e,"class","top-link svelte-1kbb9q3"),He(e,"hide",i[1])},m(o,f){L(o,e,f),r||(a=[ne(qe,"scroll",()=>{t=!0,Qe(n),n=Ze(l,100),i[3]()}),ne(e,"click",i[2])],r=!0)},p(o,[f]){f&1&&!t&&(t=!0,Qe(n),scrollTo(qe.pageXOffset,o[0]),n=Ze(l,100)),f&2&&He(e,"hide",o[1])},i:re,o:re,d(o){o&&_(e),r=!1,Ge(a)}}}function tl(i,t,l){let n,e=!0,s;const r=f=>{f>0?l(1,e=!1):l(1,e=!0),s&&clearTimeout(s),s=setTimeout(()=>{l(1,e=!0)},3e3)},a=()=>{const f=document.documentElement.scrollTop||document.body.scrollTop;f>0&&(window.requestAnimationFrame(a),window.scrollTo(0,f-f/2))};function o(){l(0,n=qe.pageYOffset)}return i.$$.update=()=>{i.$$.dirty&1&&r(n)},[n,e,a,o]}class ll extends Te{constructor(t){super(),Le(this,t,tl,el,_e,{})}}const Ue=zt(),Fe=i=>i==="doc"?"fas fa-file-word":i==="pdf"?"fas fa-file-pdf":i==="youtube"?"fa fa-youtube":"fas fa-link";function nl(i){let t,l,n,e,s,r,a,o,f;return{c(){t=w("span"),n=y(),e=w("span"),s=w("a"),r=V(i[2]),this.h()},l(u){t=C(u,"SPAN",{class:!0}),B(t).forEach(_),n=N(u),e=C(u,"SPAN",{});var g=B(e);s=C(g,"A",{href:!0,target:!0,rel:!0,title:!0});var c=B(s);r=j(c,i[2]),c.forEach(_),g.forEach(_),this.h()},h(){T(t,"class",l=Me(Fe(i[0].type))+" svelte-1gxig14"),T(s,"href",a=i[3](i[0])),T(s,"target","_blank"),T(s,"rel","noopener noreferrer"),T(s,"title",i[1])},m(u,g){L(u,t,g),L(u,n,g),L(u,e,g),m(e,s),m(s,r),o||(f=ne(s,"click",i[4]),o=!0)},p(u,[g]){g&1&&l!==(l=Me(Fe(u[0].type))+" svelte-1gxig14")&&T(t,"class",l),g&1&&a!==(a=u[3](u[0]))&&T(s,"href",a),g&2&&T(s,"title",u[1])},i:re,o:re,d(u){u&&(_(t),_(n),_(e)),o=!1,f()}}}function sl(i,t,l){let{chord:n}=t,{showArtist:e=!1}=t,s;Ue.subscribe(f=>{if(f&&f.has(n.url)){const u=f.get(n.url),g=new Date(u.lastAccessDateUnix*1e3);l(1,s=`visits: ${u.count} - last: ${g.toLocaleDateString()}`)}});const r=(e?n.artist+" - ":"")+n.title,a=f=>f.type==="doc"?`${Gt}/docviewer/${f.url}`:f.url,o=()=>{const f=je+"/chords/addLinkVisit",u={url:n.url},g=c=>{const p=`<strong>Visit not counted</strong><br/> ${c.message}`;Kt.push(p,{initial:0,theme:{"--toastBarBackground":"#FF0000"}})};Jt().then(c=>{fetch(f,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(u)}).then(p=>{if(p&&p.status!==200)throw new Error(p.statusText);const h=Ht(Ue),E=h.get(n.url)||{count:0,lastAccessDateUnix:0};E.count++,E.lastAccessDateUnix=Date.now()/1e3,h.set(n.url,E),Ue.set(h)}).catch(g)}).catch(g)};return i.$$set=f=>{"chord"in f&&l(0,n=f.chord),"showArtist"in f&&l(5,e=f.showArtist)},[n,s,r,a,o,e]}class Oe extends Te{constructor(t){super(),Le(this,t,sl,nl,_e,{chord:0,showArtist:5})}}function xe(i,t,l){const n=i.slice();n[5]=t[l];const e=n[3].get(n[5].url);return n[6]=e,n}function et(i){let t,l,n,e,s,r=i[6]&&tt(i);return n=new Oe({props:{chord:i[5],showArtist:!0}}),{c(){t=w("li"),r&&r.c(),l=y(),fe(n.$$.fragment),e=y(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=B(t);r&&r.l(o),l=N(o),ge(n.$$.fragment,o),e=N(o),o.forEach(_),this.h()},h(){T(t,"class","ul2col-item")},m(a,o){L(a,t,o),r&&r.m(t,null),m(t,l),ue(n,t,null),m(t,e),s=!0},p(a,o){a[6]?r?r.p(a,o):(r=tt(a),r.c(),r.m(t,l)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[5]),n.$set(f)},i(a){s||($(n.$$.fragment,a),s=!0)},o(a){U(n.$$.fragment,a),s=!1},d(a){a&&_(t),r&&r.d(),he(n)}}}function tt(i){let t,l=i[6].count+"",n,e;return{c(){t=V("("),n=V(l),e=V(")")},l(s){t=j(s,"("),n=j(s,l),e=j(s,")")},m(s,r){L(s,t,r),L(s,n,r),L(s,e,r)},p(s,r){r&9&&l!==(l=s[6].count+"")&&Re(n,l)},d(s){s&&(_(t),_(n),_(e))}}}function lt(i){let t=i[4](i[5],i[1],i[2]),l,n,e=t&&et(i);return{c(){e&&e.c(),l=Y()},l(s){e&&e.l(s),l=Y()},m(s,r){e&&e.m(s,r),L(s,l,r),n=!0},p(s,r){r&7&&(t=s[4](s[5],s[1],s[2])),t?e?(e.p(s,r),r&7&&$(e,1)):(e=et(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(Z(),U(e,1,1,()=>{e=null}),x())},i(s){n||($(e),n=!0)},o(s){U(e),n=!1},d(s){s&&_(l),e&&e.d(s)}}}function nt(i){let t,l,n=z(i[0]),e=[];for(let r=0;r<n.length;r+=1)e[r]=lt(xe(i,n,r));const s=r=>U(e[r],1,1,()=>{e[r]=null});return{c(){t=w("ul");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=C(r,"UL",{class:!0});var a=B(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(_),this.h()},h(){T(t,"class","ul2col-container")},m(r,a){L(r,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);l=!0},p(r,a){if(a&31){n=z(r[0]);let o;for(o=0;o<n.length;o+=1){const f=xe(r,n,o);e[o]?(e[o].p(f,a),$(e[o],1)):(e[o]=lt(f),e[o].c(),$(e[o],1),e[o].m(t,null))}for(Z(),o=n.length;o<e.length;o+=1)s(o);x()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)$(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)U(e[a]);l=!1},d(r){r&&_(t),pe(e,r)}}}function rl(i){let t=i[0],l,n,e=nt(i);return{c(){e.c(),l=Y()},l(s){e.l(s),l=Y()},m(s,r){e.m(s,r),L(s,l,r),n=!0},p(s,[r]){r&1&&_e(t,t=s[0])?(Z(),U(e,1,1,re),x(),e=nt(s),e.c(),$(e,1),e.m(l.parentNode,l)):e.p(s,r)},i(s){n||($(e),n=!0)},o(s){U(e),n=!1},d(s){s&&_(l),e.d(s)}}}function ol(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t,r;Ue.subscribe(o=>{o&&(l(3,r=o),l(0,e=e.sort((f,u)=>{const g=o.get(f.url),c=o.get(u.url);return g&&c?c.lastAccessDateUnix-g.lastAccessDateUnix:g?-1:c?1:f.artist!=u.artist?f.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:f.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const a=(o,f,u)=>u[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return i.$$set=o=>{"searchString"in o&&l(1,n=o.searchString),"chords"in o&&l(0,e=o.chords),"filters"in o&&l(2,s=o.filters)},[e,n,s,r,a]}class il extends Te{constructor(t){super(),Le(this,t,ol,rl,_e,{searchString:1,chords:0,filters:2})}}const al=(i,t)=>i<t?-1:i>t?1:0,ze=(i,t)=>{const l=i.toLowerCase(),n=t.toLowerCase();return al(l,n)};function st(i,t,l){const n=i.slice();n[14]=t[l];const e=n[8](n[14].name,n[0],n[1]);return n[2]=e,n}function rt(i,t,l){const n=i.slice();return n[17]=t[l],n}function ot(i,t,l){const n=i.slice();return n[20]=t[l],n}function it(i){let t,l,n=i[20].letter.toUpperCase()+"",e,s;return{c(){t=w("li"),l=w("a"),e=V(n),s=y(),this.h()},l(r){t=C(r,"LI",{class:!0});var a=B(t);l=C(a,"A",{href:!0,class:!0});var o=B(l);e=j(o,n),o.forEach(_),s=N(a),a.forEach(_),this.h()},h(){T(l,"href","#"+i[20].tag),T(l,"class","navigationLink svelte-1deg5s8"),T(t,"class","navigationBtn svelte-1deg5s8")},m(r,a){L(r,t,a),m(t,l),m(l,e),m(t,s)},p:re,d(r){r&&_(t)}}}function at(i){let t,l,n=i[14].name+"",e,s,r,a,o,f=z(i[2]),u=[];for(let c=0;c<f.length;c+=1)u[c]=ct(rt(i,f,c));const g=c=>U(u[c],1,1,()=>{u[c]=null});return{c(){t=w("tr"),l=w("td"),e=V(n),s=y(),r=w("ul");for(let c=0;c<u.length;c+=1)u[c].c();a=y(),this.h()},l(c){t=C(c,"TR",{class:!0});var p=B(t);l=C(p,"TD",{id:!0,class:!0});var h=B(l);e=j(h,n),s=N(h),r=C(h,"UL",{class:!0});var E=B(r);for(let d=0;d<u.length;d+=1)u[d].l(E);E.forEach(_),h.forEach(_),a=N(p),p.forEach(_),this.h()},h(){T(r,"class","ul2col-container"),T(l,"id",i[14].tag),T(l,"class","svelte-1deg5s8"),T(t,"class","svelte-1deg5s8")},m(c,p){L(c,t,p),m(t,l),m(l,e),m(l,s),m(l,r);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(r,null);m(t,a),o=!0},p(c,p){if(p&387){f=z(c[2]);let h;for(h=0;h<f.length;h+=1){const E=rt(c,f,h);u[h]?(u[h].p(E,p),$(u[h],1)):(u[h]=ct(E),u[h].c(),$(u[h],1),u[h].m(r,null))}for(Z(),h=f.length;h<u.length;h+=1)g(h);x()}},i(c){if(!o){for(let p=0;p<f.length;p+=1)$(u[p]);o=!0}},o(c){u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)U(u[p]);o=!1},d(c){c&&_(t),pe(u,c)}}}function ct(i){let t,l,n,e;return l=new Oe({props:{chord:i[17]}}),{c(){t=w("li"),fe(l.$$.fragment),n=y(),this.h()},l(s){t=C(s,"LI",{class:!0});var r=B(t);ge(l.$$.fragment,r),n=N(r),r.forEach(_),this.h()},h(){T(t,"class","ul2col-item")},m(s,r){L(s,t,r),ue(l,t,null),m(t,n),e=!0},p(s,r){const a={};r&3&&(a.chord=s[17]),l.$set(a)},i(s){e||($(l.$$.fragment,s),e=!0)},o(s){U(l.$$.fragment,s),e=!1},d(s){s&&_(t),he(l)}}}function ft(i){let t=i[9](i[14].name,i[2],i[0],i[1]),l,n,e=t&&at(i);return{c(){e&&e.c(),l=Y()},l(s){e&&e.l(s),l=Y()},m(s,r){e&&e.m(s,r),L(s,l,r),n=!0},p(s,r){r&3&&(t=s[9](s[14].name,s[2],s[0],s[1])),t?e?(e.p(s,r),r&3&&$(e,1)):(e=at(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(Z(),U(e,1,1,()=>{e=null}),x())},i(s){n||($(e),n=!0)},o(s){U(e),n=!1},d(s){s&&_(l),e&&e.d(s)}}}function cl(i){let t=!1,l=()=>{t=!1},n,e,s=`${i[4]}px`,r,a,o,f,u;It(i[10]);let g=z(i[6]),c=[];for(let d=0;d<g.length;d+=1)c[d]=it(ot(i,g,d));let p=z(i[7]),h=[];for(let d=0;d<p.length;d+=1)h[d]=ft(st(i,p,d));const E=d=>U(h[d],1,1,()=>{h[d]=null});return{c(){e=w("ol");for(let d=0;d<c.length;d+=1)c[d].c();r=y(),a=w("table");for(let d=0;d<h.length;d+=1)h[d].c();this.h()},l(d){e=C(d,"OL",{id:!0,class:!0});var k=B(e);for(let P=0;P<c.length;P+=1)c[P].l(k);k.forEach(_),r=N(d),a=C(d,"TABLE",{id:!0});var v=B(a);for(let P=0;P<h.length;P+=1)h[P].l(v);v.forEach(_),this.h()},h(){T(e,"id","indexList"),T(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),Ve(e,"--barTop",s),T(a,"id","artistTable")},m(d,k){L(d,e,k);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(e,null);L(d,r,k),L(d,a,k);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(a,null);i[11](a),o=!0,f||(u=ne(window,"scroll",()=>{t=!0,clearTimeout(n),n=setTimeout(l,100),i[10]()}),f=!0)},p(d,[k]){if(k&8&&!t&&(t=!0,clearTimeout(n),scrollTo(window.pageXOffset,d[3]),n=setTimeout(l,100)),k&64){g=z(d[6]);let v;for(v=0;v<g.length;v+=1){const P=ot(d,g,v);c[v]?c[v].p(P,k):(c[v]=it(P),c[v].c(),c[v].m(e,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=g.length}if(k&16&&s!==(s=`${d[4]}px`)&&Ve(e,"--barTop",s),k&899){p=z(d[7]);let v;for(v=0;v<p.length;v+=1){const P=st(d,p,v);h[v]?(h[v].p(P,k),$(h[v],1)):(h[v]=ft(P),h[v].c(),$(h[v],1),h[v].m(a,null))}for(Z(),v=p.length;v<h.length;v+=1)E(v);x()}},i(d){if(!o){for(let k=0;k<p.length;k+=1)$(h[k]);o=!0}},o(d){h=h.filter(Boolean);for(let k=0;k<h.length;k+=1)U(h[k]);o=!1},d(d){d&&(_(e),_(r),_(a)),pe(c,d),pe(h,d),i[11](null),f=!1,u()}}}function fl(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t;const r=e.reduce((k,v)=>{const P=v.artist;return k[P]||(k[P]=[]),k[P].push(v),k},{}),a=[],o=Object.keys(r).sort(ze).map((k,v,P)=>{if(v===0||k[0].toLowerCase()!=P[v-1][0].toLowerCase()){const S="anchor_letter_"+k[0];return a.push({letter:k[0],tag:S}),{name:k,tag:S}}return{name:k}});let f,u=0,g;const c=k=>{if(g){var v=g.getBoundingClientRect();if(v.top<20){l(4,u=20);return}l(4,u=v.top)}},p=(k,v,P)=>r[k].sort((A,I)=>A.title<I.title?-1:1).filter(A=>{const I=A.type;return P[I]===!1?!1:v.length===0?!0:(k+";"+A.title+";"+A.tags.join(",")).toLowerCase().match(v.toLowerCase())}),h=(k,v,P,S)=>v.length===0?!1:P.length===0?!0:(k+";"+v.reduce((I,W)=>I+W.title+";"+W.tags.join(","),"")).toLowerCase().match(P.toLowerCase());function E(){l(3,f=window.pageYOffset)}function d(k){Vt[k?"unshift":"push"](()=>{g=k,l(5,g)})}return i.$$set=k=>{"searchString"in k&&l(0,n=k.searchString),"chords"in k&&l(2,e=k.chords),"filters"in k&&l(1,s=k.filters)},i.$$.update=()=>{i.$$.dirty&8&&c()},[n,s,e,f,u,g,a,o,p,h,E,d]}class ul extends Te{constructor(t){super(),Le(this,t,fl,cl,_e,{searchString:0,chords:2,filters:1})}}function ut(i,t,l){const n=i.slice();return n[5]=t[l],n}function ht(i,t,l){const n=i.slice();return n[8]=t[l],n}function _t(i){let t,l,n=i[3](i[5])+"",e,s,r,a,o,f=z(i[2][i[5]]),u=[];for(let c=0;c<f.length;c+=1)u[c]=mt(ht(i,f,c));const g=c=>U(u[c],1,1,()=>{u[c]=null});return{c(){t=w("div"),l=w("span"),e=V(n),s=y(),r=w("ul");for(let c=0;c<u.length;c+=1)u[c].c();a=y(),this.h()},l(c){t=C(c,"DIV",{});var p=B(t);l=C(p,"SPAN",{});var h=B(l);e=j(h,n),h.forEach(_),s=N(p),r=C(p,"UL",{class:!0});var E=B(r);for(let d=0;d<u.length;d+=1)u[d].l(E);E.forEach(_),a=N(p),p.forEach(_),this.h()},h(){T(r,"class","ul2col-container")},m(c,p){L(c,t,p),m(t,l),m(l,e),m(t,s),m(t,r);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(r,null);m(t,a),o=!0},p(c,p){if((!o||p&4)&&n!==(n=c[3](c[5])+"")&&Re(e,n),p&6){f=z(c[2][c[5]]);let h;for(h=0;h<f.length;h+=1){const E=ht(c,f,h);u[h]?(u[h].p(E,p),$(u[h],1)):(u[h]=mt(E),u[h].c(),$(u[h],1),u[h].m(r,null))}for(Z(),h=f.length;h<u.length;h+=1)g(h);x()}},i(c){if(!o){for(let p=0;p<f.length;p+=1)$(u[p]);o=!0}},o(c){u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)U(u[p]);o=!1},d(c){c&&_(t),pe(u,c)}}}function dt(i){let t,l,n,e;return l=new Oe({props:{chord:i[8],showArtist:!0}}),{c(){t=w("li"),fe(l.$$.fragment),n=y(),this.h()},l(s){t=C(s,"LI",{class:!0});var r=B(t);ge(l.$$.fragment,r),n=N(r),r.forEach(_),this.h()},h(){T(t,"class","ul2col-item")},m(s,r){L(s,t,r),ue(l,t,null),m(t,n),e=!0},p(s,r){const a={};r&4&&(a.chord=s[8]),l.$set(a)},i(s){e||($(l.$$.fragment,s),e=!0)},o(s){U(l.$$.fragment,s),e=!1},d(s){s&&_(t),he(l)}}}function mt(i){let t,l,n=i[1][i[8].type]&&dt(i);return{c(){n&&n.c(),t=Y()},l(e){n&&n.l(e),t=Y()},m(e,s){n&&n.m(e,s),L(e,t,s),l=!0},p(e,s){e[1][e[8].type]?n?(n.p(e,s),s&6&&$(n,1)):(n=dt(e),n.c(),$(n,1),n.m(t.parentNode,t)):n&&(Z(),U(n,1,1,()=>{n=null}),x())},i(e){l||($(n),l=!0)},o(e){U(n),l=!1},d(e){e&&_(t),n&&n.d(e)}}}function gt(i){let t=i[0].length===0||i[5].toLowerCase().match(i[0].toLowerCase()),l,n,e=t&&_t(i);return{c(){e&&e.c(),l=Y()},l(s){e&&e.l(s),l=Y()},m(s,r){e&&e.m(s,r),L(s,l,r),n=!0},p(s,r){r&5&&(t=s[0].length===0||s[5].toLowerCase().match(s[0].toLowerCase())),t?e?(e.p(s,r),r&5&&$(e,1)):(e=_t(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(Z(),U(e,1,1,()=>{e=null}),x())},i(s){n||($(e),n=!0)},o(s){U(e),n=!1},d(s){s&&_(l),e&&e.d(s)}}}function hl(i){let t,l,n=z(Object.keys(i[2]).sort(ze)),e=[];for(let r=0;r<n.length;r+=1)e[r]=gt(ut(i,n,r));const s=r=>U(e[r],1,1,()=>{e[r]=null});return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=Y()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=Y()},m(r,a){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(r,a);L(r,t,a),l=!0},p(r,[a]){if(a&15){n=z(Object.keys(r[2]).sort(ze));let o;for(o=0;o<n.length;o+=1){const f=ut(r,n,o);e[o]?(e[o].p(f,a),$(e[o],1)):(e[o]=gt(f),e[o].c(),$(e[o],1),e[o].m(t.parentNode,t))}for(Z(),o=n.length;o<e.length;o+=1)s(o);x()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)$(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)U(e[a]);l=!1},d(r){r&&_(t),pe(e,r)}}}function _l(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t;const r=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),a={};for(const o of e)o.tags.forEach(u=>{a[u]||l(2,a[u]=[],a),a[u].push(o)});return Object.keys(a).forEach(o=>{a[o].sort((f,u)=>{const g=f.artist.toLowerCase(),c=u.artist.toLowerCase(),p=f.title.toLowerCase(),h=u.title.toLowerCase();return g<c?-1:g>c?1:p<h?-1:1})}),i.$$set=o=>{"searchString"in o&&l(0,n=o.searchString),"chords"in o&&l(4,e=o.chords),"filters"in o&&l(1,s=o.filters)},[n,s,a,r,e]}class dl extends Te{constructor(t){super(),Le(this,t,_l,hl,_e,{searchString:0,chords:4,filters:1})}}function pt(i,t,l){const n=i.slice();n[5]=t[l];const e=n[3].get(n[5].url);return n[6]=e,n}function kt(i){let t,l,n,e,s,r=i[6]&&bt(i);return n=new Oe({props:{chord:i[5],showArtist:!0}}),{c(){t=w("li"),r&&r.c(),l=y(),fe(n.$$.fragment),e=y(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=B(t);r&&r.l(o),l=N(o),ge(n.$$.fragment,o),e=N(o),o.forEach(_),this.h()},h(){T(t,"class","ul2col-item")},m(a,o){L(a,t,o),r&&r.m(t,null),m(t,l),ue(n,t,null),m(t,e),s=!0},p(a,o){a[6]?r?r.p(a,o):(r=bt(a),r.c(),r.m(t,l)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[5]),n.$set(f)},i(a){s||($(n.$$.fragment,a),s=!0)},o(a){U(n.$$.fragment,a),s=!1},d(a){a&&_(t),r&&r.d(),he(n)}}}function bt(i){let t,l=i[6].count+"",n,e;return{c(){t=V("("),n=V(l),e=V(")")},l(s){t=j(s,"("),n=j(s,l),e=j(s,")")},m(s,r){L(s,t,r),L(s,n,r),L(s,e,r)},p(s,r){r&9&&l!==(l=s[6].count+"")&&Re(n,l)},d(s){s&&(_(t),_(n),_(e))}}}function vt(i){let t=i[4](i[5],i[1],i[2]),l,n,e=t&&kt(i);return{c(){e&&e.c(),l=Y()},l(s){e&&e.l(s),l=Y()},m(s,r){e&&e.m(s,r),L(s,l,r),n=!0},p(s,r){r&7&&(t=s[4](s[5],s[1],s[2])),t?e?(e.p(s,r),r&7&&$(e,1)):(e=kt(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(Z(),U(e,1,1,()=>{e=null}),x())},i(s){n||($(e),n=!0)},o(s){U(e),n=!1},d(s){s&&_(l),e&&e.d(s)}}}function wt(i){let t,l,n=z(i[0]),e=[];for(let r=0;r<n.length;r+=1)e[r]=vt(pt(i,n,r));const s=r=>U(e[r],1,1,()=>{e[r]=null});return{c(){t=w("ul");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=C(r,"UL",{class:!0});var a=B(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(_),this.h()},h(){T(t,"class","ul2col-container")},m(r,a){L(r,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);l=!0},p(r,a){if(a&31){n=z(r[0]);let o;for(o=0;o<n.length;o+=1){const f=pt(r,n,o);e[o]?(e[o].p(f,a),$(e[o],1)):(e[o]=vt(f),e[o].c(),$(e[o],1),e[o].m(t,null))}for(Z(),o=n.length;o<e.length;o+=1)s(o);x()}},i(r){if(!l){for(let a=0;a<n.length;a+=1)$(e[a]);l=!0}},o(r){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)U(e[a]);l=!1},d(r){r&&_(t),pe(e,r)}}}function ml(i){let t=i[0],l,n,e=wt(i);return{c(){e.c(),l=Y()},l(s){e.l(s),l=Y()},m(s,r){e.m(s,r),L(s,l,r),n=!0},p(s,[r]){r&1&&_e(t,t=s[0])?(Z(),U(e,1,1,re),x(),e=wt(s),e.c(),$(e,1),e.m(l.parentNode,l)):e.p(s,r)},i(s){n||($(e),n=!0)},o(s){U(e),n=!1},d(s){s&&_(l),e.d(s)}}}function gl(i,t,l){let{searchString:n}=t,{chords:e}=t,{filters:s}=t,r;Ue.subscribe(o=>{o&&(l(3,r=o),l(0,e=e.sort((f,u)=>{const g=o.get(f.url),c=o.get(u.url);return g&&c?g.count!==c.count?c.count-g.count:c.lastAccessDateUnix-g.lastAccessDateUnix:g?-1:c?1:f.artist!=u.artist?f.artist.toLowerCase()<u.artist.toLowerCase()?-1:1:f.title.toLowerCase()<u.title.toLowerCase()?-1:1})))});const a=(o,f,u)=>u[o.type]===!1?!1:f.length===0||o.artist.toLowerCase().match(f.toLowerCase())?!0:o.title.toLowerCase().match(f.toLowerCase());return i.$$set=o=>{"searchString"in o&&l(1,n=o.searchString),"chords"in o&&l(0,e=o.chords),"filters"in o&&l(2,s=o.filters)},[e,n,s,r,a]}class pl extends Te{constructor(t){super(),Le(this,t,gl,ml,_e,{searchString:1,chords:0,filters:2})}}function Ct(i){const t=i[2](i[5]);i[6]=t;const l=i[3](i[5]);i[7]=l}function Tt(i,t,l){const n=i.slice();return n[8]=t[l],n}function Lt(i){let t,l,n,e,s,r="Close",a,o,f,u={ctx:i,current:null,token:null,hasCatch:!0,pending:vl,then:bl,catch:kl,value:5,error:11};return Xt(i[1],u),{c(){t=w("div"),l=w("div"),n=w("h3"),e=V(`Urls checks
                `),s=w("button"),s.textContent=r,a=y(),u.block.c(),this.h()},l(g){t=C(g,"DIV",{role:!0,class:!0});var c=B(t);l=C(c,"DIV",{class:!0});var p=B(l);n=C(p,"H3",{class:!0});var h=B(n);e=j(h,`Urls checks
                `),s=C(h,"BUTTON",{"data-svelte-h":!0}),X(s)!=="svelte-2m9p61"&&(s.textContent=r),h.forEach(_),a=N(p),u.block.l(p),p.forEach(_),c.forEach(_),this.h()},h(){T(n,"class","title-bar svelte-1b7k28l"),T(l,"class","contents svelte-1b7k28l"),T(t,"role","dialog"),T(t,"class","modal svelte-1b7k28l")},m(g,c){L(g,t,c),m(t,l),m(l,n),m(n,e),m(n,s),m(l,a),u.block.m(l,u.anchor=null),u.mount=()=>l,u.anchor=null,o||(f=ne(s,"click",Mt),o=!0)},p(g,c){i=g,Yt(u,i,c)},d(g){g&&_(t),u.block.d(),u.token=null,u=null,o=!1,f()}}}function kl(i){let t,l,n=i[11].message+"",e;return{c(){t=w("p"),l=V("Could not retrieve checks: "),e=V(n),this.h()},l(s){t=C(s,"P",{style:!0});var r=B(t);l=j(r,"Could not retrieve checks: "),e=j(r,n),r.forEach(_),this.h()},h(){Ve(t,"color","red")},m(s,r){L(s,t,r),m(t,l),m(t,e)},p:re,d(s){s&&_(t)}}}function bl(i){Ct(i);let t,l,n="Last Check",e,s,r="Checks",a,o,f="Skipped",u,g,c="Errors",p,h,E=i[6]+"",d,k,v,P=i[5].nbChecks+"",S,A,I,W=i[5].nbSkipped+"",q,Q,Se,$e=i[5].nbFails+"",oe,Ee,ie,ye,J,te,Ie="Status",Ne,ee,De="Ref",ke,be,Pe="Host",de,ae,F="Data",ve,me=z(i[7]),G=[];for(let R=0;R<me.length;R+=1)G[R]=St(Tt(i,me,R));return{c(){t=w("div"),l=w("span"),l.textContent=n,e=y(),s=w("span"),s.textContent=r,a=y(),o=w("span"),o.textContent=f,u=y(),g=w("span"),g.textContent=c,p=y(),h=w("span"),d=V(E),k=y(),v=w("span"),S=V(P),A=y(),I=w("span"),q=V(W),Q=y(),Se=w("span"),oe=V($e),Ee=y(),ie=w("br"),ye=y(),J=w("div"),te=w("span"),te.textContent=Ie,Ne=y(),ee=w("span"),ee.textContent=De,ke=y(),be=w("span"),be.textContent=Pe,de=y(),ae=w("span"),ae.textContent=F,ve=y();for(let R=0;R<G.length;R+=1)G[R].c();this.h()},l(R){t=C(R,"DIV",{class:!0});var H=B(t);l=C(H,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1lbvzb0"&&(l.textContent=n),e=N(H),s=C(H,"SPAN",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-1wmxeaf"&&(s.textContent=r),a=N(H),o=C(H,"SPAN",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-txun94"&&(o.textContent=f),u=N(H),g=C(H,"SPAN",{class:!0,"data-svelte-h":!0}),X(g)!=="svelte-5mrj6x"&&(g.textContent=c),p=N(H),h=C(H,"SPAN",{class:!0});var O=B(h);d=j(O,E),O.forEach(_),k=N(H),v=C(H,"SPAN",{class:!0});var ce=B(v);S=j(ce,P),ce.forEach(_),A=N(H),I=C(H,"SPAN",{class:!0});var K=B(I);q=j(K,W),K.forEach(_),Q=N(H),Se=C(H,"SPAN",{class:!0});var we=B(Se);oe=j(we,$e),we.forEach(_),H.forEach(_),Ee=N(R),ie=C(R,"BR",{}),ye=N(R),J=C(R,"DIV",{class:!0});var se=B(J);te=C(se,"SPAN",{class:!0,"data-svelte-h":!0}),X(te)!=="svelte-1s7ffxq"&&(te.textContent=Ie),Ne=N(se),ee=C(se,"SPAN",{class:!0,"data-svelte-h":!0}),X(ee)!=="svelte-1wa8gqx"&&(ee.textContent=De),ke=N(se),be=C(se,"SPAN",{class:!0,"data-svelte-h":!0}),X(be)!=="svelte-33rgke"&&(be.textContent=Pe),de=N(se),ae=C(se,"SPAN",{class:!0,"data-svelte-h":!0}),X(ae)!=="svelte-1yzk30k"&&(ae.textContent=F),ve=N(se);for(let b=0;b<G.length;b+=1)G[b].l(se);se.forEach(_),this.h()},h(){T(l,"class","col table-head svelte-1b7k28l"),T(s,"class","col table-head svelte-1b7k28l"),T(o,"class","col table-head svelte-1b7k28l"),T(g,"class","col table-head svelte-1b7k28l"),T(h,"class","col svelte-1b7k28l"),T(v,"class","col svelte-1b7k28l"),T(I,"class","col svelte-1b7k28l"),T(Se,"class","col svelte-1b7k28l"),T(t,"class","rows svelte-1b7k28l"),T(te,"class","col table-head svelte-1b7k28l"),T(ee,"class","col table-head svelte-1b7k28l"),T(be,"class","col table-head svelte-1b7k28l"),T(ae,"class","col table-head svelte-1b7k28l"),T(J,"class","rows svelte-1b7k28l")},m(R,H){L(R,t,H),m(t,l),m(t,e),m(t,s),m(t,a),m(t,o),m(t,u),m(t,g),m(t,p),m(t,h),m(h,d),m(t,k),m(t,v),m(v,S),m(t,A),m(t,I),m(I,q),m(t,Q),m(t,Se),m(Se,oe),L(R,Ee,H),L(R,ie,H),L(R,ye,H),L(R,J,H),m(J,te),m(J,Ne),m(J,ee),m(J,ke),m(J,be),m(J,de),m(J,ae),m(J,ve);for(let O=0;O<G.length;O+=1)G[O]&&G[O].m(J,null)},p(R,H){if(Ct(R),H&10){me=z(R[7]);let O;for(O=0;O<me.length;O+=1){const ce=Tt(R,me,O);G[O]?G[O].p(ce,H):(G[O]=St(ce),G[O].c(),G[O].m(J,null))}for(;O<G.length;O+=1)G[O].d(1);G.length=me.length}},d(R){R&&(_(t),_(Ee),_(ie),_(ye),_(J)),pe(G,R)}}}function St(i){let t,l=i[8].status+"",n,e,s,r=i[8].chord.artist+"",a,o,f=i[8].chord.title+"",u,g,c,p,h=new URL(i[8].chord.url).hostname+"",E,d,k,v=(i[8].error?JSON.stringify(i[8].error):"")+"",P;return{c(){t=w("span"),n=V(l),e=y(),s=w("span"),a=V(r),o=V(" - "),u=V(f),g=y(),c=w("span"),p=w("a"),E=V(h),d=y(),k=w("span"),P=V(v),this.h()},l(S){t=C(S,"SPAN",{class:!0});var A=B(t);n=j(A,l),A.forEach(_),e=N(S),s=C(S,"SPAN",{class:!0});var I=B(s);a=j(I,r),o=j(I," - "),u=j(I,f),I.forEach(_),g=N(S),c=C(S,"SPAN",{class:!0});var W=B(c);p=C(W,"A",{href:!0,target:!0,rel:!0});var q=B(p);E=j(q,h),q.forEach(_),W.forEach(_),d=N(S),k=C(S,"SPAN",{class:!0});var Q=B(k);P=j(Q,v),Q.forEach(_),this.h()},h(){T(t,"class","col svelte-1b7k28l"),T(s,"class","col svelte-1b7k28l"),T(p,"href",i[8].chord.url),T(p,"target","_blank"),T(p,"rel","noopener noreferrer"),T(c,"class","col svelte-1b7k28l"),T(k,"class","col svelte-1b7k28l")},m(S,A){L(S,t,A),m(t,n),L(S,e,A),L(S,s,A),m(s,a),m(s,o),m(s,u),L(S,g,A),L(S,c,A),m(c,p),m(p,E),L(S,d,A),L(S,k,A),m(k,P)},p:re,d(S){S&&(_(t),_(e),_(s),_(g),_(c),_(d),_(k))}}}function vl(i){let t,l="Fetching results...";return{c(){t=w("p"),t.textContent=l},l(n){t=C(n,"P",{"data-svelte-h":!0}),X(t)!=="svelte-gjakbw"&&(t.textContent=l)},m(n,e){L(n,t,e)},p:re,d(n){n&&_(t)}}}function wl(i){let t,l=i[0]&&Lt(i);return{c(){l&&l.c(),t=Y()},l(n){l&&l.l(n),t=Y()},m(n,e){l&&l.m(n,e),L(n,t,e)},p(n,[e]){n[0]?l?l.p(n,e):(l=Lt(n),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:re,o:re,d(n){n&&_(t),l&&l.d(n)}}}function Cl(i,t,l){let{isOpen:n}=t;const e=je+"/chords/checkLinks";let s=fetch(e).then(o=>o.json());const r=o=>{const f=new Date(o.timestamp);return f.toDateString()+" "+f.toTimeString()},a=o=>o.fails.sort((f,u)=>f.chord.url<u.chord.url?-1:1);return i.$$set=o=>{"isOpen"in o&&l(0,n=o.isOpen)},[n,s,r,a]}class Tl extends Te{constructor(t){super(),Le(this,t,Cl,wl,_e,{isOpen:0})}}function Et(i,t,l){const n=i.slice();return n[10]=t[l],n}function At(i){let t,l=i[10].dateTag+"",n;return{c(){t=w("li"),n=V(l),this.h()},l(e){t=C(e,"LI",{class:!0});var s=B(t);n=j(s,l),s.forEach(_),this.h()},h(){T(t,"class","ul2col-separator")},m(e,s){L(e,t,s),m(t,n)},p(e,s){s&1&&l!==(l=e[10].dateTag+"")&&Re(n,l)},d(e){e&&_(t)}}}function yt(i){let t,l,n,e,s,r=i[10].dateTag&&At(i);return n=new Oe({props:{chord:i[10]}}),{c(){r&&r.c(),t=y(),l=w("li"),fe(n.$$.fragment),e=y(),this.h()},l(a){r&&r.l(a),t=N(a),l=C(a,"LI",{class:!0});var o=B(l);ge(n.$$.fragment,o),e=N(o),o.forEach(_),this.h()},h(){T(l,"class","ul2col-item")},m(a,o){r&&r.m(a,o),L(a,t,o),L(a,l,o),ue(n,l,null),m(l,e),s=!0},p(a,o){a[10].dateTag?r?r.p(a,o):(r=At(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null);const f={};o&1&&(f.chord=a[10]),n.$set(f)},i(a){s||($(n.$$.fragment,a),s=!0)},o(a){U(n.$$.fragment,a),s=!1},d(a){a&&(_(t),_(l)),r&&r.d(a),he(n)}}}function Ll(i){let t,l,n,e,s="More...",r,a,o,f,u,g=z(i[0]),c=[];for(let h=0;h<g.length;h+=1)c[h]=yt(Et(i,g,h));const p=h=>U(c[h],1,1,()=>{c[h]=null});return{c(){t=w("div"),l=w("h3"),n=V(`Latest additions
        `),e=w("button"),e.textContent=s,r=y(),a=w("ul");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){t=C(h,"DIV",{});var E=B(t);l=C(E,"H3",{});var d=B(l);n=j(d,`Latest additions
        `),e=C(d,"BUTTON",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-l2h3rt"&&(e.textContent=s),d.forEach(_),r=N(E),a=C(E,"UL",{class:!0});var k=B(a);for(let v=0;v<c.length;v+=1)c[v].l(k);k.forEach(_),E.forEach(_),this.h()},h(){T(e,"class","pull-right"),T(a,"class","ul2col-container")},m(h,E){L(h,t,E),m(t,l),m(l,n),m(l,e),m(t,r),m(t,a);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(a,null);o=!0,f||(u=ne(e,"click",i[3]),f=!0)},p(h,[E]){if(E&1){g=z(h[0]);let d;for(d=0;d<g.length;d+=1){const k=Et(h,g,d);c[d]?(c[d].p(k,E),$(c[d],1)):(c[d]=yt(k),c[d].c(),$(c[d],1),c[d].m(a,null))}for(Z(),d=g.length;d<c.length;d+=1)p(d);x()}},i(h){if(!o){for(let E=0;E<g.length;E+=1)$(c[E]);o=!0}},o(h){c=c.filter(Boolean);for(let E=0;E<c.length;E+=1)U(c[E]);o=!1},d(h){h&&_(t),pe(c,h),f=!1,u()}}}function Sl(i,t,l){let{chords:n}=t;const e=Date.now(),s=1e3*3600*24*7,r=s*4,a=[{label:"last week",time:e-s},{label:"one month ago",time:e-r},{label:"two monthes ago",time:e-2*r},{label:"six monthes ago",time:e-6*r},{label:"one year ago",time:e-12*r}],o=n.filter(p=>p.creationDate).sort((p,h)=>h.creationDate-p.creationDate).map((p,h,E)=>{const d={...p};if(h>0){const k=E[h-1];for(const{time:v,label:P}of a)k.creationDate>v&&p.creationDate<v&&(d.dateTag=P)}return d});let f=6,u=[];const g=()=>{f+=4,l(0,u=o.slice(0,f))};Je(()=>{g()});const c=()=>g();return i.$$set=p=>{"chords"in p&&l(2,n=p.chords)},[u,g,n,c]}class El extends Te{constructor(t){super(),Le(this,t,Sl,Ll,_e,{chords:2})}}function Nt(i,t,l){const n=i.slice();return n[5]=t[l],n}function Bt(i){let t,l=" ↶ ",n,e;return{c(){t=w("button"),t.textContent=l},l(s){t=C(s,"BUTTON",{"data-svelte-h":!0}),X(t)!=="svelte-1mg1zky"&&(t.textContent=l)},m(s,r){L(s,t,r),n||(e=ne(t,"click",i[3]),n=!0)},p:re,d(s){s&&_(t),n=!1,e()}}}function $t(i,t){let l,n,e,s;return n=new Oe({props:{chord:t[5],showArtist:!0}}),{key:i,first:null,c(){l=w("li"),fe(n.$$.fragment),e=y(),this.h()},l(r){l=C(r,"LI",{class:!0});var a=B(l);ge(n.$$.fragment,a),e=N(a),a.forEach(_),this.h()},h(){T(l,"class","ul2col-item"),this.first=l},m(r,a){L(r,l,a),ue(n,l,null),m(l,e),s=!0},p(r,a){t=r;const o={};a&2&&(o.chord=t[5]),n.$set(o)},i(r){s||($(n.$$.fragment,r),s=!0)},o(r){U(n.$$.fragment,r),s=!1},d(r){r&&_(l),he(n)}}}function Al(i){let t,l,n,e,s,r,a="Get more random songs",o,f,u,g,c=[],p=new Map,h,E,d,k=i[0].length>Ae&&Bt(i),v=z(i[1]);const P=S=>S[5].url;for(let S=0;S<v.length;S+=1){let A=Nt(i,v,S),I=P(A);p.set(I,c[S]=$t(I,A))}return{c(){t=w("div"),l=w("h3"),n=V(`Random song
        `),e=w("span"),k&&k.c(),s=y(),r=w("button"),r.textContent=a,o=y(),f=w("br"),u=y(),g=w("ul");for(let S=0;S<c.length;S+=1)c[S].c();this.h()},l(S){t=C(S,"DIV",{});var A=B(t);l=C(A,"H3",{});var I=B(l);n=j(I,`Random song
        `),e=C(I,"SPAN",{class:!0});var W=B(e);k&&k.l(W),s=N(W),r=C(W,"BUTTON",{"data-svelte-h":!0}),X(r)!=="svelte-1gfm3kd"&&(r.textContent=a),W.forEach(_),I.forEach(_),o=N(A),f=C(A,"BR",{}),u=N(A),g=C(A,"UL",{class:!0});var q=B(g);for(let Q=0;Q<c.length;Q+=1)c[Q].l(q);q.forEach(_),A.forEach(_),this.h()},h(){T(e,"class","pull-right"),T(g,"class","ul2col-container")},m(S,A){L(S,t,A),m(t,l),m(l,n),m(l,e),k&&k.m(e,null),m(e,s),m(e,r),m(t,o),m(t,f),m(t,u),m(t,g);for(let I=0;I<c.length;I+=1)c[I]&&c[I].m(g,null);h=!0,E||(d=ne(r,"click",i[2]),E=!0)},p(S,[A]){S[0].length>Ae?k?k.p(S,A):(k=Bt(S),k.c(),k.m(e,s)):k&&(k.d(1),k=null),A&2&&(v=z(S[1]),Z(),c=jt(c,A,P,1,S,v,p,g,Rt,$t,null,Nt),x())},i(S){if(!h){for(let A=0;A<v.length;A+=1)$(c[A]);h=!0}},o(S){for(let A=0;A<c.length;A+=1)U(c[A]);h=!1},d(S){S&&_(t),k&&k.d();for(let A=0;A<c.length;A+=1)c[A].d();E=!1,d()}}}const Ae=6;function yl(i,t,l){let{chords:n}=t,e=[],s=[];const r=()=>{e.length>=n.length-Ae&&l(0,e=[]);for(let o=0;o<Ae;o++){let f=-1;for(;f===-1||e.includes(f);)f=Math.floor(Math.random()*n.length);e.push(f)}l(1,s=e.slice(e.length-Ae).map(o=>n[o]))},a=()=>{e.length<=Ae||(e.splice(e.length-Ae),l(1,s=e.slice(e.length-Ae).map(o=>n[o])))};return Je(()=>{r()}),i.$$set=o=>{"chords"in o&&l(4,n=o.chords)},[e,s,r,a,n]}class Nl extends Te{constructor(t){super(),Le(this,t,yl,Al,_e,{chords:4})}}function Dt(i,t,l){const n=i.slice();return n[13]=t[l],n}function Pt(i,t,l){const n=i.slice();return n[16]=t[l],n[17]=t,n[18]=l,n}function Ut(i){let t,l,n,e,s,r,a;function o(){i[10].call(l,i[16])}function f(){return i[11](i[16])}return{c(){t=w("button"),l=w("input"),n=y(),e=w("span"),s=y(),this.h()},l(u){t=C(u,"BUTTON",{class:!0});var g=B(t);l=C(g,"INPUT",{id:!0,type:!0}),n=N(g),e=C(g,"SPAN",{class:!0}),B(e).forEach(_),s=N(g),g.forEach(_),this.h()},h(){T(l,"id",i[16]),T(l,"type","checkbox"),T(e,"class",Me(Fe(i[16]))+" svelte-kiyfxh"),T(t,"class","filter-control svelte-kiyfxh")},m(u,g){L(u,t,g),m(t,l),l.checked=i[2][i[16]],m(t,n),m(t,e),m(t,s),r||(a=[ne(l,"change",o),ne(t,"click",f)],r=!0)},p(u,g){i=u,g&36&&(l.checked=i[2][i[16]])},d(u){u&&_(t),r=!1,Ge(a)}}}function Ot(i){let t,l=i[13].label+"",n,e,s,r;function a(){return i[12](i[13])}return{c(){t=w("button"),n=V(l),e=y(),this.h()},l(o){t=C(o,"BUTTON",{class:!0});var f=B(t);n=j(f,l),e=N(f),f.forEach(_),this.h()},h(){T(t,"class","control svelte-kiyfxh"),He(t,"selected",i[1]===i[13])},m(o,f){L(o,t,f),m(t,n),m(t,e),s||(r=ne(t,"click",a),s=!0)},p(o,f){i=o,f&18&&He(t,"selected",i[1]===i[13])},d(o){o&&_(t),s=!1,r()}}}function Bl(i){let t,l,n,e,s,r,a="Check dead links",o,f,u="<button>Add a song</button>",g,c,p,h,E,d=i[3].length+"",k,v,P,S,A,I,W,q,Q,Se="All songs",$e,oe,Ee,ie,ye='<i class="fas fa-times-circle"></i>',J,te,Ie="Filters",Ne,ee,De,ke,be="View",Pe,de,ae,F,ve,me,G,R;t=new Ft({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}}),c=new ll({}),S=new El({props:{chords:i[3]}}),I=new Nl({props:{chords:i[3]}});let H=z(i[5]),O=[];for(let b=0;b<H.length;b+=1)O[b]=Ut(Pt(i,H,b));let ce=z(i[4]),K=[];for(let b=0;b<ce.length;b+=1)K[b]=Ot(Dt(i,ce,b));var we=i[1].component;function se(b,M){return{props:{chords:b[3],searchString:b[0],filters:b[2]}}}return we&&(F=Ye(we,se(i))),{c(){fe(t.$$.fragment),l=y(),n=w("h2"),e=V(`Song book
    `),s=w("span"),r=w("button"),r.textContent=a,o=y(),f=w("a"),f.innerHTML=u,g=y(),fe(c.$$.fragment),p=y(),h=w("p"),E=V("This is a list of "),k=V(d),v=V(` song chords I have been gathering for the past 10 years and that
    I like to play.`),P=y(),fe(S.$$.fragment),A=y(),fe(I.$$.fragment),W=y(),q=w("div"),Q=w("h3"),Q.textContent=Se,$e=V(`
    Search an artist, a title or a tag:`),oe=w("input"),Ee=y(),ie=w("button"),ie.innerHTML=ye,J=y(),te=w("h4"),te.textContent=Ie,Ne=y(),ee=w("div");for(let b=0;b<O.length;b+=1)O[b].c();De=y(),ke=w("h4"),ke.textContent=be,Pe=y(),de=w("div");for(let b=0;b<K.length;b+=1)K[b].c();ae=y(),F&&fe(F.$$.fragment),ve=Y(),this.h()},l(b){ge(t.$$.fragment,b),l=N(b),n=C(b,"H2",{});var M=B(n);e=j(M,`Song book
    `),s=C(M,"SPAN",{class:!0});var D=B(s);r=C(D,"BUTTON",{"data-svelte-h":!0}),X(r)!=="svelte-13v6ylk"&&(r.textContent=a),o=N(D),f=C(D,"A",{href:!0,target:!0,rel:!0,"data-svelte-h":!0}),X(f)!=="svelte-107nhqd"&&(f.innerHTML=u),D.forEach(_),M.forEach(_),g=N(b),ge(c.$$.fragment,b),p=N(b),h=C(b,"P",{});var Ce=B(h);E=j(Ce,"This is a list of "),k=j(Ce,d),v=j(Ce,` song chords I have been gathering for the past 10 years and that
    I like to play.`),Ce.forEach(_),P=N(b),ge(S.$$.fragment,b),A=N(b),ge(I.$$.fragment,b),W=N(b),q=C(b,"DIV",{});var le=B(q);Q=C(le,"H3",{"data-svelte-h":!0}),X(Q)!=="svelte-bfvigd"&&(Q.textContent=Se),$e=j(le,`
    Search an artist, a title or a tag:`),oe=C(le,"INPUT",{type:!0}),Ee=N(le),ie=C(le,"BUTTON",{"data-svelte-h":!0}),X(ie)!=="svelte-5nqbye"&&(ie.innerHTML=ye),J=N(le),te=C(le,"H4",{"data-svelte-h":!0}),X(te)!=="svelte-xazxp3"&&(te.textContent=Ie),Ne=N(le),ee=C(le,"DIV",{class:!0});var Ke=B(ee);for(let Be=0;Be<O.length;Be+=1)O[Be].l(Ke);Ke.forEach(_),De=N(le),ke=C(le,"H4",{"data-svelte-h":!0}),X(ke)!=="svelte-1yp5l9r"&&(ke.textContent=be),Pe=N(le),de=C(le,"DIV",{class:!0});var Xe=B(de);for(let Be=0;Be<K.length;Be+=1)K[Be].l(Xe);Xe.forEach(_),le.forEach(_),ae=N(b),F&&ge(F.$$.fragment,b),ve=Y(),this.h()},h(){Ve(r,"position","relative"),T(f,"href","https://github.com/statox/blog/issues/105#new_comment_field"),T(f,"target","_blank"),T(f,"rel","noopener noreferrer"),T(s,"class","pull-right"),T(oe,"type","text"),T(ee,"class","filter-controls-container svelte-kiyfxh"),T(de,"class","view-controls-container svelte-kiyfxh")},m(b,M){ue(t,b,M),L(b,l,M),L(b,n,M),m(n,e),m(n,s),m(s,r),m(s,o),m(s,f),L(b,g,M),ue(c,b,M),L(b,p,M),L(b,h,M),m(h,E),m(h,k),m(h,v),L(b,P,M),ue(S,b,M),L(b,A,M),ue(I,b,M),L(b,W,M),L(b,q,M),m(q,Q),m(q,$e),m(q,oe),We(oe,i[0]),m(q,Ee),m(q,ie),m(q,J),m(q,te),m(q,Ne),m(q,ee);for(let D=0;D<O.length;D+=1)O[D]&&O[D].m(ee,null);m(q,De),m(q,ke),m(q,Pe),m(q,de);for(let D=0;D<K.length;D+=1)K[D]&&K[D].m(de,null);L(b,ae,M),F&&ue(F,b,M),L(b,ve,M),me=!0,G||(R=[ne(r,"click",i[7]),ne(oe,"input",i[8]),ne(ie,"click",i[9])],G=!0)},p(b,[M]){if(M&1&&oe.value!==b[0]&&We(oe,b[0]),M&36){H=z(b[5]);let D;for(D=0;D<H.length;D+=1){const Ce=Pt(b,H,D);O[D]?O[D].p(Ce,M):(O[D]=Ut(Ce),O[D].c(),O[D].m(ee,null))}for(;D<O.length;D+=1)O[D].d(1);O.length=H.length}if(M&18){ce=z(b[4]);let D;for(D=0;D<ce.length;D+=1){const Ce=Dt(b,ce,D);K[D]?K[D].p(Ce,M):(K[D]=Ot(Ce),K[D].c(),K[D].m(de,null))}for(;D<K.length;D+=1)K[D].d(1);K.length=ce.length}if(M&2&&we!==(we=b[1].component)){if(F){Z();const D=F;U(D.$$.fragment,1,0,()=>{he(D,1)}),x()}we?(F=Ye(we,se(b)),fe(F.$$.fragment),$(F.$$.fragment,1),ue(F,ve.parentNode,ve)):F=null}else if(we){const D={};M&1&&(D.searchString=b[0]),M&4&&(D.filters=b[2]),F.$set(D)}},i(b){me||($(t.$$.fragment,b),$(c.$$.fragment,b),$(S.$$.fragment,b),$(I.$$.fragment,b),F&&$(F.$$.fragment,b),me=!0)},o(b){U(t.$$.fragment,b),U(c.$$.fragment,b),U(S.$$.fragment,b),U(I.$$.fragment,b),F&&U(F.$$.fragment,b),me=!1},d(b){b&&(_(l),_(n),_(g),_(p),_(h),_(P),_(A),_(W),_(q),_(ae),_(ve)),he(t,b),he(c,b),he(S,b),he(I,b),pe(O,b),pe(K,b),F&&he(F,b),G=!1,Ge(R)}}}function $l(i,t,l){let{data:n}=t;const{chords:e}=n;Je(()=>{const d=je+"/chords/getLinksVisitsCount";fetch(d).then(k=>k.json()).then(k=>{const v=k.reduce((P,S)=>(P.set(S.url,{...S}),P),new Map);Ue.set(v)})});let s="";const r=[{label:"By artist",component:ul},{label:"By tags",component:dl},{label:"By frequency",component:pl},{label:"By access date",component:il}];let a=r[0],o={pdf:!0,doc:!0,youtube:!0,link:!0};const f=Object.keys(o),u=()=>qt(Tl);function g(){s=this.value,l(0,s)}const c=()=>l(0,s="");function p(d){o[d]=this.checked,l(2,o)}const h=d=>{l(2,o[d]=!o[d],o),l(2,o)},E=d=>l(1,a=d);return i.$$set=d=>{"data"in d&&l(6,n=d.data)},[s,a,o,e,r,f,n,u,g,c,p,h,E]}class Fl extends Te{constructor(t){super(),Le(this,t,$l,Bl,_e,{data:6})}}export{Fl as component,ql as universal};
