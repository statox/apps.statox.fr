import"../chunks/disclose-version.Bg9kRutz.js";import{i as w}from"../chunks/legacy.OjKiwS2-.js";import{p as y,v as x,y as E,w as _,x as I,z as r,al as M,am as k,A as B,s as P,g as n,ap as A}from"../chunks/index-client.CflxByDC.js";import{s as S}from"../chunks/render.BKP2kCYY.js";import{f as l,a as U,t as j}from"../chunks/template.BNipMNgO.js";import{t as C}from"../chunks/service.CBRyajoN.js";import{M as D}from"../chunks/Main.DhtiWXg0.js";import{p as H}from"../chunks/Main.svelte_svelte_type_style_lang.BD4FPZbz.js";var T=j('<!> <video id="video" autoplay playsinline="" class="svelte-17nkj1a"></video> <button> </button> <button id="capture">Capture</button> <canvas id="canvas" style="display:none;"></canvas> <img alt="The captured camera">',3);function F(m,v){y(v,!1),H.set("Test pot");let e,i;const g=()=>{const t=document.getElementById("canvas");if(!t)throw new Error("canvas not available");const p=t.getContext("2d");if(e=document.getElementById("video"),i=document.getElementById("photo"),!p)throw new Error("no context available");if(!i||!e)throw new Error("no photo or video available");p.drawImage(e,0,0,e.videoWidth,e.videoHeight,0,0,t.width,t.height);var b=t.toDataURL("image/png");i.setAttribute("src",b)};let a=A(!0);const u=()=>P(a,!n(a));x(()=>{navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}).then(function(t){e=document.getElementById("video"),e.srcObject=t}).catch(function(t){console.error("Error accessing media devices.",t)})}),w();var s=T(),c=E(s);D(c,{title:"Pot",description:"A WIP honey pot",iconPath:"/pot.png"});var d=r(c,2),o=r(d,2),h=M(o,!0);k(o);var f=r(o,2);B(4),_(()=>{C(d,"hidden",n(a)),S(h,n(a)?"show src":"hide src")}),l("click",o,u),l("click",f,g),U(m,s),I()}export{F as component};
