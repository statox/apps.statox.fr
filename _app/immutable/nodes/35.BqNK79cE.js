import"../chunks/DsnmJJEf.js";import{a as de}from"../chunks/CbbkMry6.js";import{p as oe,h as W,C as pe,b as Y,s as a,f as K,t as Q,a as V,d as ce,i as l,e as n,g as e,r as s,aJ as _e}from"../chunks/BJRZRhu8.js";import{d as ue,s as $}from"../chunks/B3kKxc5b.js";import{e as le,i as me}from"../chunks/CD5Q4Pji.js";import{r as c}from"../chunks/h256F5ba.js";import{b as _}from"../chunks/BrzxCuy6.js";import{P as be}from"../chunks/CdzqEQtr.js";var ge=Y('<div> </div> <div><input type="number" step="0.01"/></div> <div><input type="number" step="0.01"/></div> <div><input type="number" step="0.01"/></div> <div><input type="number" step="0.01"/></div> <div><input type="number" step="0.01"/></div> <div><input type="number" step="0.01"/></div> <div><input type="number" step="0.01"/></div>',1),he=Y(`<h1>Barnsley fern</h1> <div><p>Implementation of Barnsley fern</p> <p>See the <a href="https://en.wikipedia.org/wiki/Barnsley_fern">Wikipedia article</a> for details
        on the affine transformations used and their coefficients.</p></div> <div><!></div> <p> </p> <p> </p> <div><span>Reset coefficients to known values:</span> <button>Original</button> <button>Mutant</button></div> <div class="coefs-container svelte-1yufcda"><div>fw</div> <div>a</div> <div>b</div> <div>c</div> <div>d</div> <div>e</div> <div>f</div> <div>p</div> <!></div>`,1);function Te(Z,ee){oe(ee,!0);let j;const A=1e6;let u=W(0),J=W(0),B=0,L;const U={f1:{a:0,b:0,c:0,d:.16,e:0,f:0,p:.01},f2:{a:.85,b:.04,c:-.04,d:.85,e:0,f:1.6,p:.85},f3:{a:.2,b:-.26,c:.23,d:.22,e:0,f:1.6,p:.07},f4:{a:-.15,b:.28,c:.26,d:.24,e:0,f:.44,p:.07}},te={f1:{a:0,b:0,c:0,d:.25,e:0,f:-.4,p:.02},f2:{a:.95,b:.005,c:-.005,d:.93,e:-.002,f:.5,p:.84},f3:{a:.035,b:-.2,c:.16,d:.04,e:-.09,f:.02,p:.07},f4:{a:-.04,b:.2,c:.16,d:.04,e:.083,f:.12,p:.07}};let r=W(pe(U)),T=!1;const X=f=>{f==="original"?l(r,U,!0):l(r,te,!0),d()},d=()=>{T=!0,l(u,0)},q=()=>{l(J,B,!0),B=0,L=setTimeout(q,1*1e3)},ie=f=>{f.setup=()=>{j=f,f.createCanvas(600,600),f.stroke("green"),f.strokeWeight(1),q()};let m=0,t=0;f.draw=()=>{if(B+=1,T&&(T=!1,l(u,0),f.clear()),!(e(u)>=A))for(let b=0;b<A/10;b++){let o=Math.random(),g=0,p=0,v;o<e(r).f1.p?v=e(r).f1:o<e(r).f1.p+e(r).f2.p?v=e(r).f2:o<e(r).f1.p+e(r).f2.p+e(r).f3.p?v=e(r).f3:v=e(r).f4;const{a:h,b:w,c:y,d:k,e:x,f:S}=v;g=h*m+w*t+x,p=y*m+k*t+S;const P=g*60+300,C=600-p*60;f.point(P,C),l(u,e(u)+1),m=g,t=p}}};de(()=>{j?.remove(),clearTimeout(L)});var z=he(),D=a(K(z),4),ae=n(D);be(ae,{sketch:ie}),s(D);var I=a(D,2),re=n(I);s(I);var M=a(I,2),ne=n(M);s(M);var N=a(M,2),E=a(n(N),2);E.__click=()=>X("original");var se=a(E,2);se.__click=()=>X("mutant"),s(N);var G=a(N,2),fe=a(n(G),16);le(fe,17,()=>Object.entries(e(r)),me,(f,m)=>{const t=_e(()=>{const[i,ve]=e(m);return{name:i,fw:ve}});var b=ge(),o=K(b),g=n(o,!0);s(o);var p=a(o,2),v=n(p);c(v),v.__change=d,s(p);var h=a(p,2),w=n(h);c(w),w.__change=d,s(h);var y=a(h,2),k=n(y);c(k),k.__change=d,s(y);var x=a(y,2),S=n(x);c(S),S.__change=d,s(x);var P=a(x,2),C=n(P);c(C),C.__change=d,s(P);var O=a(P,2),F=n(O);c(F),F.__change=d,s(O);var H=a(O,2),R=n(H);c(R),R.__change=d,s(H),Q(()=>$(g,e(t).name)),_(v,()=>e(t).fw.a,i=>e(t).fw.a=i),_(w,()=>e(t).fw.b,i=>e(t).fw.b=i),_(k,()=>e(t).fw.c,i=>e(t).fw.c=i),_(S,()=>e(t).fw.d,i=>e(t).fw.d=i),_(C,()=>e(t).fw.e,i=>e(t).fw.e=i),_(F,()=>e(t).fw.f,i=>e(t).fw.f=i),_(R,()=>e(t).fw.p,i=>e(t).fw.p=i),V(f,b)}),s(G),Q(()=>{$(re,`Number of points ${e(u)??""}`),$(ne,`FPS ${e(J)??""}`)}),V(Z,z),ce()}ue(["click","change"]);export{Te as component};
