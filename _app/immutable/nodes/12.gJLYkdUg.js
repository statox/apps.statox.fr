import"../chunks/DsnmJJEf.js";import"../chunks/Bdxdj0h6.js";import{p as L,h as l,C as q,d as E,b as x,s as i,f as z,e as T,g as e,i as a,r as w,t as J,a as P,n as I}from"../chunks/C1Jxye1l.js";import{i as K}from"../chunks/BAFXAy0q.js";import{g as O}from"../chunks/Nvcpdp64.js";import"../chunks/_soN_5vS.js";import{p as Q}from"../chunks/rc8jUsVI.js";/* empty css                */import"../chunks/CYl4EDKT.js";import{d as R}from"../chunks/B5mDzSg_.js";import{i as V}from"../chunks/BAKOb8xY.js";import{r as U,s as W}from"../chunks/Z-lh6Sw0.js";import{b as A,d as X}from"../chunks/DeqYhWtL.js";import{b as Y}from"../chunks/DJ3uJPbz.js";import{F as Z,a as ee,b as te,h as ae}from"../chunks/u7-Rwm4K.js";import{M as re}from"../chunks/E57deykY.js";import{u as le}from"../chunks/CT0ENlrv.js";var ie=x('Public <i class="fas fa-lock-open"></i>',1),oe=x('Private <i class="fas fa-lock"></i>',1),se=x('<label for="name">Name</label> <input type="text"/> <label for="content">Content</label> <input type="textarea"/> <label for="file">File</label> <span><input class="file-input svelte-5gxvc6" type="file"/> <button aria-label="delete file"><i class="fas fa-times-circle"></i></button></span> <label for="ttlSeconds">TTL</label> <!> <label for="isPublic">Access</label> <button><!></button> <!>',1);function ne(b,u){L(u,!0);let r=l(q([])),f=l(""),c=l(""),d=l(void 0),o=l(void 0),s=l(!1),m=l(0),v=l(!1);const $=async()=>{if(a(r,[],!0),e(f)?.length||e(r).push({level:"error",header:"name must be defined"}),e(m)<0&&e(r).push({level:"error",header:"TTL must be positive"}),e(r).length)return;let n;if(e(o)&&e(o).length&&(n=e(o)[0]||void 0),!e(c)?.length&&!n){e(r).push({level:"error",header:"Either content or file must be defined"});return}try{a(v,!0),await le({name:e(f),content:e(c),ttlSeconds:e(m),isPublic:e(s),file:n}),u.onUpload()}catch(F){ae(F)}finally{a(v,!1)}};Z(b,{title:"Add a new clipboard entry",backUrl:"/clipboard",get noticeMessages(){return e(r)},children:(n,F)=>{ee(n,{children:(B,pe)=>{var M=se(),h=i(z(M),2);U(h);var g=i(h,4);U(g);var _=i(g,4),y=T(_);Y(y,t=>a(d,t),()=>e(d));var D=i(y,2);D.__click=()=>{e(d)!==void 0&&(e(d).value="")},w(_);var S=i(_,4);re(S,{allowedUnits:["minutes","hours","days","months","years"],defaultDuration:{value:10,unit:"minutes"},get valueInSeconds(){return e(m)},set valueInSeconds(t){a(m,t,!0)}});var p=i(S,4);let C;p.__click=()=>a(s,!e(s));var G=T(p);{var H=t=>{var k=ie();I(),P(t,k)},N=t=>{var k=oe();I(),P(t,k)};V(G,t=>{e(s)?t(H):t(N,!1)})}w(p);var j=i(p,2);te(j,{onclick:$,get loading(){return e(v)}}),J(()=>C=W(p,1,"visibility-status svelte-5gxvc6",null,C,{"visibility-public":e(s)})),A(h,()=>e(f),t=>a(f,t)),A(g,()=>e(c),t=>a(c,t)),X(y,()=>e(o),t=>a(o,t)),P(B,M)}})},$$slots:{default:!0}}),E()}R(["click"]);function Ce(b,u){L(u,!1);const r={name:"Clipboard",description:"My universal clipboard app",iconPath:"/clipboard.png",showAuthInHeader:!0};Q.set(r),K(),ne(b,{onUpload:()=>O("/clipboard")}),E()}export{Ce as component};
