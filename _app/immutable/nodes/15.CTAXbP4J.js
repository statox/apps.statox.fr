import{g as Zt,a as Jt,u as Gt,b as xt,c as el}from"../chunks/api.CWJNzHn_.js";import{s as ce,D as Kt,e as v,c as C,z as Y,l as E,F as qe,i as S,E as ne,n as se,f as h,y as We,a as N,t as H,b as D,g as B,d as R,O as Je,h as g,k as Ge,x as tl,ac as Xt,A as W,B as me,j as Fe,G as He,K as ll,p as Qe,L as et,P as tt}from"../chunks/scheduler.gZqC1beF.js";import{S as Le,i as Te,g as Z,t as I,c as x,a as y,b as oe,d as de,m as ie,e as ae}from"../chunks/index.qAIlD2bD.js";import{e as F,u as nl,o as sl}from"../chunks/each.oQ_PnMYc.js";import{c as rl,o as ol}from"../chunks/store.BjeKRW9D.js";/* empty css                          */import{M as il}from"../chunks/Main._OUIxtB4.js";import{U as al,M as cl,u as fl}from"../chunks/Main.D2sh8YUr.js";import{w as Yt,b as ul,g as hl}from"../chunks/entry.Cyt9u_XI.js";import{t as _l}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.2t_ERt9_.js";import{A as dl}from"../chunks/index.BjVS39Qu.js";import{h as ml,u as gl}from"../chunks/await_block.B9g0VIvX.js";import{p as pl}from"../chunks/Main.svelte_svelte_type_style_lang.BdzA82ZS.js";const kl=!1,bl=async()=>({chords:await Zt()}),hn=Object.freeze(Object.defineProperty({__proto__:null,load:bl,ssr:kl},Symbol.toStringTag,{value:"Module"})),{clearTimeout:lt,setTimeout:nt,window:Ke}=Jt;function vl(i){let t=!1,n=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1kbb9q3"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1kbb9q3">Back to top</span>',s,a;return Kt(i[3]),{c(){e=v("button"),e.innerHTML=r,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-ed45ug"&&(e.innerHTML=r),this.h()},h(){E(e,"class","top-link svelte-1kbb9q3"),qe(e,"hide",i[1])},m(o,u){S(o,e,u),s||(a=[ne(Ke,"scroll",()=>{t=!0,lt(l),l=nt(n,100),i[3]()}),ne(e,"click",i[2])],s=!0)},p(o,[u]){u&1&&!t&&(t=!0,lt(l),scrollTo(Ke.pageXOffset,o[0]),l=nt(n,100)),u&2&&qe(e,"hide",o[1])},i:se,o:se,d(o){o&&h(e),s=!1,We(a)}}}function Cl(i,t,n){let l,e=!0,r;const s=u=>{u>0?n(1,e=!1):n(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{n(1,e=!0)},3e3)},a=()=>{const u=document.documentElement.scrollTop||document.body.scrollTop;u>0&&(window.requestAnimationFrame(a),window.scrollTo(0,u-u/2))};function o(){n(0,l=Ke.pageYOffset)}return i.$$.update=()=>{i.$$.dirty&1&&s(l)},[l,e,a,o]}class wl extends Le{constructor(t){super(),Te(this,t,Cl,vl,ce,{})}}const Ve=Yt();let Wt=[];const st=localStorage.getItem("failedVisitCounts");if(st!==null)try{Wt=JSON.parse(st)}catch{console.error("Couldnt parse failedVisitCounts from local storage")}const Re=Yt(Wt);Re.subscribe(i=>{localStorage.setItem("failedVisitCounts",JSON.stringify(i))});const Xe=i=>i==="doc"?"fas fa-file-word":i==="pdf"?"fas fa-file-pdf":i==="youtube"?"fa fa-youtube":"fas fa-link";function Ll(i){let t,n,l,e,r,s,a,o,u;return{c(){t=v("span"),l=N(),e=v("span"),r=v("a"),s=H(i[2]),this.h()},l(c){t=C(c,"SPAN",{class:!0}),D(t).forEach(h),l=B(c),e=C(c,"SPAN",{});var _=D(e);r=C(_,"A",{href:!0,target:!0,rel:!0,title:!0});var f=D(r);s=R(f,i[2]),f.forEach(h),_.forEach(h),this.h()},h(){E(t,"class",n=Je(Xe(i[0].type))+" svelte-1gxig14"),E(r,"href",a=i[3](i[0])),E(r,"target","_blank"),E(r,"rel","noopener noreferrer"),E(r,"title",i[1])},m(c,_){S(c,t,_),S(c,l,_),S(c,e,_),g(e,r),g(r,s),o||(u=ne(r,"click",i[4]),o=!0)},p(c,[_]){_&1&&n!==(n=Je(Xe(c[0].type))+" svelte-1gxig14")&&E(t,"class",n),_&1&&a!==(a=c[3](c[0]))&&E(r,"href",a),_&2&&E(r,"title",c[1])},i:se,o:se,d(c){c&&(h(t),h(l),h(e)),o=!1,u()}}}function Tl(i,t,n){let l;Ge(i,Re,c=>n(6,l=c));let{chord:e}=t,{showArtist:r=!1}=t,s;Ve.subscribe(c=>{if(c&&c.has(e.url)){const _=c.get(e.url),f=new Date(_.lastAccessDateUnix*1e3);n(1,s=`visits: ${_.count} - last: ${f.toLocaleDateString()}`)}});const a=(r?e.artist+" - ":"")+e.title,o=c=>c.type==="doc"?`${ul}/docviewer/${c.url}`:c.url,u=async()=>{try{await Gt(e.url);const c=tl(Ve),_=c.get(e.url)||{count:0,lastAccessDateUnix:0};_.count++,_.lastAccessDateUnix=Date.now()/1e3,c.set(e.url,_),Ve.set(c)}catch(c){let _=c.message;c instanceof dl&&c.code===401?_="Invalid logged in user":c instanceof al&&(_="User is logged out"),Xt(Re,l=[...l,e.url],l);const f=`<strong>Visit not counted</strong><br/> ${_}`;_l.push(f,{initial:1,duration:5e3,theme:{"--toastBarBackground":"#FF0000"}})}};return i.$$set=c=>{"chord"in c&&n(0,e=c.chord),"showArtist"in c&&n(5,r=c.showArtist)},[e,s,a,o,u,r]}class Me extends Le{constructor(t){super(),Te(this,t,Tl,Ll,ce,{chord:0,showArtist:5})}}function rt(i,t,n){const l=i.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function ot(i){let t,n,l,e,r,s=i[6]&&it(i);return l=new Me({props:{chord:i[5],showArtist:!0}}),{c(){t=v("li"),s&&s.c(),n=N(),oe(l.$$.fragment),e=N(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=D(t);s&&s.l(o),n=B(o),de(l.$$.fragment,o),e=B(o),o.forEach(h),this.h()},h(){E(t,"class","ul2col-item")},m(a,o){S(a,t,o),s&&s.m(t,null),g(t,n),ie(l,t,null),g(t,e),r=!0},p(a,o){a[6]?s?s.p(a,o):(s=it(a),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[5]),l.$set(u)},i(a){r||(y(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&h(t),s&&s.d(),ae(l)}}}function it(i){let t,n=i[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=R(r,"("),l=R(r,n),e=R(r,")")},m(r,s){S(r,t,s),S(r,l,s),S(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Fe(l,n)},d(r){r&&(h(t),h(l),h(e))}}}function at(i){let t=i[4](i[5],i[1],i[2]),n,l,e=t&&ot(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),S(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&y(e,1)):(e=ot(r),e.c(),y(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(y(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function ct(i){let t,n,l=F(i[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=at(rt(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=v("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=D(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){E(t,"class","ul2col-container")},m(s,a){S(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&31){l=F(s[0]);let o;for(o=0;o<l.length;o+=1){const u=rt(s,l,o);e[o]?(e[o].p(u,a),y(e[o],1)):(e[o]=at(u),e[o].c(),y(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)y(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),me(e,s)}}}function Sl(i){let t=i[0],n,l,e=ct(i);return{c(){e.c(),n=W()},l(r){e.l(r),n=W()},m(r,s){e.m(r,s),S(r,n,s),l=!0},p(r,[s]){s&1&&ce(t,t=r[0])?(Z(),I(e,1,1,se),x(),e=ct(r),e.c(),y(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(y(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e.d(r)}}}function El(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Ve.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,c)=>{const _=o.get(u.url),f=o.get(c.url);return _&&f?f.lastAccessDateUnix-_.lastAccessDateUnix:_?-1:f?1:u.artist!=c.artist?u.artist.toLowerCase()<c.artist.toLowerCase()?-1:1:u.title.toLowerCase()<c.title.toLowerCase()?-1:1})))});const a=(o,u,c)=>c[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return i.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,a]}class Al extends Le{constructor(t){super(),Te(this,t,El,Sl,ce,{searchString:1,chords:0,filters:2})}}const yl=(i,t)=>i<t?-1:i>t?1:0,Ye=(i,t)=>{const n=i.toLowerCase(),l=t.toLowerCase();return yl(n,l)},{Boolean:Qt}=Jt;function ft(i,t,n){const l=i.slice();l[14]=t[n];const e=l[8](l[14].name,l[0],l[1]);l[15]=e;const r=l[9](l[14].name,l[0]);return l[16]=r,l}function ut(i,t,n){const l=i.slice();return l[20]=t[n],l}function ze(i){const t=i.slice(),n=t[16]?t[5][t[14].name]:t[15];return t[19]=n,t}function ht(i,t,n){const l=i.slice();return l[23]=t[n],l}function _t(i){let t,n,l=i[23].letter.toUpperCase()+"",e,r;return{c(){t=v("li"),n=v("a"),e=H(l),r=N(),this.h()},l(s){t=C(s,"LI",{class:!0});var a=D(t);n=C(a,"A",{href:!0,class:!0});var o=D(n);e=R(o,l),o.forEach(h),r=B(a),a.forEach(h),this.h()},h(){E(n,"href","#"+i[23].tag),E(n,"class","navigationLink svelte-1deg5s8"),E(t,"class","navigationBtn svelte-1deg5s8")},m(s,a){S(s,t,a),g(t,n),g(n,e),g(t,r)},p:se,d(s){s&&h(t)}}}function dt(i){let t,n,l=i[14].name+"",e,r,s=i[0],a,o,u=gt(i);return{c(){t=v("tr"),n=v("td"),e=H(l),r=N(),u.c(),a=N(),this.h()},l(c){t=C(c,"TR",{class:!0});var _=D(t);n=C(_,"TD",{id:!0,class:!0});var f=D(n);e=R(f,l),r=B(f),u.l(f),f.forEach(h),a=B(_),_.forEach(h),this.h()},h(){E(n,"id",i[14].tag),E(n,"class","svelte-1deg5s8"),E(t,"class","svelte-1deg5s8")},m(c,_){S(c,t,_),g(t,n),g(n,e),g(n,r),u.m(n,null),g(t,a),o=!0},p(c,_){_&1&&ce(s,s=c[0])?(Z(),I(u,1,1,se),x(),u=gt(c),u.c(),y(u,1),u.m(n,null)):u.p(c,_)},i(c){o||(y(u),o=!0)},o(c){I(u),o=!1},d(c){c&&h(t),u.d(c)}}}function mt(i){let t,n,l,e;return n=new Me({props:{chord:i[20]}}),{c(){t=v("li"),oe(n.$$.fragment),l=N(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=D(t);de(n.$$.fragment,s),l=B(s),s.forEach(h),this.h()},h(){E(t,"class","ul2col-item")},m(r,s){S(r,t,s),ie(n,t,null),g(t,l),e=!0},p(r,s){const a={};s&3&&(a.chord=r[20]),n.$set(a)},i(r){e||(y(n.$$.fragment,r),e=!0)},o(r){I(n.$$.fragment,r),e=!1},d(r){r&&h(t),ae(n)}}}function gt(i){let t,n,l=F(i[19]),e=[];for(let s=0;s<l.length;s+=1)e[s]=mt(ut(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=v("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=D(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){E(t,"class","ul2col-container")},m(s,a){S(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&931){l=F(s[19]);let o;for(o=0;o<l.length;o+=1){const u=ut(s,l,o);e[o]?(e[o].p(u,a),y(e[o],1)):(e[o]=mt(u),e[o].c(),y(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)y(e[a]);n=!0}},o(s){e=e.filter(Qt);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),me(e,s)}}}function pt(i){let t,n,l=(i[16]||i[15].length>0)&&dt(ze(i));return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),S(e,t,r),n=!0},p(e,r){e[16]||e[15].length>0?l?(l.p(ze(e),r),r&3&&y(l,1)):(l=dt(ze(e)),l.c(),y(l,1),l.m(t.parentNode,t)):l&&(Z(),I(l,1,1,()=>{l=null}),x())},i(e){n||(y(l),n=!0)},o(e){I(l),n=!1},d(e){e&&h(t),l&&l.d(e)}}}function Nl(i){let t=!1,n=()=>{t=!1},l,e,r=`${i[3]}px`,s,a,o,u,c;Kt(i[11]);let _=F(i[6]),f=[];for(let p=0;p<_.length;p+=1)f[p]=_t(ht(i,_,p));let L=F(i[7]),d=[];for(let p=0;p<L.length;p+=1)d[p]=pt(ft(i,L,p));const $=p=>I(d[p],1,1,()=>{d[p]=null});return{c(){e=v("ol");for(let p=0;p<f.length;p+=1)f[p].c();s=N(),a=v("table");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=C(p,"OL",{id:!0,class:!0});var k=D(e);for(let O=0;O<f.length;O+=1)f[O].l(k);k.forEach(h),s=B(p),a=C(p,"TABLE",{id:!0});var b=D(a);for(let O=0;O<d.length;O+=1)d[O].l(b);b.forEach(h),this.h()},h(){E(e,"id","indexList"),E(e,"class","navigationBar disable-scrollbars svelte-1deg5s8"),He(e,"--barTop",r),E(a,"id","artistTable")},m(p,k){S(p,e,k);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(e,null);S(p,s,k),S(p,a,k);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(a,null);i[12](a),o=!0,u||(c=ne(window,"scroll",()=>{t=!0,clearTimeout(l),l=setTimeout(n,100),i[11]()}),u=!0)},p(p,[k]){if(k&4&&!t&&(t=!0,clearTimeout(l),scrollTo(window.pageXOffset,p[2]),l=setTimeout(n,100)),k&64){_=F(p[6]);let b;for(b=0;b<_.length;b+=1){const O=ht(p,_,b);f[b]?f[b].p(O,k):(f[b]=_t(O),f[b].c(),f[b].m(e,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=_.length}if(k&8&&r!==(r=`${p[3]}px`)&&He(e,"--barTop",r),k&931){L=F(p[7]);let b;for(b=0;b<L.length;b+=1){const O=ft(p,L,b);d[b]?(d[b].p(O,k),y(d[b],1)):(d[b]=pt(O),d[b].c(),y(d[b],1),d[b].m(a,null))}for(Z(),b=L.length;b<d.length;b+=1)$(b);x()}},i(p){if(!o){for(let k=0;k<L.length;k+=1)y(d[k]);o=!0}},o(p){d=d.filter(Qt);for(let k=0;k<d.length;k+=1)I(d[k]);o=!1},d(p){p&&(h(e),h(s),h(a)),me(f,p),me(d,p),i[12](null),u=!1,c()}}}function Bl(i,t,n){let{searchString:l=""}=t,{chords:e}=t,{filters:r}=t;const s=e.reduce((k,b)=>{const O=b.artist;return k[O]||(k[O]=[]),k[O].push(b),k},{}),a=[],o=Object.keys(s).sort(Ye).map((k,b,O)=>{if(b===0||k[0].toLowerCase()!=O[b-1][0].toLowerCase()){const A="anchor_letter_"+k[0];return a.push({letter:k[0],tag:A}),{name:k,tag:A}}return{name:k}});let u,c=0,_;const f=k=>{if(_){var b=_.getBoundingClientRect();if(b.top<20){n(3,c=20);return}n(3,c=b.top)}},L=(k,b,O)=>s[k].sort((w,V)=>w.title<V.title?-1:1).filter(w=>{const V=w.type;return O[V]===!1?!1:b.length===0?!0:!!w.title.toLowerCase().match(b.toLowerCase())}),d=(k,b)=>!!k.toLowerCase().match(b.toLowerCase());function $(){n(2,u=window.pageYOffset)}function p(k){ll[k?"unshift":"push"](()=>{_=k,n(4,_)})}return i.$$set=k=>{"searchString"in k&&n(0,l=k.searchString),"chords"in k&&n(10,e=k.chords),"filters"in k&&n(1,r=k.filters)},i.$$.update=()=>{i.$$.dirty&4&&f()},[l,r,u,c,_,s,a,o,L,d,e,$,p]}class Dl extends Le{constructor(t){super(),Te(this,t,Bl,Nl,ce,{searchString:0,chords:10,filters:1})}}function kt(i,t,n){const l=i.slice();return l[5]=t[n],l}function bt(i,t,n){const l=i.slice();return l[8]=t[n],l}function vt(i){let t,n,l=i[3](i[5])+"",e,r,s,a,o,u=F(i[2][i[5]]),c=[];for(let f=0;f<u.length;f+=1)c[f]=wt(bt(i,u,f));const _=f=>I(c[f],1,1,()=>{c[f]=null});return{c(){t=v("div"),n=v("span"),e=H(l),r=N(),s=v("ul");for(let f=0;f<c.length;f+=1)c[f].c();a=N(),this.h()},l(f){t=C(f,"DIV",{});var L=D(t);n=C(L,"SPAN",{});var d=D(n);e=R(d,l),d.forEach(h),r=B(L),s=C(L,"UL",{class:!0});var $=D(s);for(let p=0;p<c.length;p+=1)c[p].l($);$.forEach(h),a=B(L),L.forEach(h),this.h()},h(){E(s,"class","ul2col-container")},m(f,L){S(f,t,L),g(t,n),g(n,e),g(t,r),g(t,s);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(s,null);g(t,a),o=!0},p(f,L){if((!o||L&4)&&l!==(l=f[3](f[5])+"")&&Fe(e,l),L&6){u=F(f[2][f[5]]);let d;for(d=0;d<u.length;d+=1){const $=bt(f,u,d);c[d]?(c[d].p($,L),y(c[d],1)):(c[d]=wt($),c[d].c(),y(c[d],1),c[d].m(s,null))}for(Z(),d=u.length;d<c.length;d+=1)_(d);x()}},i(f){if(!o){for(let L=0;L<u.length;L+=1)y(c[L]);o=!0}},o(f){c=c.filter(Boolean);for(let L=0;L<c.length;L+=1)I(c[L]);o=!1},d(f){f&&h(t),me(c,f)}}}function Ct(i){let t,n,l,e;return n=new Me({props:{chord:i[8],showArtist:!0}}),{c(){t=v("li"),oe(n.$$.fragment),l=N(),this.h()},l(r){t=C(r,"LI",{class:!0});var s=D(t);de(n.$$.fragment,s),l=B(s),s.forEach(h),this.h()},h(){E(t,"class","ul2col-item")},m(r,s){S(r,t,s),ie(n,t,null),g(t,l),e=!0},p(r,s){const a={};s&4&&(a.chord=r[8]),n.$set(a)},i(r){e||(y(n.$$.fragment,r),e=!0)},o(r){I(n.$$.fragment,r),e=!1},d(r){r&&h(t),ae(n)}}}function wt(i){let t,n,l=i[1][i[8].type]&&Ct(i);return{c(){l&&l.c(),t=W()},l(e){l&&l.l(e),t=W()},m(e,r){l&&l.m(e,r),S(e,t,r),n=!0},p(e,r){e[1][e[8].type]?l?(l.p(e,r),r&6&&y(l,1)):(l=Ct(e),l.c(),y(l,1),l.m(t.parentNode,t)):l&&(Z(),I(l,1,1,()=>{l=null}),x())},i(e){n||(y(l),n=!0)},o(e){I(l),n=!1},d(e){e&&h(t),l&&l.d(e)}}}function Lt(i){let t=i[0].length===0||i[5].toLowerCase().match(i[0].toLowerCase()),n,l,e=t&&vt(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),S(r,n,s),l=!0},p(r,s){s&5&&(t=r[0].length===0||r[5].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,s),s&5&&y(e,1)):(e=vt(r),e.c(),y(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(y(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function $l(i){let t,n,l=F(Object.keys(i[2]).sort(Ye)),e=[];for(let s=0;s<l.length;s+=1)e[s]=Lt(kt(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=W()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=W()},m(s,a){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,a);S(s,t,a),n=!0},p(s,[a]){if(a&15){l=F(Object.keys(s[2]).sort(Ye));let o;for(o=0;o<l.length;o+=1){const u=kt(s,l,o);e[o]?(e[o].p(u,a),y(e[o],1)):(e[o]=Lt(u),e[o].c(),y(e[o],1),e[o].m(t.parentNode,t))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)y(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),me(e,s)}}}function Il(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t;const s=o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase(),a={};for(const o of e)o.tags.forEach(c=>{a[c]||n(2,a[c]=[],a),a[c].push(o)});return Object.keys(a).forEach(o=>{a[o].sort((u,c)=>{const _=u.artist.toLowerCase(),f=c.artist.toLowerCase(),L=u.title.toLowerCase(),d=c.title.toLowerCase();return _<f?-1:_>f?1:L<d?-1:1})}),i.$$set=o=>{"searchString"in o&&n(0,l=o.searchString),"chords"in o&&n(4,e=o.chords),"filters"in o&&n(1,r=o.filters)},[l,r,a,s,e]}class Ul extends Le{constructor(t){super(),Te(this,t,Il,$l,ce,{searchString:0,chords:4,filters:1})}}function Tt(i,t,n){const l=i.slice();l[5]=t[n];const e=l[3].get(l[5].url);return l[6]=e,l}function St(i){let t,n,l,e,r,s=i[6]&&Et(i);return l=new Me({props:{chord:i[5],showArtist:!0}}),{c(){t=v("li"),s&&s.c(),n=N(),oe(l.$$.fragment),e=N(),this.h()},l(a){t=C(a,"LI",{class:!0});var o=D(t);s&&s.l(o),n=B(o),de(l.$$.fragment,o),e=B(o),o.forEach(h),this.h()},h(){E(t,"class","ul2col-item")},m(a,o){S(a,t,o),s&&s.m(t,null),g(t,n),ie(l,t,null),g(t,e),r=!0},p(a,o){a[6]?s?s.p(a,o):(s=Et(a),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[5]),l.$set(u)},i(a){r||(y(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&h(t),s&&s.d(),ae(l)}}}function Et(i){let t,n=i[6].count+"",l,e;return{c(){t=H("("),l=H(n),e=H(")")},l(r){t=R(r,"("),l=R(r,n),e=R(r,")")},m(r,s){S(r,t,s),S(r,l,s),S(r,e,s)},p(r,s){s&9&&n!==(n=r[6].count+"")&&Fe(l,n)},d(r){r&&(h(t),h(l),h(e))}}}function At(i){let t=i[4](i[5],i[1],i[2]),n,l,e=t&&St(i);return{c(){e&&e.c(),n=W()},l(r){e&&e.l(r),n=W()},m(r,s){e&&e.m(r,s),S(r,n,s),l=!0},p(r,s){s&7&&(t=r[4](r[5],r[1],r[2])),t?e?(e.p(r,s),s&7&&y(e,1)):(e=St(r),e.c(),y(e,1),e.m(n.parentNode,n)):e&&(Z(),I(e,1,1,()=>{e=null}),x())},i(r){l||(y(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e&&e.d(r)}}}function yt(i){let t,n,l=F(i[0]),e=[];for(let s=0;s<l.length;s+=1)e[s]=At(Tt(i,l,s));const r=s=>I(e[s],1,1,()=>{e[s]=null});return{c(){t=v("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=C(s,"UL",{class:!0});var a=D(t);for(let o=0;o<e.length;o+=1)e[o].l(a);a.forEach(h),this.h()},h(){E(t,"class","ul2col-container")},m(s,a){S(s,t,a);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null);n=!0},p(s,a){if(a&31){l=F(s[0]);let o;for(o=0;o<l.length;o+=1){const u=Tt(s,l,o);e[o]?(e[o].p(u,a),y(e[o],1)):(e[o]=At(u),e[o].c(),y(e[o],1),e[o].m(t,null))}for(Z(),o=l.length;o<e.length;o+=1)r(o);x()}},i(s){if(!n){for(let a=0;a<l.length;a+=1)y(e[a]);n=!0}},o(s){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&h(t),me(e,s)}}}function Pl(i){let t=i[0],n,l,e=yt(i);return{c(){e.c(),n=W()},l(r){e.l(r),n=W()},m(r,s){e.m(r,s),S(r,n,s),l=!0},p(r,[s]){s&1&&ce(t,t=r[0])?(Z(),I(e,1,1,se),x(),e=yt(r),e.c(),y(e,1),e.m(n.parentNode,n)):e.p(r,s)},i(r){l||(y(e),l=!0)},o(r){I(e),l=!1},d(r){r&&h(n),e.d(r)}}}function Ol(i,t,n){let{searchString:l}=t,{chords:e}=t,{filters:r}=t,s;Ve.subscribe(o=>{o&&(n(3,s=o),n(0,e=e.sort((u,c)=>{const _=o.get(u.url),f=o.get(c.url);return _&&f?_.count!==f.count?f.count-_.count:f.lastAccessDateUnix-_.lastAccessDateUnix:_?-1:f?1:u.artist!=c.artist?u.artist.toLowerCase()<c.artist.toLowerCase()?-1:1:u.title.toLowerCase()<c.title.toLowerCase()?-1:1})))});const a=(o,u,c)=>c[o.type]===!1?!1:u.length===0||o.artist.toLowerCase().match(u.toLowerCase())?!0:o.title.toLowerCase().match(u.toLowerCase());return i.$$set=o=>{"searchString"in o&&n(1,l=o.searchString),"chords"in o&&n(0,e=o.chords),"filters"in o&&n(2,r=o.filters)},[e,l,r,s,a]}class Vl extends Le{constructor(t){super(),Te(this,t,Ol,Pl,ce,{searchString:1,chords:0,filters:2})}}function Nt(i){const t=i[1](i[3]);i[4]=t;const n=i[2](i[3]);i[5]=n}function Bt(i,t,n){const l=i.slice();return l[6]=t[n],l}function Dt(i){let t,n,l,e,r,s="Close",a,o,u,c={ctx:i,current:null,token:null,hasCatch:!0,pending:Rl,then:Hl,catch:Ml,value:3,error:9};return ml(xt(),c),{c(){t=v("div"),n=v("div"),l=v("h3"),e=H(`Urls checks
                `),r=v("button"),r.textContent=s,a=N(),c.block.c(),this.h()},l(_){t=C(_,"DIV",{role:!0,class:!0});var f=D(t);n=C(f,"DIV",{class:!0});var L=D(n);l=C(L,"H3",{class:!0});var d=D(l);e=R(d,`Urls checks
                `),r=C(d,"BUTTON",{"data-svelte-h":!0}),Y(r)!=="svelte-2m9p61"&&(r.textContent=s),d.forEach(h),a=B(L),c.block.l(L),L.forEach(h),f.forEach(h),this.h()},h(){E(l,"class","title-bar svelte-1b7k28l"),E(n,"class","contents svelte-1b7k28l"),E(t,"role","dialog"),E(t,"class","modal svelte-1b7k28l")},m(_,f){S(_,t,f),g(t,n),g(n,l),g(l,e),g(l,r),g(n,a),c.block.m(n,c.anchor=null),c.mount=()=>n,c.anchor=null,o||(u=ne(r,"click",rl),o=!0)},p(_,f){i=_,gl(c,i,f)},d(_){_&&h(t),c.block.d(),c.token=null,c=null,o=!1,u()}}}function Ml(i){let t,n,l=i[9].message+"",e;return{c(){t=v("p"),n=H("Could not retrieve checks: "),e=H(l),this.h()},l(r){t=C(r,"P",{style:!0});var s=D(t);n=R(s,"Could not retrieve checks: "),e=R(s,l),s.forEach(h),this.h()},h(){He(t,"color","red")},m(r,s){S(r,t,s),g(t,n),g(t,e)},p:se,d(r){r&&h(t)}}}function Hl(i){Nt(i);let t,n,l="Last Check",e,r,s="Checks",a,o,u="Skipped",c,_,f="Errors",L,d,$=i[4]+"",p,k,b,O=i[3].nbChecks+"",A,w,V,Q=i[3].nbSkipped+"",q,ee,Se,Ie=i[3].nbFails+"",fe,ye,ue,Be,K,te,Ee="Status",Ue,ge,Pe="Ref",ve,Ce,Oe="Host",pe,he,z="Data",we,ke=F(i[5]),J=[];for(let j=0;j<ke.length;j+=1)J[j]=$t(Bt(i,ke,j));return{c(){t=v("div"),n=v("span"),n.textContent=l,e=N(),r=v("span"),r.textContent=s,a=N(),o=v("span"),o.textContent=u,c=N(),_=v("span"),_.textContent=f,L=N(),d=v("span"),p=H($),k=N(),b=v("span"),A=H(O),w=N(),V=v("span"),q=H(Q),ee=N(),Se=v("span"),fe=H(Ie),ye=N(),ue=v("br"),Be=N(),K=v("div"),te=v("span"),te.textContent=Ee,Ue=N(),ge=v("span"),ge.textContent=Pe,ve=N(),Ce=v("span"),Ce.textContent=Oe,pe=N(),he=v("span"),he.textContent=z,we=N();for(let j=0;j<J.length;j+=1)J[j].c();this.h()},l(j){t=C(j,"DIV",{class:!0});var M=D(t);n=C(M,"SPAN",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-1lbvzb0"&&(n.textContent=l),e=B(M),r=C(M,"SPAN",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1wmxeaf"&&(r.textContent=s),a=B(M),o=C(M,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-txun94"&&(o.textContent=u),c=B(M),_=C(M,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_)!=="svelte-5mrj6x"&&(_.textContent=f),L=B(M),d=C(M,"SPAN",{class:!0});var U=D(d);p=R(U,$),U.forEach(h),k=B(M),b=C(M,"SPAN",{class:!0});var De=D(b);A=R(De,O),De.forEach(h),w=B(M),V=C(M,"SPAN",{class:!0});var Ae=D(V);q=R(Ae,Q),Ae.forEach(h),ee=B(M),Se=C(M,"SPAN",{class:!0});var X=D(Se);fe=R(X,Ie),X.forEach(h),M.forEach(h),ye=B(j),ue=C(j,"BR",{}),Be=B(j),K=C(j,"DIV",{class:!0});var le=D(K);te=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(te)!=="svelte-1s7ffxq"&&(te.textContent=Ee),Ue=B(le),ge=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(ge)!=="svelte-1wa8gqx"&&(ge.textContent=Pe),ve=B(le),Ce=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(Ce)!=="svelte-33rgke"&&(Ce.textContent=Oe),pe=B(le),he=C(le,"SPAN",{class:!0,"data-svelte-h":!0}),Y(he)!=="svelte-1yzk30k"&&(he.textContent=z),we=B(le);for(let G=0;G<J.length;G+=1)J[G].l(le);le.forEach(h),this.h()},h(){E(n,"class","col table-head svelte-1b7k28l"),E(r,"class","col table-head svelte-1b7k28l"),E(o,"class","col table-head svelte-1b7k28l"),E(_,"class","col table-head svelte-1b7k28l"),E(d,"class","col svelte-1b7k28l"),E(b,"class","col svelte-1b7k28l"),E(V,"class","col svelte-1b7k28l"),E(Se,"class","col svelte-1b7k28l"),E(t,"class","rows svelte-1b7k28l"),E(te,"class","col table-head svelte-1b7k28l"),E(ge,"class","col table-head svelte-1b7k28l"),E(Ce,"class","col table-head svelte-1b7k28l"),E(he,"class","col table-head svelte-1b7k28l"),E(K,"class","rows svelte-1b7k28l")},m(j,M){S(j,t,M),g(t,n),g(t,e),g(t,r),g(t,a),g(t,o),g(t,c),g(t,_),g(t,L),g(t,d),g(d,p),g(t,k),g(t,b),g(b,A),g(t,w),g(t,V),g(V,q),g(t,ee),g(t,Se),g(Se,fe),S(j,ye,M),S(j,ue,M),S(j,Be,M),S(j,K,M),g(K,te),g(K,Ue),g(K,ge),g(K,ve),g(K,Ce),g(K,pe),g(K,he),g(K,we);for(let U=0;U<J.length;U+=1)J[U]&&J[U].m(K,null)},p(j,M){if(Nt(j),M&4){ke=F(j[5]);let U;for(U=0;U<ke.length;U+=1){const De=Bt(j,ke,U);J[U]?J[U].p(De,M):(J[U]=$t(De),J[U].c(),J[U].m(K,null))}for(;U<J.length;U+=1)J[U].d(1);J.length=ke.length}},d(j){j&&(h(t),h(ye),h(ue),h(Be),h(K)),me(J,j)}}}function $t(i){let t,n=i[6].status+"",l,e,r,s=i[6].chord.artist+"",a,o,u=i[6].chord.title+"",c,_,f,L,d=new URL(i[6].chord.url).hostname+"",$,p,k,b=(i[6].error?JSON.stringify(i[6].error):"")+"",O;return{c(){t=v("span"),l=H(n),e=N(),r=v("span"),a=H(s),o=H(" - "),c=H(u),_=N(),f=v("span"),L=v("a"),$=H(d),p=N(),k=v("span"),O=H(b),this.h()},l(A){t=C(A,"SPAN",{class:!0});var w=D(t);l=R(w,n),w.forEach(h),e=B(A),r=C(A,"SPAN",{class:!0});var V=D(r);a=R(V,s),o=R(V," - "),c=R(V,u),V.forEach(h),_=B(A),f=C(A,"SPAN",{class:!0});var Q=D(f);L=C(Q,"A",{href:!0,target:!0,rel:!0});var q=D(L);$=R(q,d),q.forEach(h),Q.forEach(h),p=B(A),k=C(A,"SPAN",{class:!0});var ee=D(k);O=R(ee,b),ee.forEach(h),this.h()},h(){E(t,"class","col svelte-1b7k28l"),E(r,"class","col svelte-1b7k28l"),E(L,"href",i[6].chord.url),E(L,"target","_blank"),E(L,"rel","noopener noreferrer"),E(f,"class","col svelte-1b7k28l"),E(k,"class","col svelte-1b7k28l")},m(A,w){S(A,t,w),g(t,l),S(A,e,w),S(A,r,w),g(r,a),g(r,o),g(r,c),S(A,_,w),S(A,f,w),g(f,L),g(L,$),S(A,p,w),S(A,k,w),g(k,O)},p:se,d(A){A&&(h(t),h(e),h(r),h(_),h(f),h(p),h(k))}}}function Rl(i){let t,n="Fetching results...";return{c(){t=v("p"),t.textContent=n},l(l){t=C(l,"P",{"data-svelte-h":!0}),Y(t)!=="svelte-gjakbw"&&(t.textContent=n)},m(l,e){S(l,t,e)},p:se,d(l){l&&h(t)}}}function jl(i){let t,n=i[0]&&Dt(i);return{c(){n&&n.c(),t=W()},l(l){n&&n.l(l),t=W()},m(l,e){n&&n.m(l,e),S(l,t,e)},p(l,[e]){l[0]?n?n.p(l,e):(n=Dt(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:se,o:se,d(l){l&&h(t),n&&n.d(l)}}}function ql(i,t,n){let{isOpen:l}=t;const e=s=>{const a=new Date(s.timestamp);return a.toDateString()+" "+a.toTimeString()},r=s=>s.fails.sort((a,o)=>a.chord.url<o.chord.url?-1:1);return i.$$set=s=>{"isOpen"in s&&n(0,l=s.isOpen)},[l,e,r]}class Fl extends Le{constructor(t){super(),Te(this,t,ql,jl,ce,{isOpen:0})}}function It(i,t,n){const l=i.slice();return l[10]=t[n],l}function Ut(i){let t,n=i[10].dateTag+"",l;return{c(){t=v("li"),l=H(n),this.h()},l(e){t=C(e,"LI",{class:!0});var r=D(t);l=R(r,n),r.forEach(h),this.h()},h(){E(t,"class","ul2col-separator")},m(e,r){S(e,t,r),g(t,l)},p(e,r){r&1&&n!==(n=e[10].dateTag+"")&&Fe(l,n)},d(e){e&&h(t)}}}function Pt(i){let t,n,l,e,r,s=i[10].dateTag&&Ut(i);return l=new Me({props:{chord:i[10]}}),{c(){s&&s.c(),t=N(),n=v("li"),oe(l.$$.fragment),e=N(),this.h()},l(a){s&&s.l(a),t=B(a),n=C(a,"LI",{class:!0});var o=D(n);de(l.$$.fragment,o),e=B(o),o.forEach(h),this.h()},h(){E(n,"class","ul2col-item")},m(a,o){s&&s.m(a,o),S(a,t,o),S(a,n,o),ie(l,n,null),g(n,e),r=!0},p(a,o){a[10].dateTag?s?s.p(a,o):(s=Ut(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const u={};o&1&&(u.chord=a[10]),l.$set(u)},i(a){r||(y(l.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),r=!1},d(a){a&&(h(t),h(n)),s&&s.d(a),ae(l)}}}function zl(i){let t,n,l,e,r="More...",s,a,o,u,c,_=F(i[0]),f=[];for(let d=0;d<_.length;d+=1)f[d]=Pt(It(i,_,d));const L=d=>I(f[d],1,1,()=>{f[d]=null});return{c(){t=v("div"),n=v("h3"),l=H(`Latest additions
        `),e=v("button"),e.textContent=r,s=N(),a=v("ul");for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){t=C(d,"DIV",{});var $=D(t);n=C($,"H3",{});var p=D(n);l=R(p,`Latest additions
        `),e=C(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-l2h3rt"&&(e.textContent=r),p.forEach(h),s=B($),a=C($,"UL",{class:!0});var k=D(a);for(let b=0;b<f.length;b+=1)f[b].l(k);k.forEach(h),$.forEach(h),this.h()},h(){E(e,"class","pull-right"),E(a,"class","ul2col-container")},m(d,$){S(d,t,$),g(t,n),g(n,l),g(n,e),g(t,s),g(t,a);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(a,null);o=!0,u||(c=ne(e,"click",i[3]),u=!0)},p(d,[$]){if($&1){_=F(d[0]);let p;for(p=0;p<_.length;p+=1){const k=It(d,_,p);f[p]?(f[p].p(k,$),y(f[p],1)):(f[p]=Pt(k),f[p].c(),y(f[p],1),f[p].m(a,null))}for(Z(),p=_.length;p<f.length;p+=1)L(p);x()}},i(d){if(!o){for(let $=0;$<_.length;$+=1)y(f[$]);o=!0}},o(d){f=f.filter(Boolean);for(let $=0;$<f.length;$+=1)I(f[$]);o=!1},d(d){d&&h(t),me(f,d),u=!1,c()}}}function Jl(i,t,n){let{chords:l}=t;const e=Date.now(),r=1e3*3600*24*7,s=r*4,a=[{label:"last week",time:e-r},{label:"one month ago",time:e-s},{label:"two monthes ago",time:e-2*s},{label:"six monthes ago",time:e-6*s},{label:"one year ago",time:e-12*s}],o=l.filter(L=>L.creationDate).sort((L,d)=>d.creationDate-L.creationDate).map((L,d,$)=>{const p={...L};if(d>0){const k=$[d-1];for(const{time:b,label:O}of a)k.creationDate>b&&L.creationDate<b&&(p.dateTag=O)}return p});let u=6,c=[];const _=()=>{u+=4,n(0,c=o.slice(0,u))};Qe(()=>{_()});const f=()=>_();return i.$$set=L=>{"chords"in L&&n(2,l=L.chords)},[c,_,l,f]}class Gl extends Le{constructor(t){super(),Te(this,t,Jl,zl,ce,{chords:2})}}function Ot(i,t,n){const l=i.slice();return l[5]=t[n],l}function Vt(i){let t,n=" ↶ ",l,e;return{c(){t=v("button"),t.textContent=n},l(r){t=C(r,"BUTTON",{"data-svelte-h":!0}),Y(t)!=="svelte-1mg1zky"&&(t.textContent=n)},m(r,s){S(r,t,s),l||(e=ne(t,"click",i[3]),l=!0)},p:se,d(r){r&&h(t),l=!1,e()}}}function Mt(i,t){let n,l,e,r;return l=new Me({props:{chord:t[5],showArtist:!0}}),{key:i,first:null,c(){n=v("li"),oe(l.$$.fragment),e=N(),this.h()},l(s){n=C(s,"LI",{class:!0});var a=D(n);de(l.$$.fragment,a),e=B(a),a.forEach(h),this.h()},h(){E(n,"class","ul2col-item"),this.first=n},m(s,a){S(s,n,a),ie(l,n,null),g(n,e),r=!0},p(s,a){t=s;const o={};a&2&&(o.chord=t[5]),l.$set(o)},i(s){r||(y(l.$$.fragment,s),r=!0)},o(s){I(l.$$.fragment,s),r=!1},d(s){s&&h(n),ae(l)}}}function Kl(i){let t,n,l,e,r,s,a="Get more random songs",o,u,c,_,f=[],L=new Map,d,$,p,k=i[0].length>Ne&&Vt(i),b=F(i[1]);const O=A=>A[5].url;for(let A=0;A<b.length;A+=1){let w=Ot(i,b,A),V=O(w);L.set(V,f[A]=Mt(V,w))}return{c(){t=v("div"),n=v("h3"),l=H(`Random song
        `),e=v("span"),k&&k.c(),r=N(),s=v("button"),s.textContent=a,o=N(),u=v("br"),c=N(),_=v("ul");for(let A=0;A<f.length;A+=1)f[A].c();this.h()},l(A){t=C(A,"DIV",{});var w=D(t);n=C(w,"H3",{});var V=D(n);l=R(V,`Random song
        `),e=C(V,"SPAN",{class:!0});var Q=D(e);k&&k.l(Q),r=B(Q),s=C(Q,"BUTTON",{"data-svelte-h":!0}),Y(s)!=="svelte-1gfm3kd"&&(s.textContent=a),Q.forEach(h),V.forEach(h),o=B(w),u=C(w,"BR",{}),c=B(w),_=C(w,"UL",{class:!0});var q=D(_);for(let ee=0;ee<f.length;ee+=1)f[ee].l(q);q.forEach(h),w.forEach(h),this.h()},h(){E(e,"class","pull-right"),E(_,"class","ul2col-container")},m(A,w){S(A,t,w),g(t,n),g(n,l),g(n,e),k&&k.m(e,null),g(e,r),g(e,s),g(t,o),g(t,u),g(t,c),g(t,_);for(let V=0;V<f.length;V+=1)f[V]&&f[V].m(_,null);d=!0,$||(p=ne(s,"click",i[2]),$=!0)},p(A,[w]){A[0].length>Ne?k?k.p(A,w):(k=Vt(A),k.c(),k.m(e,r)):k&&(k.d(1),k=null),w&2&&(b=F(A[1]),Z(),f=nl(f,w,O,1,A,b,L,_,sl,Mt,null,Ot),x())},i(A){if(!d){for(let w=0;w<b.length;w+=1)y(f[w]);d=!0}},o(A){for(let w=0;w<f.length;w+=1)I(f[w]);d=!1},d(A){A&&h(t),k&&k.d();for(let w=0;w<f.length;w+=1)f[w].d();$=!1,p()}}}const Ne=6;function Xl(i,t,n){let{chords:l}=t,e=[],r=[];const s=()=>{e.length>=l.length-Ne&&n(0,e=[]);for(let o=0;o<Ne;o++){let u=-1;for(;u===-1||e.includes(u);)u=Math.floor(Math.random()*l.length);e.push(u)}n(1,r=e.slice(e.length-Ne).map(o=>l[o]))},a=()=>{e.length<=Ne||(e.splice(e.length-Ne),n(1,r=e.slice(e.length-Ne).map(o=>l[o])))};return Qe(()=>{s()}),i.$$set=o=>{"chords"in o&&n(4,l=o.chords)},[e,r,s,a,l]}class Yl extends Le{constructor(t){super(),Te(this,t,Xl,Kl,ce,{chords:4})}}function Ht(i,t,n){const l=i.slice();return l[18]=t[n],l}function Rt(i,t,n){const l=i.slice();return l[21]=t[n],l[22]=t,l[23]=n,l}function jt(i,t,n){const l=i.slice();return l[24]=t[n],l}function qt(i){let t,n;return t=new cl({props:{item:i[24]}}),{c(){oe(t.$$.fragment)},l(l){de(t.$$.fragment,l)},m(l,e){ie(t,l,e),n=!0},p(l,e){const r={};e&1&&(r.item=l[24]),t.$set(r)},i(l){n||(y(t.$$.fragment,l),n=!0)},o(l){I(t.$$.fragment,l),n=!1},d(l){ae(t,l)}}}function Ft(i){let t,n,l,e,r,s,a;function o(){i[12].call(n,i[21])}function u(){return i[13](i[21])}return{c(){t=v("button"),n=v("input"),l=N(),e=v("span"),r=N(),this.h()},l(c){t=C(c,"BUTTON",{class:!0});var _=D(t);n=C(_,"INPUT",{id:!0,type:!0}),l=B(_),e=C(_,"SPAN",{class:!0}),D(e).forEach(h),r=B(_),_.forEach(h),this.h()},h(){E(n,"id",i[21]),E(n,"type","checkbox"),E(e,"class",Je(Xe(i[21]))+" svelte-kiyfxh"),E(t,"class","filter-control svelte-kiyfxh")},m(c,_){S(c,t,_),g(t,n),n.checked=i[3][i[21]],g(t,l),g(t,e),g(t,r),s||(a=[ne(n,"change",o),ne(t,"click",u)],s=!0)},p(c,_){i=c,_&72&&(n.checked=i[3][i[21]])},d(c){c&&h(t),s=!1,We(a)}}}function zt(i){let t,n=i[18].label+"",l,e,r,s;function a(){return i[14](i[18])}return{c(){t=v("button"),l=H(n),e=N(),this.h()},l(o){t=C(o,"BUTTON",{class:!0});var u=D(t);l=R(u,n),e=B(u),u.forEach(h),this.h()},h(){E(t,"class","control svelte-kiyfxh"),qe(t,"selected",i[2]===i[18])},m(o,u){S(o,t,u),g(t,l),g(t,e),r||(s=ne(t,"click",a),r=!0)},p(o,u){i=o,u&36&&qe(t,"selected",i[2]===i[18])},d(o){o&&h(t),r=!1,s()}}}function Wl(i){let t,n,l,e,r,s="Check dead links",a,o,u="Edit",c,_,f,L,d,$,p=i[4].length+"",k,b,O,A,w,V,Q,q,ee,Se="All songs",Ie,fe,ye,ue,Be='<i class="fas fa-times-circle"></i>',K,te,Ee,Ue="Filters",ge,Pe,ve,Ce="View",Oe,pe,he,z,we,ke,J,j;t=new il({props:{title:"Song Book",description:"My song book",iconPath:"/songbook.png"}});let M=F(i[0]),U=[];for(let m=0;m<M.length;m+=1)U[m]=qt(jt(i,M,m));const De=m=>I(U[m],1,1,()=>{U[m]=null});f=new wl({}),A=new Gl({props:{chords:i[4]}}),V=new Yl({props:{chords:i[4]}});let Ae=F(i[6]),X=[];for(let m=0;m<Ae.length;m+=1)X[m]=Ft(Rt(i,Ae,m));let le=F(i[5]),G=[];for(let m=0;m<le.length;m+=1)G[m]=zt(Ht(i,le,m));var $e=i[2].component;function Ze(m,P){return{props:{chords:m[4],searchString:m[1],filters:m[3]}}}return $e&&(z=et($e,Ze(i))),{c(){oe(t.$$.fragment),n=N(),l=v("h2"),e=v("span"),r=v("button"),r.textContent=s,a=N(),o=v("button"),o.textContent=u,c=N();for(let m=0;m<U.length;m+=1)U[m].c();_=N(),oe(f.$$.fragment),L=N(),d=v("p"),$=H("This is a list of "),k=H(p),b=H(` song chords I have been gathering since I started teaching myself
    the guitar as a teen and that I like to play.`),O=N(),oe(A.$$.fragment),w=N(),oe(V.$$.fragment),Q=N(),q=v("div"),ee=v("h3"),ee.textContent=Se,Ie=H(`
    Search an artist, a title or a tag:`),fe=v("input"),ye=N(),ue=v("button"),ue.innerHTML=Be,K=N(),te=v("div"),Ee=v("h4"),Ee.textContent=Ue,ge=N();for(let m=0;m<X.length;m+=1)X[m].c();Pe=N(),ve=v("h4"),ve.textContent=Ce,Oe=N(),pe=v("div");for(let m=0;m<G.length;m+=1)G[m].c();he=N(),z&&oe(z.$$.fragment),we=W(),this.h()},l(m){de(t.$$.fragment,m),n=B(m),l=C(m,"H2",{});var P=D(l);e=C(P,"SPAN",{class:!0});var T=D(e);r=C(T,"BUTTON",{"data-svelte-h":!0}),Y(r)!=="svelte-13v6ylk"&&(r.textContent=s),a=B(T),o=C(T,"BUTTON",{"data-svelte-h":!0}),Y(o)!=="svelte-18v2orh"&&(o.textContent=u),T.forEach(h),P.forEach(h),c=B(m);for(let be=0;be<U.length;be+=1)U[be].l(m);_=B(m),de(f.$$.fragment,m),L=B(m),d=C(m,"P",{});var re=D(d);$=R(re,"This is a list of "),k=R(re,p),b=R(re,` song chords I have been gathering since I started teaching myself
    the guitar as a teen and that I like to play.`),re.forEach(h),O=B(m),de(A.$$.fragment,m),w=B(m),de(V.$$.fragment,m),Q=B(m),q=C(m,"DIV",{});var _e=D(q);ee=C(_e,"H3",{"data-svelte-h":!0}),Y(ee)!=="svelte-bfvigd"&&(ee.textContent=Se),Ie=R(_e,`
    Search an artist, a title or a tag:`),fe=C(_e,"INPUT",{type:!0}),ye=B(_e),ue=C(_e,"BUTTON",{"data-svelte-h":!0}),Y(ue)!=="svelte-5nqbye"&&(ue.innerHTML=Be),K=B(_e),te=C(_e,"DIV",{class:!0});var je=D(te);Ee=C(je,"H4",{"data-svelte-h":!0}),Y(Ee)!=="svelte-xazxp3"&&(Ee.textContent=Ue),ge=B(je);for(let be=0;be<X.length;be+=1)X[be].l(je);je.forEach(h),Pe=B(_e),ve=C(_e,"H4",{"data-svelte-h":!0}),Y(ve)!=="svelte-1yp5l9r"&&(ve.textContent=Ce),Oe=B(_e),pe=C(_e,"DIV",{class:!0});var xe=D(pe);for(let be=0;be<G.length;be+=1)G[be].l(xe);xe.forEach(h),_e.forEach(h),he=B(m),z&&de(z.$$.fragment,m),we=W(),this.h()},h(){He(r,"position","relative"),He(o,"position","relative"),E(e,"class","pull-right"),E(fe,"type","text"),E(te,"class","filter-controls-container svelte-kiyfxh"),E(pe,"class","view-controls-container svelte-kiyfxh")},m(m,P){ie(t,m,P),S(m,n,P),S(m,l,P),g(l,e),g(e,r),g(e,a),g(e,o),S(m,c,P);for(let T=0;T<U.length;T+=1)U[T]&&U[T].m(m,P);S(m,_,P),ie(f,m,P),S(m,L,P),S(m,d,P),g(d,$),g(d,k),g(d,b),S(m,O,P),ie(A,m,P),S(m,w,P),ie(V,m,P),S(m,Q,P),S(m,q,P),g(q,ee),g(q,Ie),g(q,fe),tt(fe,i[1]),g(q,ye),g(q,ue),g(q,K),g(q,te),g(te,Ee),g(te,ge);for(let T=0;T<X.length;T+=1)X[T]&&X[T].m(te,null);g(q,Pe),g(q,ve),g(q,Oe),g(q,pe);for(let T=0;T<G.length;T+=1)G[T]&&G[T].m(pe,null);S(m,he,P),z&&ie(z,m,P),S(m,we,P),ke=!0,J||(j=[ne(r,"click",i[8]),ne(o,"click",i[9]),ne(fe,"input",i[10]),ne(ue,"click",i[11])],J=!0)},p(m,[P]){if(P&1){M=F(m[0]);let T;for(T=0;T<M.length;T+=1){const re=jt(m,M,T);U[T]?(U[T].p(re,P),y(U[T],1)):(U[T]=qt(re),U[T].c(),y(U[T],1),U[T].m(_.parentNode,_))}for(Z(),T=M.length;T<U.length;T+=1)De(T);x()}if(P&2&&fe.value!==m[1]&&tt(fe,m[1]),P&72){Ae=F(m[6]);let T;for(T=0;T<Ae.length;T+=1){const re=Rt(m,Ae,T);X[T]?X[T].p(re,P):(X[T]=Ft(re),X[T].c(),X[T].m(te,null))}for(;T<X.length;T+=1)X[T].d(1);X.length=Ae.length}if(P&36){le=F(m[5]);let T;for(T=0;T<le.length;T+=1){const re=Ht(m,le,T);G[T]?G[T].p(re,P):(G[T]=zt(re),G[T].c(),G[T].m(pe,null))}for(;T<G.length;T+=1)G[T].d(1);G.length=le.length}if(P&4&&$e!==($e=m[2].component)){if(z){Z();const T=z;I(T.$$.fragment,1,0,()=>{ae(T,1)}),x()}$e?(z=et($e,Ze(m)),oe(z.$$.fragment),y(z.$$.fragment,1),ie(z,we.parentNode,we)):z=null}else if($e){const T={};P&2&&(T.searchString=m[1]),P&8&&(T.filters=m[3]),z.$set(T)}},i(m){if(!ke){y(t.$$.fragment,m);for(let P=0;P<M.length;P+=1)y(U[P]);y(f.$$.fragment,m),y(A.$$.fragment,m),y(V.$$.fragment,m),z&&y(z.$$.fragment,m),ke=!0}},o(m){I(t.$$.fragment,m),U=U.filter(Boolean);for(let P=0;P<U.length;P+=1)I(U[P]);I(f.$$.fragment,m),I(A.$$.fragment,m),I(V.$$.fragment,m),z&&I(z.$$.fragment,m),ke=!1},d(m){m&&(h(n),h(l),h(c),h(_),h(L),h(d),h(O),h(w),h(Q),h(q),h(he),h(we)),ae(t,m),me(U,m),ae(f,m),ae(A,m),ae(V,m),me(X,m),me(G,m),z&&ae(z,m),J=!1,We(j)}}}function Ql(i,t,n){let l,e;Ge(i,Re,w=>n(15,l=w)),Ge(i,fl,w=>n(16,e=w)),pl.set("Songbook");let{data:r}=t;const{chords:s}=r;let a=[];const o=w=>{a.push(w),n(0,a),setTimeout(()=>{a.shift(),n(0,a)},5e3)};Qe(async()=>{try{if(l.length&&e){o({level:"info",header:"Trying to count missed visits while logged out"});for(const w of l)await Gt(w);o({level:"success",header:`Counted ${l.length} missed visits`}),Xt(Re,l=[],l)}}catch{o({level:"error",header:"Couldnt upload failed visit counts"})}try{const V=(await el()).reduce((Q,q)=>(Q.set(q.url,{...q}),Q),new Map);Ve.set(V)}catch{o({level:"error",header:"Couldnt upload failed visit counts"})}});let u="";const c=[{label:"By artist",component:Dl},{label:"By tags",component:Ul},{label:"By frequency",component:Vl},{label:"By access date",component:Al}];let _=c[0],f={pdf:!0,doc:!0,youtube:!0,link:!0};const L=Object.keys(f),d=()=>ol(Fl),$=()=>hl("/songbook/edit");function p(){u=this.value,n(1,u)}const k=()=>n(1,u="");function b(w){f[w]=this.checked,n(3,f)}const O=w=>{n(3,f[w]=!f[w],f),n(3,f)},A=w=>n(2,_=w);return i.$$set=w=>{"data"in w&&n(7,r=w.data)},[a,u,_,f,s,c,L,r,d,$,p,k,b,O,A]}class _n extends Le{constructor(t){super(),Te(this,t,Ql,Wl,ce,{data:7})}}export{_n as component,hn as universal};
