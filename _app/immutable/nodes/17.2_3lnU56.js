import"../chunks/CWj6FrbW.js";import{p as U,aK as oe,g as r,aF as G,aQ as ae,aD as u,aE as s,n as X,s as K,w as N,v as H,x as ne,k as P,o as le,a2 as de}from"../chunks/Blh4VyvI.js";import{s as F}from"../chunks/B_qPQ7Zq.js";import{i as J}from"../chunks/DB3ygwRk.js";import{k as ce}from"../chunks/DUvsV-_r.js";import{e as z,i as R}from"../chunks/DyR1-sIv.js";import{t as L,a as j,f as Q,e as se}from"../chunks/8vVwn2F4.js";import{p as V}from"../chunks/BzpYSpev.js";import{b as te}from"../chunks/Dl6BdxIa.js";import"../chunks/DyTJ21-Y.js";import{p as ge}from"../chunks/aHt1hMB5.js";import{p as re}from"../chunks/BVzqg3c7.js";import{P as ie}from"../chunks/DcmGojIg.js";import{s as me}from"../chunks/CPfKleoE.js";import{m as ve}from"../chunks/DoZHSm50.js";const W=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Z=p=>{if(p<1||p>7)throw new Error(`Unkown degree ${p}`);return["I","II","III","IV","V","VI","VII"][p-1]};var he=L('<div class="d-flex justify-content-center"><!></div>');function fe(p,o){U(o,!0);let l=G(void 0),w=re(o,"labelMode",3,"name");const g=["C","D","E","F","G","A","B"],y=["C#","D#","F#","G#","A#"],m=14,h=t=>{const I=[80,70,60,150],e=[80,70,60],a=t.width/m;for(let n=0;n<m;n++){const d=g[n%g.length];t.strokeWeight(1),t.stroke(I),t.noFill(),t.rect(a*n,0,a,t.height);const b=d+"#";y.includes(b)&&(t.fill(e),t.rect(a*n+2*a/3,0,a/2,t.height*.65))}},T=(t,I,e)=>{if(e==="name")return I;const a=t.indexOf(I);if(a===-1)throw new Error("note not in scale");return Z(a+1)},O=t=>{const I=t.width/m;for(let e=0;e<m;e++){const a=g[e%g.length],n=o.notesToDisplay.indexOf(a);if(n>=0){n===0?t.fill([250,80,80]):t.fill("black");const x=I*e+I/2,i=t.height*.8;t.circle(x,i,20),t.noStroke(),t.fill("white");const _=T(o.notesToDisplay,a,w());t.text(_,x-t.textWidth(_)/2,i+t.textSize()/2)}const d=a+"#",b=o.notesToDisplay.indexOf(d);if(b>=0){b===0?t.fill([250,80,80]):t.fill("black");const x=I*e+I,i=t.height*.5;t.circle(x,i,20),t.noStroke(),t.fill("white");const _=T(o.notesToDisplay,d,w());t.text(_,x-t.textWidth(_)/2,i+t.textSize()/2)}}},S=t=>{t.setup=()=>{K(l,V(t)),t.createCanvas(900,300),t.textStyle(t.BOLD)},t.draw=()=>{t.background([200,190,170]),h(t),O(t),t.noLoop()}};oe(()=>{var t;(o.notesToDisplay||w())&&((t=r(l))==null||t.draw())}),ae(()=>{var t;(t=r(l))==null||t.remove()});var v=he(),B=u(v);ie(B,{sketch:S}),s(v),j(p,v),X()}var ue=L('<div class="d-flex justify-content-center"><!></div>');function _e(p,o){U(o,!0);let l=G(void 0),w=re(o,"labelMode",3,"name");const g=["E","A","D","G","B","E"],y=15,m=g.map(e=>{const a=W.indexOf(e);if(a===-1)throw new Error(`Base ${e} not found`);const n=[e];for(let d=1;d<y;d++){const b=W[(a+d)%W.length];n.push(b)}return n}),h=30,T=e=>{const a=[80,70,60,150],n=e.height/6;for(let i=0;i<m.length;i++){const _=g[i],C=n*i+n/2;e.strokeWeight(1),e.stroke(a),e.noFill(),e.line(h,C,e.width,C),e.noStroke(),e.fill(a),e.text(_,5,e.height-C+e.textSize()/2)}e.strokeWeight(5),e.stroke(a),e.noFill(),e.line(h,n/2,h,e.height-n/2),e.strokeWeight(1);const d=e.width/m[0].length;for(let i=1;i<y;i++){const _=h+d*i;e.line(_,n/2,_,e.height-n/2)}const b=[3,5,7,9,15];for(const i of b){let{x:_,y:C}=v({string:2,fret:i});C-=n/2,e.fill(a),e.circle(_,C,10)}const x=[1,3];for(const i of x){let{x:_,y:C}=v({string:i,fret:12});C-=n/2,e.fill(a),e.circle(_,C,10)}},O=(e,a,n)=>{if(n==="name")return a;const d=e.indexOf(a);if(d===-1)throw new Error("note not in scale");return Z(d+1)},S=e=>{for(let a=0;a<6;a++){const n=m[a];for(let d=0;d<n.length;d++){const b=n[d];if(!o.notesToDisplay.includes(b))continue;const x={string:a,fret:d},{x:i,y:_}=v(x);o.notesToDisplay.indexOf(b)===0?e.fill([250,80,80]):e.fill("black"),e.circle(i,_,20),e.noStroke(),e.fill("white");const C=O(o.notesToDisplay,b,w());e.text(C,i-e.textWidth(C)/2,_+e.textSize()/2)}}},v=e=>{if(r(l)===void 0)throw new Error("P5 instance is undefined");const{string:a,fret:n}=e,d=r(l).height/6,b=d*(5-a)+d/2;if(n===0)return{x:h,y:b};const x=r(l).width/m[0].length;return{x:h+x*(n-1)+x*.5,y:b}},B=e=>{e.setup=()=>{K(l,V(e)),e.createCanvas(900,300),e.textStyle(e.BOLD)},e.draw=()=>{e.background([200,190,170]),T(e),S(e),e.noLoop()}};oe(()=>{var e;(o.notesToDisplay||w())&&((e=r(l))==null||e.draw())}),ae(()=>{var e;(e=r(l))==null||e.remove()});var t=ue(),I=u(t);ie(I,{sketch:B}),s(t),j(p,t),X()}var ye=(p,o)=>K(o,V(r(o)==="name"?"degree":"name")),be=(p,o,l)=>K(o,(r(o)+1)%l.length),xe=L('<h3>Instrument</h3> <div><button>C / IV</button> <button><i class="fas fa-guitar"></i> / <i class="fas fa-keyboard"></i></button></div> <!> <!>',1);function ke(p,o){U(o,!0);let l=G("name");const w=["neck","keyboard","both"];let g=G(0);var y=xe(),m=N(H(y),2),h=u(m);h.__click=[ye,l];var T=N(h,2);T.__click=[be,g,w],s(m);var O=N(m,2);{var S=t=>{_e(t,{get notesToDisplay(){return o.notesToDisplay},get labelMode(){return r(l)}})};J(O,t=>{["neck","both"].includes(w[r(g)])&&t(S)})}var v=N(O,2);{var B=t=>{fe(t,{get notesToDisplay(){return o.notesToDisplay},get labelMode(){return r(l)}})};J(v,t=>{["keyboard","both"].includes(w[r(g)])&&t(B)})}j(p,y),X()}Q(["click"]);var we=L(`<div role="dialog" class="modal svelte-5yv1o0"><div class="contents svelte-5yv1o0"><h4 class="title-bar svelte-5yv1o0">Chord Progressions <button>Close</button></h4> <div>This is a list of chord progressions I took from David Benett's videos and elsewhere
                too <ul><li><a href="https://www.youtube.com/watch?v=Vyc8lezaa9g" rel="noopener noreferrer" target="_blank">David Benett - 7 super common chord progressions and why they work</a></li> <li><a href="https://www.youtube.com/watch?v=v3YbEL-_eoI" rel="noopener noreferrer" target="_blank">David Benett - 6 more common chord progressions and why they work</a></li></ul> The user can change the tonic note in the "Scales" section and the progressions will
                change the actual chords to play.</div></div></div>`);function pe(p,o){var l=se(),w=H(l);{var g=y=>{var m=we(),h=u(m),T=u(h),O=N(u(T));O.__click=function(...S){var v;(v=o.close)==null||v.apply(this,S)},s(T),ne(2),s(h),s(m),j(y,m)};J(w,y=>{o.isOpen&&y(g)})}j(p,l)}Q(["click"]);const De=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}];var Se=()=>ve.open(pe),Ie=L("<span><b>Examples:</b> </span>"),Ce=L('<div class="progression-step"><div class="step-degree svelte-1p3ym4z"> </div> <div class="step-value svelte-1p3ym4z"> </div></div>'),Ne=L('<div><h4> </h4> <!> <div class="progression-table svelte-1p3ym4z"></div></div> <br>',1),Te=L('<h3>Chord Progressions <span><button aria-label="info"><i class="fa fa-info-circle" aria-hidden="true"></i></button></span></h3> <!>',1);function Be(p,o){U(o,!0);let l=re(o,"scaleNotes",19,()=>[]);const w=S=>{let v=Z(S.degree);return S.minor&&(v=v.toLowerCase()),S.flat&&(v="b"+v),v},g=S=>{const v=l()[S.degree-1];let B=W.indexOf(v);S.flat&&(B--,B===-1&&(B=W.length-1));let t=W[B];return S.minor&&(t+="m"),t};var y=Te(),m=H(y),h=N(u(m)),T=u(h);T.__click=[Se],me(T,"",{},{position:"relative"}),s(h),s(m);var O=N(m,2);z(O,17,()=>De,R,(S,v)=>{var B=Ne(),t=H(B),I=u(t),e=u(I,!0);s(I);var a=N(I,2);{var n=b=>{var x=Ie(),i=N(u(x));s(x),P(_=>F(i,` ${_??""}`),[()=>r(v).examples.join(", ")]),j(b,x)};J(a,b=>{r(v).examples&&b(n)})}var d=N(a,2);z(d,21,()=>r(v).chords,R,(b,x)=>{var i=Ce(),_=u(i),C=u(_,!0);s(_);var Y=N(_,2),q=u(Y,!0);s(Y),s(i),P(($,ee)=>{F(C,$),F(q,ee)},[()=>w(r(x)),()=>g(r(x))]),j(b,i)}),s(d),s(t),ne(2),P(()=>F(e,r(v).name)),j(S,B)}),j(p,y),X()}Q(["click"]);var Me=(p,o,l,w,g)=>o(r(l),r(w),r(g)),je=L("<option> </option>"),Le=(p,o,l,w,g)=>o(r(l),r(w),r(g)),Ae=L("<option> </option>"),Oe=(p,o,l,w,g)=>o(r(l),r(w),r(g)),Ee=L("<option> </option>"),We=L('<th class="svelte-gg3pfu"> </th>'),Fe=L('<td class="svelte-gg3pfu"> </td>'),Pe=L('<table><thead><tr><th class="svelte-gg3pfu"><label for="tonicInput">Tonic</label></th><th class="svelte-gg3pfu"><label for="scaleInput">Scale</label></th><th class="svelte-gg3pfu"><label for="modeInput">mode</label></th></tr></thead><tbody><tr><td class="svelte-gg3pfu"><select id="tonicInput"></select></td><td class="svelte-gg3pfu"><select id="scaleInput"></select></td><td class="svelte-gg3pfu"><select id="modeInput"></select></td></tr></tbody></table> <br> <table><tbody><tr></tr><tr></tr></tbody></table> <!> <!>',1);function tt(p,o){U(o,!0),ge.set("Scales");const l=[{name:"Major",intervals:[2,2,1,2,2,2,1],chords:["major","minor","minor","diminished","major","minor","major"]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2],chords:["minor","diminished","major","minor","major","major","minor"]},{name:"Pentatonic major",intervals:[2,2,3,2,3],chords:["major","minor","minor","major","minor"]},{name:"Pentatonic minor",intervals:[3,2,2,3,2],chords:["minor","major","minor","major","major"]}],w=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let g=G("C"),y=G(V(l[0])),m=G(V(w[0])),h=G(V([]));const T=(f,c,k)=>{const{intervals:M}=c;K(h,V([f]));const D=W.indexOf(f);if(D===-1)throw new Error(`Tonic ${f} not found`);let A=D;for(const E of M)A=(A+E)%W.length,r(h).push(W[A]);r(h).pop();for(let E=1;E<k.degree;E++)r(h).push(r(h).shift())},O=(f,c)=>{let k=Z(f);return c==="minor"?k=k.toLowerCase():c==="diminished"&&(k+="°"),k},S=(f,c)=>{let k=f;return c==="minor"?k+="m":c==="diminished"&&(k+="°"),k};le(()=>T(r(g),r(y),r(m)));var v=Pe(),B=H(v),t=N(u(B)),I=u(t),e=u(I),a=u(e);a.__change=[Me,T,g,y,m],z(a,21,()=>W,R,(f,c)=>{var k=je(),M={},D=u(k,!0);s(k),P(()=>{M!==(M=r(c))&&(k.value=(k.__value=r(c))==null?"":r(c)),F(D,r(c))}),j(f,k)}),s(a),s(e);var n=N(e),d=u(n);d.__change=[Le,T,g,y,m],z(d,21,()=>l,R,(f,c,k,M)=>{var D=Ae(),A={},E=u(D,!0);s(D),P(()=>{A!==(A=r(c))&&(D.value=(D.__value=r(c))==null?"":r(c)),F(E,r(c).name)}),j(f,D)}),s(d),s(n);var b=N(n),x=u(b);x.__change=[Oe,T,g,y,m],z(x,21,()=>w,R,(f,c,k,M)=>{var D=Ee(),A={},E=u(D,!0);s(D),P(()=>{A!==(A=r(c))&&(D.value=(D.__value=r(c))==null?"":r(c)),F(E,r(c).name)}),j(f,D)}),s(x),s(b),s(I),s(t),s(B);var i=N(B,4),_=u(i),C=u(_);z(C,21,()=>r(y).chords,R,(f,c,k)=>{var M=We(),D=u(M,!0);s(M),P(A=>F(D,A),[()=>O(k+1,r(c))]),j(f,M)}),s(C);var Y=N(C);z(Y,21,()=>r(h),R,(f,c,k)=>{var M=Fe();const D=de(()=>r(y).chords[k]);var A=u(M,!0);s(M),P(E=>F(A,E),[()=>S(r(c),r(D))]),j(f,M)}),s(Y),s(_),s(i);var q=N(i,2);ke(q,{get notesToDisplay(){return r(h)}});var $=N(q,2);{var ee=f=>{var c=se(),k=H(c);ce(k,()=>r(h),M=>{Be(M,{get scaleNotes(){return r(h)}})}),j(f,c)};J($,f=>{["Major","Natural minor"].includes(r(y).name)&&f(ee)})}te(a,()=>r(g),f=>K(g,f)),te(d,()=>r(y),f=>K(y,f)),te(x,()=>r(m),f=>K(m,f)),j(p,v),X()}Q(["change"]);export{tt as component};
