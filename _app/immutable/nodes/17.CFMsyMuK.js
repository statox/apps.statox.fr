import{s as He,A as ve,i as y,f as h,k as ze,p as Re,a0 as ut,n as ge,K as ft,e as p,a as $,c as d,b as w,z as A,g as E,m as f,O as re,D as pt,h as c,a1 as Qe,E as xe,a2 as dt,y as ht,t as Me,d as Ve,j as qe,B as vt}from"../chunks/scheduler.BilgBu4I.js";import{h as Xe,u as _t}from"../chunks/await_block.CLiUbVfh.js";import{S as Oe,i as Fe,g as Le,t as j,c as Ie,a as B,b as _e,d as me,m as be,e as Ce,f as mt}from"../chunks/index.DD1v0PRF.js";import{u as Je,M as ct,t as je}from"../chunks/Main.CbtnBp-_.js";import{r as bt,a as it}from"../chunks/index.wNzJ0ook.js";import{M as Ct,D as gt,a as kt,b as $t}from"../chunks/Main.CQrKp5AR.js";import{e as Ze}from"../chunks/each.6CO-EztV.js";const Et=!1,Qt=Object.freeze(Object.defineProperty({__proto__:null,ssr:Et},Symbol.toStringTag,{value:"Module"})),wt=async()=>await bt({path:"/webWatcher/getAllWatchers"}),et=async r=>it({path:"/webWatcher/createWatcher",data:r}),xt=async r=>it({path:"/webWatcher/deleteWatcher",data:{id:r}});function St(r){let e,l;return e=new ct({props:{item:{level:"info",header:"Login to upload content"}}}),{c(){_e(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,s){be(e,t,s),l=!0},p:ge,i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){Ce(e,t)}}}function yt(r){let e,l,t,s="Name",o,a,u,n,i,v="Check interval",_,g,C,k,m,x,U,M="Watcher type",se,N,F,ke="CSS",T,Z="HASH",Y,ae,Q,V,ie="Notification message (the @mention is automatically added)",ue,K,fe,R,H,O,ne="URL",$e,X,ee,pe,q,z,Se="Upload",de,te,Ee;function we(b){r[9](b)}let oe={allowedUnits:["minutes","hours","days"],defaultDuration:{value:1,unit:"hours"}};r[4]!==void 0&&(oe.valueInSeconds=r[4]),g=new Ct({props:oe}),ft.push(()=>mt(g,"valueInSeconds",we));let I=r[5]==="CSS"&&tt(r);return{c(){e=p("div"),l=p("p"),t=p("label"),t.textContent=s,o=$(),a=p("input"),u=$(),n=p("p"),i=p("label"),i.textContent=v,_=$(),_e(g.$$.fragment),k=$(),m=p("div"),x=p("p"),U=p("label"),U.textContent=M,se=$(),N=p("select"),F=p("option"),F.textContent=ke,T=p("option"),T.textContent=Z,Y=$(),ae=p("div"),Q=p("p"),V=p("label"),V.textContent=ie,ue=$(),K=p("input"),fe=$(),R=p("div"),H=p("p"),O=p("label"),O.textContent=ne,$e=$(),X=p("input"),ee=$(),I&&I.c(),pe=$(),q=p("p"),z=p("button"),z.textContent=Se,this.h()},l(b){e=d(b,"DIV",{class:!0});var P=w(e);l=d(P,"P",{class:!0});var le=w(l);t=d(le,"LABEL",{for:!0,"data-svelte-h":!0}),A(t)!=="svelte-bs9sy6"&&(t.textContent=s),o=E(le),a=d(le,"INPUT",{type:!0,class:!0}),le.forEach(h),u=E(P),n=d(P,"P",{class:!0});var J=w(n);i=d(J,"LABEL",{for:!0,"data-svelte-h":!0}),A(i)!=="svelte-q7xqd"&&(i.textContent=v),_=E(J),me(g.$$.fragment,J),J.forEach(h),P.forEach(h),k=E(b),m=d(b,"DIV",{class:!0});var he=w(m);x=d(he,"P",{class:!0});var G=w(x);U=d(G,"LABEL",{for:!0,"data-svelte-h":!0}),A(U)!=="svelte-180kuuc"&&(U.textContent=M),se=E(G),N=d(G,"SELECT",{id:!0});var D=w(N);F=d(D,"OPTION",{"data-svelte-h":!0}),A(F)!=="svelte-x0e7ng"&&(F.textContent=ke),T=d(D,"OPTION",{"data-svelte-h":!0}),A(T)!=="svelte-1f1oya6"&&(T.textContent=Z),D.forEach(h),G.forEach(h),he.forEach(h),Y=E(b),ae=d(b,"DIV",{class:!0});var W=w(ae);Q=d(W,"P",{class:!0});var L=w(Q);V=d(L,"LABEL",{for:!0,"data-svelte-h":!0}),A(V)!=="svelte-dt6vo8"&&(V.textContent=ie),ue=E(L),K=d(L,"INPUT",{type:!0,class:!0}),L.forEach(h),W.forEach(h),fe=E(b),R=d(b,"DIV",{class:!0});var S=w(R);H=d(S,"P",{class:!0});var ce=w(H);O=d(ce,"LABEL",{for:!0,"data-svelte-h":!0}),A(O)!=="svelte-47691s"&&(O.textContent=ne),$e=E(ce),X=d(ce,"INPUT",{type:!0,class:!0}),ce.forEach(h),ee=E(S),I&&I.l(S),S.forEach(h),pe=E(b),q=d(b,"P",{});var ye=w(q);z=d(ye,"BUTTON",{"data-svelte-h":!0}),A(z)!=="svelte-15774uw"&&(z.textContent=Se),ye.forEach(h),this.h()},h(){f(t,"for","name"),f(a,"type","text"),f(a,"class","svelte-19dtsjx"),f(l,"class","section-1-item svelte-19dtsjx"),f(i,"for","check-interval"),f(n,"class","section-1-item svelte-19dtsjx"),f(e,"class","section svelte-19dtsjx"),f(U,"for","watch-type"),F.__value="CSS",re(F,F.__value),T.__value="HASH",re(T,T.__value),f(N,"id","watch-type"),r[5]===void 0&&pt(()=>r[10].call(N)),f(x,"class","section-2-item svelte-19dtsjx"),f(m,"class","section svelte-19dtsjx"),f(V,"for","notification-message"),f(K,"type","textarea"),f(K,"class","svelte-19dtsjx"),f(Q,"class","section-2-item svelte-19dtsjx"),f(ae,"class","section svelte-19dtsjx"),f(O,"for","content"),f(X,"type","textarea"),f(X,"class","svelte-19dtsjx"),f(H,"class","section-3-item svelte-19dtsjx"),f(R,"class","section svelte-19dtsjx")},m(b,P){y(b,e,P),c(e,l),c(l,t),c(l,o),c(l,a),re(a,r[0]),c(e,u),c(e,n),c(n,i),c(n,_),be(g,n,null),y(b,k,P),y(b,m,P),c(m,x),c(x,U),c(x,se),c(x,N),c(N,F),c(N,T),Qe(N,r[5],!0),y(b,Y,P),y(b,ae,P),c(ae,Q),c(Q,V),c(Q,ue),c(Q,K),re(K,r[1]),y(b,fe,P),y(b,R,P),c(R,H),c(H,O),c(H,$e),c(H,X),re(X,r[2]),c(R,ee),I&&I.m(R,null),y(b,pe,P),y(b,q,P),c(q,z),de=!0,te||(Ee=[xe(a,"input",r[8]),xe(N,"change",r[10]),xe(K,"input",r[11]),xe(X,"input",r[12]),xe(z,"click",r[7])],te=!0)},p(b,P){P&1&&a.value!==b[0]&&re(a,b[0]);const le={};!C&&P&16&&(C=!0,le.valueInSeconds=b[4],dt(()=>C=!1)),g.$set(le),P&32&&Qe(N,b[5]),P&2&&re(K,b[1]),P&4&&re(X,b[2]),b[5]==="CSS"?I?I.p(b,P):(I=tt(b),I.c(),I.m(R,null)):I&&(I.d(1),I=null)},i(b){de||(B(g.$$.fragment,b),de=!0)},o(b){j(g.$$.fragment,b),de=!1},d(b){b&&(h(e),h(k),h(m),h(Y),h(ae),h(fe),h(R),h(pe),h(q)),Ce(g),I&&I.d(),te=!1,ht(Ee)}}}function tt(r){let e,l,t="CSS selector",s,o,a,u;return{c(){e=p("p"),l=p("label"),l.textContent=t,s=$(),o=p("input"),this.h()},l(n){e=d(n,"P",{class:!0});var i=w(e);l=d(i,"LABEL",{for:!0,"data-svelte-h":!0}),A(l)!=="svelte-1ib74yx"&&(l.textContent=t),s=E(i),o=d(i,"INPUT",{type:!0,class:!0}),i.forEach(h),this.h()},h(){f(l,"for","css-selector"),f(o,"type","textarea"),f(o,"class","svelte-19dtsjx"),f(e,"class","section-3-item svelte-19dtsjx")},m(n,i){y(n,e,i),c(e,l),c(e,s),c(e,o),re(o,r[3]),a||(u=xe(o,"input",r[13]),a=!0)},p(n,i){i&8&&re(o,n[3])},d(n){n&&h(e),a=!1,u()}}}function Lt(r){let e,l,t,s;const o=[yt,St],a=[];function u(n,i){return n[6]?0:1}return e=u(r),l=a[e]=o[e](r),{c(){l.c(),t=ve()},l(n){l.l(n),t=ve()},m(n,i){a[e].m(n,i),y(n,t,i),s=!0},p(n,[i]){let v=e;e=u(n),e===v?a[e].p(n,i):(Le(),j(a[v],1,1,()=>{a[v]=null}),Ie(),l=a[e],l?l.p(n,i):(l=a[e]=o[e](n),l.c()),B(l,1),l.m(t.parentNode,t))},i(n){s||(B(l),s=!0)},o(n){j(l),s=!1},d(n){n&&h(t),a[e].d(n)}}}function It(r,e,l){let t;ze(r,Je,M=>l(6,t=M));const s=Re();let o,a,u,n,i,v;const _=async()=>{if(!o.length||!a){console.error("name and notification message should be defined");return}if(v==="CSS"&&!n){console.error("css selector must be defined for CSS watch type");return}try{new URL(u)}catch{je.push("<strong>URL is invalid</strong>",{theme:{"--toastBarBackground":"#FF0000"}});return}if(i<15*60){je.push("<strong>Check interval too small</strong><br/>Must be >= 15mn",{theme:{"--toastBarBackground":"#FF0000"}});return}try{v==="CSS"?await et({name:o,notificationMessage:a,url:u,cssSelector:n,checkIntervalSeconds:i,watchType:v}):v==="HASH"&&await et({name:o,notificationMessage:a,url:u,checkIntervalSeconds:i,watchType:v}),s("upload")}catch(M){const se=`<strong>Entry not created</strong><br/> ${M.message}`;je.push(se,{theme:{"--toastBarBackground":"#FF0000"}})}};function g(){o=this.value,l(0,o)}function C(M){i=M,l(4,i)}function k(){v=ut(this),l(5,v)}function m(){a=this.value,l(1,a)}function x(){u=this.value,l(2,u)}function U(){n=this.value,l(3,n)}return[o,a,u,n,i,v,t,_,g,C,k,m,x,U]}class Pt extends Oe{constructor(e){super(),Fe(this,e,It,Lt,He,{})}}function lt(r){let e,l,t=r[0].name+"",s,o,a,u,n,i,v,_="Check interval",g,C,k,m,x,U,M="Notification message",se,N,F,ke,T,Z,Y,ae="URL",Q,V,ie=r[0].url+"",ue,K,fe,R,H,O,ne,$e="Last check",X,ee,pe,q,z,Se="Last content change",de,te,Ee,we,oe,I,b,P="Last content",le,J,he,G;a=new kt({}),a.$on("delete",r[6]);let D=r[0].watchType==="CSS"&&st(r),W=r[0].lastErrorDateUnix&&at(r);return{c(){e=p("div"),l=p("h4"),s=Me(t),o=$(),_e(a.$$.fragment),u=$(),n=p("div"),i=p("p"),v=p("label"),v.textContent=_,g=$(),C=p("input"),k=$(),m=p("div"),x=p("p"),U=p("label"),U.textContent=M,se=$(),N=p("input"),ke=$(),T=p("div"),Z=p("p"),Y=p("label"),Y.textContent=ae,Q=$(),V=p("a"),ue=Me(ie),fe=$(),D&&D.c(),R=$(),H=p("div"),O=p("p"),ne=p("label"),ne.textContent=$e,X=$(),ee=p("input"),pe=$(),q=p("p"),z=p("label"),z.textContent=Se,de=$(),te=p("input"),Ee=$(),W&&W.c(),we=$(),oe=p("div"),I=p("p"),b=p("label"),b.textContent=P,le=$(),J=p("input"),this.h()},l(L){e=d(L,"DIV",{class:!0});var S=w(e);l=d(S,"H4",{class:!0});var ce=w(l);s=Ve(ce,t),o=E(ce),me(a.$$.fragment,ce),ce.forEach(h),u=E(S),n=d(S,"DIV",{class:!0});var ye=w(n);i=d(ye,"P",{class:!0});var Pe=w(i);v=d(Pe,"LABEL",{for:!0,"data-svelte-h":!0}),A(v)!=="svelte-q7xqd"&&(v.textContent=_),g=E(Pe),C=d(Pe,"INPUT",{type:!0,class:!0}),Pe.forEach(h),ye.forEach(h),k=E(S),m=d(S,"DIV",{class:!0});var Ge=w(m);x=d(Ge,"P",{class:!0});var De=w(x);U=d(De,"LABEL",{for:!0,"data-svelte-h":!0}),A(U)!=="svelte-1rjok9v"&&(U.textContent=M),se=E(De),N=d(De,"INPUT",{type:!0,class:!0}),De.forEach(h),Ge.forEach(h),ke=E(S),T=d(S,"DIV",{class:!0});var Ue=w(T);Z=d(Ue,"P",{class:!0});var Ae=w(Z);Y=d(Ae,"LABEL",{for:!0,"data-svelte-h":!0}),A(Y)!=="svelte-47691s"&&(Y.textContent=ae),Q=E(Ae),V=d(Ae,"A",{target:!0,rel:!0,href:!0});var Ke=w(V);ue=Ve(Ke,ie),Ke.forEach(h),Ae.forEach(h),fe=E(Ue),D&&D.l(Ue),Ue.forEach(h),R=E(S),H=d(S,"DIV",{class:!0});var Be=w(H);O=d(Be,"P",{class:!0});var Ne=w(O);ne=d(Ne,"LABEL",{for:!0,"data-svelte-h":!0}),A(ne)!=="svelte-l58ce3"&&(ne.textContent=$e),X=E(Ne),ee=d(Ne,"INPUT",{type:!0,class:!0}),Ne.forEach(h),pe=E(Be),q=d(Be,"P",{class:!0});var Te=w(q);z=d(Te,"LABEL",{for:!0,"data-svelte-h":!0}),A(z)!=="svelte-r6rd2z"&&(z.textContent=Se),de=E(Te),te=d(Te,"INPUT",{type:!0,class:!0}),Te.forEach(h),Be.forEach(h),Ee=E(S),W&&W.l(S),we=E(S),oe=d(S,"DIV",{class:!0});var Ye=w(oe);I=d(Ye,"P",{class:!0});var We=w(I);b=d(We,"LABEL",{for:!0,"data-svelte-h":!0}),A(b)!=="svelte-1hxqr7r"&&(b.textContent=P),le=E(We),J=d(We,"INPUT",{type:!0,class:!0}),We.forEach(h),Ye.forEach(h),S.forEach(h),this.h()},h(){f(l,"class","item-title svelte-14314pc"),f(v,"for","check-interval"),C.disabled=!0,f(C,"type","textarea"),C.value=r[5],f(C,"class","svelte-14314pc"),f(i,"class","section-1-item svelte-14314pc"),f(n,"class","section svelte-14314pc"),f(U,"for","notification-message"),N.disabled=!0,f(N,"type","textarea"),N.value=F=r[0].notificationMessage,f(N,"class","svelte-14314pc"),f(x,"class","section-2-item svelte-14314pc"),f(m,"class","section svelte-14314pc"),f(Y,"for","content"),f(V,"target","_blank"),f(V,"rel","noopener noreferrer"),f(V,"href",K=r[0].url),f(Z,"class","section-3-item svelte-14314pc"),f(T,"class","section svelte-14314pc"),f(ne,"for","last-check"),ee.disabled=!0,f(ee,"type","textarea"),ee.value=r[3],f(ee,"class","svelte-14314pc"),f(O,"class","section-4-item svelte-14314pc"),f(z,"for","last-update"),te.disabled=!0,f(te,"type","textarea"),te.value=r[4],f(te,"class","svelte-14314pc"),f(q,"class","section-4-item svelte-14314pc"),f(H,"class","section svelte-14314pc"),f(b,"for","last-update"),J.disabled=!0,f(J,"type","textarea"),J.value=he=r[0].lastContent,f(J,"class","svelte-14314pc"),f(I,"class","section-3-item svelte-14314pc"),f(oe,"class","section svelte-14314pc"),f(e,"class","item svelte-14314pc")},m(L,S){y(L,e,S),c(e,l),c(l,s),c(l,o),be(a,l,null),c(e,u),c(e,n),c(n,i),c(i,v),c(i,g),c(i,C),c(e,k),c(e,m),c(m,x),c(x,U),c(x,se),c(x,N),c(e,ke),c(e,T),c(T,Z),c(Z,Y),c(Z,Q),c(Z,V),c(V,ue),c(T,fe),D&&D.m(T,null),c(e,R),c(e,H),c(H,O),c(O,ne),c(O,X),c(O,ee),c(H,pe),c(H,q),c(q,z),c(q,de),c(q,te),c(e,Ee),W&&W.m(e,null),c(e,we),c(e,oe),c(oe,I),c(I,b),c(I,le),c(I,J),G=!0},p(L,S){(!G||S&1)&&t!==(t=L[0].name+"")&&qe(s,t),(!G||S&1&&F!==(F=L[0].notificationMessage)&&N.value!==F)&&(N.value=F),(!G||S&1)&&ie!==(ie=L[0].url+"")&&qe(ue,ie),(!G||S&1&&K!==(K=L[0].url))&&f(V,"href",K),L[0].watchType==="CSS"?D?(D.p(L,S),S&1&&B(D,1)):(D=st(L),D.c(),B(D,1),D.m(T,null)):D&&(Le(),j(D,1,1,()=>{D=null}),Ie()),L[0].lastErrorDateUnix?W?W.p(L,S):(W=at(L),W.c(),W.m(e,we)):W&&(W.d(1),W=null),(!G||S&1&&he!==(he=L[0].lastContent)&&J.value!==he)&&(J.value=he)},i(L){G||(B(a.$$.fragment,L),B(D),G=!0)},o(L){j(a.$$.fragment,L),j(D),G=!1},d(L){L&&h(e),Ce(a),D&&D.d(),W&&W.d()}}}function st(r){let e,l,t,s,o,a,u,n;return s=new $t({props:{content:r[0].cssSelector}}),{c(){e=p("p"),l=p("label"),t=Me(`CSS selector
                        `),_e(s.$$.fragment),o=$(),a=p("input"),this.h()},l(i){e=d(i,"P",{class:!0});var v=w(e);l=d(v,"LABEL",{for:!0});var _=w(l);t=Ve(_,`CSS selector
                        `),me(s.$$.fragment,_),_.forEach(h),o=E(v),a=d(v,"INPUT",{type:!0,class:!0}),v.forEach(h),this.h()},h(){f(l,"for","css-selector"),a.disabled=!0,f(a,"type","textarea"),a.value=u=r[0].cssSelector,f(a,"class","svelte-14314pc"),f(e,"class","section-3-item svelte-14314pc")},m(i,v){y(i,e,v),c(e,l),c(l,t),be(s,l,null),c(e,o),c(e,a),n=!0},p(i,v){const _={};v&1&&(_.content=i[0].cssSelector),s.$set(_),(!n||v&1&&u!==(u=i[0].cssSelector)&&a.value!==u)&&(a.value=u)},i(i){n||(B(s.$$.fragment,i),n=!0)},o(i){j(s.$$.fragment,i),n=!1},d(i){i&&h(e),Ce(s)}}}function at(r){let e,l,t,s="Last error",o,a,u,n,i,v,_="Last error message",g,C,k;return{c(){e=p("div"),l=p("p"),t=p("label"),t.textContent=s,o=$(),a=p("input"),n=$(),i=p("p"),v=p("label"),v.textContent=_,g=$(),C=p("input"),this.h()},l(m){e=d(m,"DIV",{class:!0});var x=w(e);l=d(x,"P",{class:!0});var U=w(l);t=d(U,"LABEL",{for:!0,"data-svelte-h":!0}),A(t)!=="svelte-1h8ip7h"&&(t.textContent=s),o=E(U),a=d(U,"INPUT",{type:!0,class:!0}),U.forEach(h),n=E(x),i=d(x,"P",{class:!0});var M=w(i);v=d(M,"LABEL",{for:!0,"data-svelte-h":!0}),A(v)!=="svelte-x18p73"&&(v.textContent=_),g=E(M),C=d(M,"INPUT",{type:!0,class:!0}),M.forEach(h),x.forEach(h),this.h()},h(){f(t,"for","last-check"),a.disabled=!0,f(a,"type","textarea"),a.value=u=r[2](r[0].lastErrorDateUnix),f(a,"class","svelte-14314pc"),f(l,"class","section-4-item svelte-14314pc"),f(v,"for","last-update"),C.disabled=!0,f(C,"type","textarea"),C.value=k=r[0].lastErrorMessage,f(C,"class","svelte-14314pc"),f(i,"class","section-4-item svelte-14314pc"),f(e,"class","section error-section svelte-14314pc")},m(m,x){y(m,e,x),c(e,l),c(l,t),c(l,o),c(l,a),c(e,n),c(e,i),c(i,v),c(i,g),c(i,C)},p(m,x){x&1&&u!==(u=m[2](m[0].lastErrorDateUnix))&&a.value!==u&&(a.value=u),x&1&&k!==(k=m[0].lastErrorMessage)&&C.value!==k&&(C.value=k)},d(m){m&&h(e)}}}function Dt(r){let e,l,t=r[1]&&lt(r);return{c(){t&&t.c(),e=ve()},l(s){t&&t.l(s),e=ve()},m(s,o){t&&t.m(s,o),y(s,e,o),l=!0},p(s,[o]){s[1]?t?(t.p(s,o),o&2&&B(t,1)):(t=lt(s),t.c(),B(t,1),t.m(e.parentNode,e)):t&&(Le(),j(t,1,1,()=>{t=null}),Ie())},i(s){l||(B(t),l=!0)},o(s){j(t),l=!1},d(s){s&&h(e),t&&t.d(s)}}}function Ut(r,e,l){let t;ze(r,Je,_=>l(1,t=_));const s=Re();let{watcher:o}=e;const a=_=>{const g=new Date(_*1e3);return g.toLocaleDateString()+" "+g.toLocaleTimeString()},u=o.lastCheckDateUnix===0?"Never checked before":a(o.lastCheckDateUnix),n=o.lastUpdateDateUnix===0?"Never changed":a(o.lastUpdateDateUnix),i=gt.fromMillis(o.checkIntervalSeconds*1e3).rescale().toHuman(),v=async()=>{if(!o.id){console.error("id must be defined");return}try{await xt(o.id),s("delete")}catch(_){const g=`<strong>Watcher not deleted</strong><br/> ${_.message}`;je.push(g,{theme:{"--toastBarBackground":"#FF0000"}})}};return r.$$set=_=>{"watcher"in _&&l(0,o=_.watcher)},[o,t,a,u,n,i,v]}class At extends Oe{constructor(e){super(),Fe(this,e,Ut,Dt,He,{watcher:0})}}function nt(r,e,l){const t=r.slice();return t[3]=e[l],t}function rt(r){let e,l;return e=new At({props:{watcher:r[3]}}),e.$on("delete",r[2]),{c(){_e(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,s){be(e,t,s),l=!0},p(t,s){const o={};s&1&&(o.watcher=t[3]),e.$set(o)},i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){Ce(e,t)}}}function Bt(r){let e,l,t=Ze(r[0].sort(ot)),s=[];for(let a=0;a<t.length;a+=1)s[a]=rt(nt(r,t,a));const o=a=>j(s[a],1,1,()=>{s[a]=null});return{c(){e=p("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=d(a,"DIV",{class:!0});var u=w(e);for(let n=0;n<s.length;n+=1)s[n].l(u);u.forEach(h),this.h()},h(){f(e,"class","container svelte-c8nodu")},m(a,u){y(a,e,u);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,null);l=!0},p(a,[u]){if(u&3){t=Ze(a[0].sort(ot));let n;for(n=0;n<t.length;n+=1){const i=nt(a,t,n);s[n]?(s[n].p(i,u),B(s[n],1)):(s[n]=rt(i),s[n].c(),B(s[n],1),s[n].m(e,null))}for(Le(),n=t.length;n<s.length;n+=1)o(n);Ie()}},i(a){if(!l){for(let u=0;u<t.length;u+=1)B(s[u]);l=!0}},o(a){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)j(s[u]);l=!1},d(a){a&&h(e),vt(s,a)}}}const ot=(r,e)=>e.id-r.id;function Nt(r,e,l){let{watchers:t}=e;const s=Re(),o=()=>s("delete");return r.$$set=a=>{"watchers"in a&&l(0,t=a.watchers)},[t,s,o]}class Tt extends Oe{constructor(e){super(),Fe(this,e,Nt,Bt,He,{watchers:0})}}function Wt(r){let e,l;return e=new ct({props:{item:{level:"info",header:"Login to list the watchers"}}}),{c(){_e(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,s){be(e,t,s),l=!0},p:ge,i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){Ce(e,t)}}}function jt(r){let e,l,t="Create a new watcher",s,o,a,u,n="Watchers",i,v,_,g;o=new Pt({}),o.$on("upload",r[3]);let C={ctx:r,current:null,token:null,hasCatch:!0,pending:Ht,then:Vt,catch:Mt,value:5,error:6,blocks:[,,,]};return Xe(_=r[0],C),{c(){e=p("details"),l=p("summary"),l.textContent=t,s=$(),_e(o.$$.fragment),a=$(),u=p("h3"),u.textContent=n,i=$(),v=ve(),C.block.c()},l(k){e=d(k,"DETAILS",{});var m=w(e);l=d(m,"SUMMARY",{"data-svelte-h":!0}),A(l)!=="svelte-155u8eb"&&(l.textContent=t),s=E(m),me(o.$$.fragment,m),m.forEach(h),a=E(k),u=d(k,"H3",{"data-svelte-h":!0}),A(u)!=="svelte-1d5313d"&&(u.textContent=n),i=E(k),v=ve(),C.block.l(k)},m(k,m){y(k,e,m),c(e,l),c(e,s),be(o,e,null),y(k,a,m),y(k,u,m),y(k,i,m),y(k,v,m),C.block.m(k,C.anchor=m),C.mount=()=>v.parentNode,C.anchor=v,g=!0},p(k,m){r=k,C.ctx=r,m&1&&_!==(_=r[0])&&Xe(_,C)||_t(C,r,m)},i(k){g||(B(o.$$.fragment,k),B(C.block),g=!0)},o(k){j(o.$$.fragment,k);for(let m=0;m<3;m+=1){const x=C.blocks[m];j(x)}g=!1},d(k){k&&(h(e),h(a),h(u),h(i),h(v)),Ce(o),C.block.d(k),C.token=null,C=null}}}function Mt(r){let e,l="Something went wrong",t,s,o=JSON.stringify(r[6])+"",a;return{c(){e=p("p"),e.textContent=l,t=$(),s=p("p"),a=Me(o)},l(u){e=d(u,"P",{"data-svelte-h":!0}),A(e)!=="svelte-171fb2d"&&(e.textContent=l),t=E(u),s=d(u,"P",{});var n=w(s);a=Ve(n,o),n.forEach(h)},m(u,n){y(u,e,n),y(u,t,n),y(u,s,n),c(s,a)},p(u,n){n&1&&o!==(o=JSON.stringify(u[6])+"")&&qe(a,o)},i:ge,o:ge,d(u){u&&(h(e),h(t),h(s))}}}function Vt(r){let e,l;return e=new Tt({props:{watchers:r[5]}}),e.$on("delete",r[4]),{c(){_e(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,s){be(e,t,s),l=!0},p(t,s){const o={};s&1&&(o.watchers=t[5]),e.$set(o)},i(t){l||(B(e.$$.fragment,t),l=!0)},o(t){j(e.$$.fragment,t),l=!1},d(t){Ce(e,t)}}}function Ht(r){let e,l="Loading data";return{c(){e=p("p"),e.textContent=l},l(t){e=d(t,"P",{"data-svelte-h":!0}),A(e)!=="svelte-ezyzhc"&&(e.textContent=l)},m(t,s){y(t,e,s)},p:ge,i:ge,o:ge,d(t){t&&h(e)}}}function Ot(r){let e,l="Web Watchers",t,s,o,a,u;const n=[jt,Wt],i=[];function v(_,g){return _[1]?0:1}return s=v(r),o=i[s]=n[s](r),{c(){e=p("h2"),e.textContent=l,t=$(),o.c(),a=ve()},l(_){e=d(_,"H2",{"data-svelte-h":!0}),A(e)!=="svelte-1xt9l7p"&&(e.textContent=l),t=E(_),o.l(_),a=ve()},m(_,g){y(_,e,g),y(_,t,g),i[s].m(_,g),y(_,a,g),u=!0},p(_,[g]){let C=s;s=v(_),s===C?i[s].p(_,g):(Le(),j(i[C],1,1,()=>{i[C]=null}),Ie(),o=i[s],o?o.p(_,g):(o=i[s]=n[s](_),o.c()),B(o,1),o.m(a.parentNode,a))},i(_){u||(B(o),u=!0)},o(_){j(o),u=!1},d(_){_&&(h(e),h(t),h(a)),i[s].d(_)}}}function Ft(r,e,l){let t;ze(r,Je,n=>l(1,t=n));const s=()=>t?wt():[];let o=s();return[o,t,s,()=>l(0,o=s()),()=>l(0,o=s())]}class Xt extends Oe{constructor(e){super(),Fe(this,e,Ft,Ot,He,{})}}export{Xt as component,Qt as universal};
