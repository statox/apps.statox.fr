import{s as He,A as _e,i as y,f as h,k as ze,p as Re,a0 as it,e as p,c as d,z as U,n as se,K as ut,a as E,b as $,g as x,m as f,O as oe,D as ft,h as c,a1 as Qe,E as ke,a2 as pt,y as dt,t as Me,d as Ve,j as Fe,B as ht}from"../chunks/scheduler.B3gxbuV4.js";import{h as Xe,u as vt}from"../chunks/await_block.hv1NBf3l.js";import{S as Oe,i as qe,g as Le,t as H,c as Pe,a as N,f as _t,b as Ee,d as xe,m as $e,e as we}from"../chunks/index.D4Ghn6ud.js";import{u as Je,t as We}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.CPB5gpyf.js";import{r as mt,a as ct}from"../chunks/index.Doozu6dV.js";import{M as bt,D as Ct,a as gt,b as kt}from"../chunks/Main.D9tQ_Zmw.js";import{e as Ze}from"../chunks/each.BG3x12hU.js";const Et=!1,Yt=Object.freeze(Object.defineProperty({__proto__:null,ssr:Et},Symbol.toStringTag,{value:"Module"})),xt=async()=>await mt({path:"/webWatcher/getAllWatchers"}),et=async r=>ct({path:"/webWatcher/createWatcher",data:r}),$t=async r=>ct({path:"/webWatcher/deleteWatcher",data:{id:r}});function wt(r){let e,s="Login to upload content";return{c(){e=p("p"),e.textContent=s},l(t){e=d(t,"P",{"data-svelte-h":!0}),U(e)!=="svelte-k7lhwu"&&(e.textContent=s)},m(t,l){y(t,e,l)},p:se,i:se,o:se,d(t){t&&h(e)}}}function St(r){let e,s,t,l="Name",o,n,u,a,i,v="Check interval",_,g,C,k,m,w,A,W="Watcher type",ne,B,q,me="CSS",T,Z="HASH",Y,ae,Q,M,ue="Notification message (the @mention is automatically added)",fe,K,pe,R,V,O,re="URL",be,X,ee,de,F,z,Se="Upload",he,te,Ce;function ge(b){r[9](b)}let ce={allowedUnits:["minutes","hours","days"],defaultDuration:{value:1,unit:"hours"}};r[4]!==void 0&&(ce.valueInSeconds=r[4]),g=new bt({props:ce}),ut.push(()=>_t(g,"valueInSeconds",ge));let P=r[5]==="CSS"&&tt(r);return{c(){e=p("div"),s=p("p"),t=p("label"),t.textContent=l,o=E(),n=p("input"),u=E(),a=p("p"),i=p("label"),i.textContent=v,_=E(),Ee(g.$$.fragment),k=E(),m=p("div"),w=p("p"),A=p("label"),A.textContent=W,ne=E(),B=p("select"),q=p("option"),q.textContent=me,T=p("option"),T.textContent=Z,Y=E(),ae=p("div"),Q=p("p"),M=p("label"),M.textContent=ue,fe=E(),K=p("input"),pe=E(),R=p("div"),V=p("p"),O=p("label"),O.textContent=re,be=E(),X=p("input"),ee=E(),P&&P.c(),de=E(),F=p("p"),z=p("button"),z.textContent=Se,this.h()},l(b){e=d(b,"DIV",{class:!0});var I=$(e);s=d(I,"P",{class:!0});var le=$(s);t=d(le,"LABEL",{for:!0,"data-svelte-h":!0}),U(t)!=="svelte-bs9sy6"&&(t.textContent=l),o=x(le),n=d(le,"INPUT",{type:!0,class:!0}),le.forEach(h),u=x(I),a=d(I,"P",{class:!0});var J=$(a);i=d(J,"LABEL",{for:!0,"data-svelte-h":!0}),U(i)!=="svelte-q7xqd"&&(i.textContent=v),_=x(J),xe(g.$$.fragment,J),J.forEach(h),I.forEach(h),k=x(b),m=d(b,"DIV",{class:!0});var ve=$(m);w=d(ve,"P",{class:!0});var G=$(w);A=d(G,"LABEL",{for:!0,"data-svelte-h":!0}),U(A)!=="svelte-180kuuc"&&(A.textContent=W),ne=x(G),B=d(G,"SELECT",{id:!0});var D=$(B);q=d(D,"OPTION",{"data-svelte-h":!0}),U(q)!=="svelte-x0e7ng"&&(q.textContent=me),T=d(D,"OPTION",{"data-svelte-h":!0}),U(T)!=="svelte-1f1oya6"&&(T.textContent=Z),D.forEach(h),G.forEach(h),ve.forEach(h),Y=x(b),ae=d(b,"DIV",{class:!0});var j=$(ae);Q=d(j,"P",{class:!0});var L=$(Q);M=d(L,"LABEL",{for:!0,"data-svelte-h":!0}),U(M)!=="svelte-dt6vo8"&&(M.textContent=ue),fe=x(L),K=d(L,"INPUT",{type:!0,class:!0}),L.forEach(h),j.forEach(h),pe=x(b),R=d(b,"DIV",{class:!0});var S=$(R);V=d(S,"P",{class:!0});var ie=$(V);O=d(ie,"LABEL",{for:!0,"data-svelte-h":!0}),U(O)!=="svelte-47691s"&&(O.textContent=re),be=x(ie),X=d(ie,"INPUT",{type:!0,class:!0}),ie.forEach(h),ee=x(S),P&&P.l(S),S.forEach(h),de=x(b),F=d(b,"P",{});var ye=$(F);z=d(ye,"BUTTON",{"data-svelte-h":!0}),U(z)!=="svelte-15774uw"&&(z.textContent=Se),ye.forEach(h),this.h()},h(){f(t,"for","name"),f(n,"type","text"),f(n,"class","svelte-19dtsjx"),f(s,"class","section-1-item svelte-19dtsjx"),f(i,"for","check-interval"),f(a,"class","section-1-item svelte-19dtsjx"),f(e,"class","section svelte-19dtsjx"),f(A,"for","watch-type"),q.__value="CSS",oe(q,q.__value),T.__value="HASH",oe(T,T.__value),f(B,"id","watch-type"),r[5]===void 0&&ft(()=>r[10].call(B)),f(w,"class","section-2-item svelte-19dtsjx"),f(m,"class","section svelte-19dtsjx"),f(M,"for","notification-message"),f(K,"type","textarea"),f(K,"class","svelte-19dtsjx"),f(Q,"class","section-2-item svelte-19dtsjx"),f(ae,"class","section svelte-19dtsjx"),f(O,"for","content"),f(X,"type","textarea"),f(X,"class","svelte-19dtsjx"),f(V,"class","section-3-item svelte-19dtsjx"),f(R,"class","section svelte-19dtsjx")},m(b,I){y(b,e,I),c(e,s),c(s,t),c(s,o),c(s,n),oe(n,r[0]),c(e,u),c(e,a),c(a,i),c(a,_),$e(g,a,null),y(b,k,I),y(b,m,I),c(m,w),c(w,A),c(w,ne),c(w,B),c(B,q),c(B,T),Qe(B,r[5],!0),y(b,Y,I),y(b,ae,I),c(ae,Q),c(Q,M),c(Q,fe),c(Q,K),oe(K,r[1]),y(b,pe,I),y(b,R,I),c(R,V),c(V,O),c(V,be),c(V,X),oe(X,r[2]),c(R,ee),P&&P.m(R,null),y(b,de,I),y(b,F,I),c(F,z),he=!0,te||(Ce=[ke(n,"input",r[8]),ke(B,"change",r[10]),ke(K,"input",r[11]),ke(X,"input",r[12]),ke(z,"click",r[7])],te=!0)},p(b,I){I&1&&n.value!==b[0]&&oe(n,b[0]);const le={};!C&&I&16&&(C=!0,le.valueInSeconds=b[4],pt(()=>C=!1)),g.$set(le),I&32&&Qe(B,b[5]),I&2&&oe(K,b[1]),I&4&&oe(X,b[2]),b[5]==="CSS"?P?P.p(b,I):(P=tt(b),P.c(),P.m(R,null)):P&&(P.d(1),P=null)},i(b){he||(N(g.$$.fragment,b),he=!0)},o(b){H(g.$$.fragment,b),he=!1},d(b){b&&(h(e),h(k),h(m),h(Y),h(ae),h(pe),h(R),h(de),h(F)),we(g),P&&P.d(),te=!1,dt(Ce)}}}function tt(r){let e,s,t="CSS selector",l,o,n,u;return{c(){e=p("p"),s=p("label"),s.textContent=t,l=E(),o=p("input"),this.h()},l(a){e=d(a,"P",{class:!0});var i=$(e);s=d(i,"LABEL",{for:!0,"data-svelte-h":!0}),U(s)!=="svelte-1ib74yx"&&(s.textContent=t),l=x(i),o=d(i,"INPUT",{type:!0,class:!0}),i.forEach(h),this.h()},h(){f(s,"for","css-selector"),f(o,"type","textarea"),f(o,"class","svelte-19dtsjx"),f(e,"class","section-3-item svelte-19dtsjx")},m(a,i){y(a,e,i),c(e,s),c(e,l),c(e,o),oe(o,r[3]),n||(u=ke(o,"input",r[13]),n=!0)},p(a,i){i&8&&oe(o,a[3])},d(a){a&&h(e),n=!1,u()}}}function yt(r){let e,s,t,l;const o=[St,wt],n=[];function u(a,i){return a[6]?0:1}return e=u(r),s=n[e]=o[e](r),{c(){s.c(),t=_e()},l(a){s.l(a),t=_e()},m(a,i){n[e].m(a,i),y(a,t,i),l=!0},p(a,[i]){let v=e;e=u(a),e===v?n[e].p(a,i):(Le(),H(n[v],1,1,()=>{n[v]=null}),Pe(),s=n[e],s?s.p(a,i):(s=n[e]=o[e](a),s.c()),N(s,1),s.m(t.parentNode,t))},i(a){l||(N(s),l=!0)},o(a){H(s),l=!1},d(a){a&&h(t),n[e].d(a)}}}function Lt(r,e,s){let t;ze(r,Je,W=>s(6,t=W));const l=Re();let o,n,u,a,i,v;const _=async()=>{if(!o.length||!n){console.error("name and notification message should be defined");return}if(v==="CSS"&&!a){console.error("css selector must be defined for CSS watch type");return}try{new URL(u)}catch{We.push("<strong>URL is invalid</strong>",{theme:{"--toastBarBackground":"#FF0000"}});return}if(i<15*60){We.push("<strong>Check interval too small</strong><br/>Must be >= 15mn",{theme:{"--toastBarBackground":"#FF0000"}});return}try{v==="CSS"?await et({name:o,notificationMessage:n,url:u,cssSelector:a,checkIntervalSeconds:i,watchType:v}):v==="HASH"&&await et({name:o,notificationMessage:n,url:u,checkIntervalSeconds:i,watchType:v}),l("upload")}catch(W){const ne=`<strong>Entry not created</strong><br/> ${W.message}`;We.push(ne,{theme:{"--toastBarBackground":"#FF0000"}})}};function g(){o=this.value,s(0,o)}function C(W){i=W,s(4,i)}function k(){v=it(this),s(5,v)}function m(){n=this.value,s(1,n)}function w(){u=this.value,s(2,u)}function A(){a=this.value,s(3,a)}return[o,n,u,a,i,v,t,_,g,C,k,m,w,A]}class Pt extends Oe{constructor(e){super(),qe(this,e,Lt,yt,He,{})}}function lt(r){let e,s,t=r[0].name+"",l,o,n,u,a,i,v,_="Check interval",g,C,k,m,w,A,W="Notification message",ne,B,q,me,T,Z,Y,ae="URL",Q,M,ue=r[0].url+"",fe,K,pe,R,V,O,re,be="Last check",X,ee,de,F,z,Se="Last content change",he,te,Ce,ge,ce,P,b,I="Last content",le,J,ve,G;n=new gt({}),n.$on("delete",r[6]);let D=r[0].watchType==="CSS"&&st(r),j=r[0].lastErrorDateUnix&&nt(r);return{c(){e=p("div"),s=p("h4"),l=Me(t),o=E(),Ee(n.$$.fragment),u=E(),a=p("div"),i=p("p"),v=p("label"),v.textContent=_,g=E(),C=p("input"),k=E(),m=p("div"),w=p("p"),A=p("label"),A.textContent=W,ne=E(),B=p("input"),me=E(),T=p("div"),Z=p("p"),Y=p("label"),Y.textContent=ae,Q=E(),M=p("a"),fe=Me(ue),pe=E(),D&&D.c(),R=E(),V=p("div"),O=p("p"),re=p("label"),re.textContent=be,X=E(),ee=p("input"),de=E(),F=p("p"),z=p("label"),z.textContent=Se,he=E(),te=p("input"),Ce=E(),j&&j.c(),ge=E(),ce=p("div"),P=p("p"),b=p("label"),b.textContent=I,le=E(),J=p("input"),this.h()},l(L){e=d(L,"DIV",{class:!0});var S=$(e);s=d(S,"H4",{class:!0});var ie=$(s);l=Ve(ie,t),o=x(ie),xe(n.$$.fragment,ie),ie.forEach(h),u=x(S),a=d(S,"DIV",{class:!0});var ye=$(a);i=d(ye,"P",{class:!0});var Ie=$(i);v=d(Ie,"LABEL",{for:!0,"data-svelte-h":!0}),U(v)!=="svelte-q7xqd"&&(v.textContent=_),g=x(Ie),C=d(Ie,"INPUT",{type:!0,class:!0}),Ie.forEach(h),ye.forEach(h),k=x(S),m=d(S,"DIV",{class:!0});var Ge=$(m);w=d(Ge,"P",{class:!0});var De=$(w);A=d(De,"LABEL",{for:!0,"data-svelte-h":!0}),U(A)!=="svelte-1rjok9v"&&(A.textContent=W),ne=x(De),B=d(De,"INPUT",{type:!0,class:!0}),De.forEach(h),Ge.forEach(h),me=x(S),T=d(S,"DIV",{class:!0});var Ue=$(T);Z=d(Ue,"P",{class:!0});var Ae=$(Z);Y=d(Ae,"LABEL",{for:!0,"data-svelte-h":!0}),U(Y)!=="svelte-47691s"&&(Y.textContent=ae),Q=x(Ae),M=d(Ae,"A",{target:!0,rel:!0,href:!0});var Ke=$(M);fe=Ve(Ke,ue),Ke.forEach(h),Ae.forEach(h),pe=x(Ue),D&&D.l(Ue),Ue.forEach(h),R=x(S),V=d(S,"DIV",{class:!0});var Be=$(V);O=d(Be,"P",{class:!0});var Ne=$(O);re=d(Ne,"LABEL",{for:!0,"data-svelte-h":!0}),U(re)!=="svelte-l58ce3"&&(re.textContent=be),X=x(Ne),ee=d(Ne,"INPUT",{type:!0,class:!0}),Ne.forEach(h),de=x(Be),F=d(Be,"P",{class:!0});var Te=$(F);z=d(Te,"LABEL",{for:!0,"data-svelte-h":!0}),U(z)!=="svelte-r6rd2z"&&(z.textContent=Se),he=x(Te),te=d(Te,"INPUT",{type:!0,class:!0}),Te.forEach(h),Be.forEach(h),Ce=x(S),j&&j.l(S),ge=x(S),ce=d(S,"DIV",{class:!0});var Ye=$(ce);P=d(Ye,"P",{class:!0});var je=$(P);b=d(je,"LABEL",{for:!0,"data-svelte-h":!0}),U(b)!=="svelte-1hxqr7r"&&(b.textContent=I),le=x(je),J=d(je,"INPUT",{type:!0,class:!0}),je.forEach(h),Ye.forEach(h),S.forEach(h),this.h()},h(){f(s,"class","item-title svelte-14314pc"),f(v,"for","check-interval"),C.disabled=!0,f(C,"type","textarea"),C.value=r[5],f(C,"class","svelte-14314pc"),f(i,"class","section-1-item svelte-14314pc"),f(a,"class","section svelte-14314pc"),f(A,"for","notification-message"),B.disabled=!0,f(B,"type","textarea"),B.value=q=r[0].notificationMessage,f(B,"class","svelte-14314pc"),f(w,"class","section-2-item svelte-14314pc"),f(m,"class","section svelte-14314pc"),f(Y,"for","content"),f(M,"target","_blank"),f(M,"rel","noopener noreferrer"),f(M,"href",K=r[0].url),f(Z,"class","section-3-item svelte-14314pc"),f(T,"class","section svelte-14314pc"),f(re,"for","last-check"),ee.disabled=!0,f(ee,"type","textarea"),ee.value=r[3],f(ee,"class","svelte-14314pc"),f(O,"class","section-4-item svelte-14314pc"),f(z,"for","last-update"),te.disabled=!0,f(te,"type","textarea"),te.value=r[4],f(te,"class","svelte-14314pc"),f(F,"class","section-4-item svelte-14314pc"),f(V,"class","section svelte-14314pc"),f(b,"for","last-update"),J.disabled=!0,f(J,"type","textarea"),J.value=ve=r[0].lastContent,f(J,"class","svelte-14314pc"),f(P,"class","section-3-item svelte-14314pc"),f(ce,"class","section svelte-14314pc"),f(e,"class","item svelte-14314pc")},m(L,S){y(L,e,S),c(e,s),c(s,l),c(s,o),$e(n,s,null),c(e,u),c(e,a),c(a,i),c(i,v),c(i,g),c(i,C),c(e,k),c(e,m),c(m,w),c(w,A),c(w,ne),c(w,B),c(e,me),c(e,T),c(T,Z),c(Z,Y),c(Z,Q),c(Z,M),c(M,fe),c(T,pe),D&&D.m(T,null),c(e,R),c(e,V),c(V,O),c(O,re),c(O,X),c(O,ee),c(V,de),c(V,F),c(F,z),c(F,he),c(F,te),c(e,Ce),j&&j.m(e,null),c(e,ge),c(e,ce),c(ce,P),c(P,b),c(P,le),c(P,J),G=!0},p(L,S){(!G||S&1)&&t!==(t=L[0].name+"")&&Fe(l,t),(!G||S&1&&q!==(q=L[0].notificationMessage)&&B.value!==q)&&(B.value=q),(!G||S&1)&&ue!==(ue=L[0].url+"")&&Fe(fe,ue),(!G||S&1&&K!==(K=L[0].url))&&f(M,"href",K),L[0].watchType==="CSS"?D?(D.p(L,S),S&1&&N(D,1)):(D=st(L),D.c(),N(D,1),D.m(T,null)):D&&(Le(),H(D,1,1,()=>{D=null}),Pe()),L[0].lastErrorDateUnix?j?j.p(L,S):(j=nt(L),j.c(),j.m(e,ge)):j&&(j.d(1),j=null),(!G||S&1&&ve!==(ve=L[0].lastContent)&&J.value!==ve)&&(J.value=ve)},i(L){G||(N(n.$$.fragment,L),N(D),G=!0)},o(L){H(n.$$.fragment,L),H(D),G=!1},d(L){L&&h(e),we(n),D&&D.d(),j&&j.d()}}}function st(r){let e,s,t,l,o,n,u,a;return l=new kt({props:{content:r[0].cssSelector}}),{c(){e=p("p"),s=p("label"),t=Me(`CSS selector
                        `),Ee(l.$$.fragment),o=E(),n=p("input"),this.h()},l(i){e=d(i,"P",{class:!0});var v=$(e);s=d(v,"LABEL",{for:!0});var _=$(s);t=Ve(_,`CSS selector
                        `),xe(l.$$.fragment,_),_.forEach(h),o=x(v),n=d(v,"INPUT",{type:!0,class:!0}),v.forEach(h),this.h()},h(){f(s,"for","css-selector"),n.disabled=!0,f(n,"type","textarea"),n.value=u=r[0].cssSelector,f(n,"class","svelte-14314pc"),f(e,"class","section-3-item svelte-14314pc")},m(i,v){y(i,e,v),c(e,s),c(s,t),$e(l,s,null),c(e,o),c(e,n),a=!0},p(i,v){const _={};v&1&&(_.content=i[0].cssSelector),l.$set(_),(!a||v&1&&u!==(u=i[0].cssSelector)&&n.value!==u)&&(n.value=u)},i(i){a||(N(l.$$.fragment,i),a=!0)},o(i){H(l.$$.fragment,i),a=!1},d(i){i&&h(e),we(l)}}}function nt(r){let e,s,t,l="Last error",o,n,u,a,i,v,_="Last error message",g,C,k;return{c(){e=p("div"),s=p("p"),t=p("label"),t.textContent=l,o=E(),n=p("input"),a=E(),i=p("p"),v=p("label"),v.textContent=_,g=E(),C=p("input"),this.h()},l(m){e=d(m,"DIV",{class:!0});var w=$(e);s=d(w,"P",{class:!0});var A=$(s);t=d(A,"LABEL",{for:!0,"data-svelte-h":!0}),U(t)!=="svelte-1h8ip7h"&&(t.textContent=l),o=x(A),n=d(A,"INPUT",{type:!0,class:!0}),A.forEach(h),a=x(w),i=d(w,"P",{class:!0});var W=$(i);v=d(W,"LABEL",{for:!0,"data-svelte-h":!0}),U(v)!=="svelte-x18p73"&&(v.textContent=_),g=x(W),C=d(W,"INPUT",{type:!0,class:!0}),W.forEach(h),w.forEach(h),this.h()},h(){f(t,"for","last-check"),n.disabled=!0,f(n,"type","textarea"),n.value=u=r[2](r[0].lastErrorDateUnix),f(n,"class","svelte-14314pc"),f(s,"class","section-4-item svelte-14314pc"),f(v,"for","last-update"),C.disabled=!0,f(C,"type","textarea"),C.value=k=r[0].lastErrorMessage,f(C,"class","svelte-14314pc"),f(i,"class","section-4-item svelte-14314pc"),f(e,"class","section error-section svelte-14314pc")},m(m,w){y(m,e,w),c(e,s),c(s,t),c(s,o),c(s,n),c(e,a),c(e,i),c(i,v),c(i,g),c(i,C)},p(m,w){w&1&&u!==(u=m[2](m[0].lastErrorDateUnix))&&n.value!==u&&(n.value=u),w&1&&k!==(k=m[0].lastErrorMessage)&&C.value!==k&&(C.value=k)},d(m){m&&h(e)}}}function It(r){let e,s,t=r[1]&&lt(r);return{c(){t&&t.c(),e=_e()},l(l){t&&t.l(l),e=_e()},m(l,o){t&&t.m(l,o),y(l,e,o),s=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&N(t,1)):(t=lt(l),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(Le(),H(t,1,1,()=>{t=null}),Pe())},i(l){s||(N(t),s=!0)},o(l){H(t),s=!1},d(l){l&&h(e),t&&t.d(l)}}}function Dt(r,e,s){let t;ze(r,Je,_=>s(1,t=_));const l=Re();let{watcher:o}=e;const n=_=>{const g=new Date(_*1e3);return g.toLocaleDateString()+" "+g.toLocaleTimeString()},u=o.lastCheckDateUnix===0?"Never checked before":n(o.lastCheckDateUnix),a=o.lastUpdateDateUnix===0?"Never changed":n(o.lastUpdateDateUnix),i=Ct.fromMillis(o.checkIntervalSeconds*1e3).rescale().toHuman(),v=async()=>{if(!o.id){console.error("id must be defined");return}try{await $t(o.id),l("delete")}catch(_){const g=`<strong>Watcher not deleted</strong><br/> ${_.message}`;We.push(g,{theme:{"--toastBarBackground":"#FF0000"}})}};return r.$$set=_=>{"watcher"in _&&s(0,o=_.watcher)},[o,t,n,u,a,i,v]}class Ut extends Oe{constructor(e){super(),qe(this,e,Dt,It,He,{watcher:0})}}function at(r,e,s){const t=r.slice();return t[3]=e[s],t}function rt(r){let e,s;return e=new Ut({props:{watcher:r[3]}}),e.$on("delete",r[2]),{c(){Ee(e.$$.fragment)},l(t){xe(e.$$.fragment,t)},m(t,l){$e(e,t,l),s=!0},p(t,l){const o={};l&1&&(o.watcher=t[3]),e.$set(o)},i(t){s||(N(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){we(e,t)}}}function At(r){let e,s,t=Ze(r[0].sort(ot)),l=[];for(let n=0;n<t.length;n+=1)l[n]=rt(at(r,t,n));const o=n=>H(l[n],1,1,()=>{l[n]=null});return{c(){e=p("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=d(n,"DIV",{class:!0});var u=$(e);for(let a=0;a<l.length;a+=1)l[a].l(u);u.forEach(h),this.h()},h(){f(e,"class","container svelte-c8nodu")},m(n,u){y(n,e,u);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);s=!0},p(n,[u]){if(u&3){t=Ze(n[0].sort(ot));let a;for(a=0;a<t.length;a+=1){const i=at(n,t,a);l[a]?(l[a].p(i,u),N(l[a],1)):(l[a]=rt(i),l[a].c(),N(l[a],1),l[a].m(e,null))}for(Le(),a=t.length;a<l.length;a+=1)o(a);Pe()}},i(n){if(!s){for(let u=0;u<t.length;u+=1)N(l[u]);s=!0}},o(n){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)H(l[u]);s=!1},d(n){n&&h(e),ht(l,n)}}}const ot=(r,e)=>e.id-r.id;function Bt(r,e,s){let{watchers:t}=e;const l=Re(),o=()=>l("delete");return r.$$set=n=>{"watchers"in n&&s(0,t=n.watchers)},[t,l,o]}class Nt extends Oe{constructor(e){super(),qe(this,e,Bt,At,He,{watchers:0})}}function Tt(r){let e,s="Login to list the watchers";return{c(){e=p("p"),e.textContent=s},l(t){e=d(t,"P",{"data-svelte-h":!0}),U(e)!=="svelte-jtzxnq"&&(e.textContent=s)},m(t,l){y(t,e,l)},p:se,i:se,o:se,d(t){t&&h(e)}}}function jt(r){let e,s,t="Create a new watcher",l,o,n,u,a="Watchers",i,v,_,g;o=new Pt({}),o.$on("upload",r[3]);let C={ctx:r,current:null,token:null,hasCatch:!0,pending:Vt,then:Mt,catch:Wt,value:5,error:6,blocks:[,,,]};return Xe(_=r[0],C),{c(){e=p("details"),s=p("summary"),s.textContent=t,l=E(),Ee(o.$$.fragment),n=E(),u=p("h3"),u.textContent=a,i=E(),v=_e(),C.block.c()},l(k){e=d(k,"DETAILS",{});var m=$(e);s=d(m,"SUMMARY",{"data-svelte-h":!0}),U(s)!=="svelte-155u8eb"&&(s.textContent=t),l=x(m),xe(o.$$.fragment,m),m.forEach(h),n=x(k),u=d(k,"H3",{"data-svelte-h":!0}),U(u)!=="svelte-1d5313d"&&(u.textContent=a),i=x(k),v=_e(),C.block.l(k)},m(k,m){y(k,e,m),c(e,s),c(e,l),$e(o,e,null),y(k,n,m),y(k,u,m),y(k,i,m),y(k,v,m),C.block.m(k,C.anchor=m),C.mount=()=>v.parentNode,C.anchor=v,g=!0},p(k,m){r=k,C.ctx=r,m&1&&_!==(_=r[0])&&Xe(_,C)||vt(C,r,m)},i(k){g||(N(o.$$.fragment,k),N(C.block),g=!0)},o(k){H(o.$$.fragment,k);for(let m=0;m<3;m+=1){const w=C.blocks[m];H(w)}g=!1},d(k){k&&(h(e),h(n),h(u),h(i),h(v)),we(o),C.block.d(k),C.token=null,C=null}}}function Wt(r){let e,s="Something went wrong",t,l,o=JSON.stringify(r[6])+"",n;return{c(){e=p("p"),e.textContent=s,t=E(),l=p("p"),n=Me(o)},l(u){e=d(u,"P",{"data-svelte-h":!0}),U(e)!=="svelte-171fb2d"&&(e.textContent=s),t=x(u),l=d(u,"P",{});var a=$(l);n=Ve(a,o),a.forEach(h)},m(u,a){y(u,e,a),y(u,t,a),y(u,l,a),c(l,n)},p(u,a){a&1&&o!==(o=JSON.stringify(u[6])+"")&&Fe(n,o)},i:se,o:se,d(u){u&&(h(e),h(t),h(l))}}}function Mt(r){let e,s;return e=new Nt({props:{watchers:r[5]}}),e.$on("delete",r[4]),{c(){Ee(e.$$.fragment)},l(t){xe(e.$$.fragment,t)},m(t,l){$e(e,t,l),s=!0},p(t,l){const o={};l&1&&(o.watchers=t[5]),e.$set(o)},i(t){s||(N(e.$$.fragment,t),s=!0)},o(t){H(e.$$.fragment,t),s=!1},d(t){we(e,t)}}}function Vt(r){let e,s="Loading data";return{c(){e=p("p"),e.textContent=s},l(t){e=d(t,"P",{"data-svelte-h":!0}),U(e)!=="svelte-ezyzhc"&&(e.textContent=s)},m(t,l){y(t,e,l)},p:se,i:se,o:se,d(t){t&&h(e)}}}function Ht(r){let e,s="Web Watchers",t,l,o,n,u;const a=[jt,Tt],i=[];function v(_,g){return _[1]?0:1}return l=v(r),o=i[l]=a[l](r),{c(){e=p("h2"),e.textContent=s,t=E(),o.c(),n=_e()},l(_){e=d(_,"H2",{"data-svelte-h":!0}),U(e)!=="svelte-1xt9l7p"&&(e.textContent=s),t=x(_),o.l(_),n=_e()},m(_,g){y(_,e,g),y(_,t,g),i[l].m(_,g),y(_,n,g),u=!0},p(_,[g]){let C=l;l=v(_),l===C?i[l].p(_,g):(Le(),H(i[C],1,1,()=>{i[C]=null}),Pe(),o=i[l],o?o.p(_,g):(o=i[l]=a[l](_),o.c()),N(o,1),o.m(n.parentNode,n))},i(_){u||(N(o),u=!0)},o(_){H(o),u=!1},d(_){_&&(h(e),h(t),h(n)),i[l].d(_)}}}function Ot(r,e,s){let t;ze(r,Je,a=>s(1,t=a));const l=()=>t?xt():[];let o=l();return[o,t,l,()=>s(0,o=l()),()=>s(0,o=l())]}class Qt extends Oe{constructor(e){super(),qe(this,e,Ot,Ht,He,{})}}export{Qt as component,Yt as universal};
