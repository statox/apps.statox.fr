import"../chunks/NZTpNUN0.js";import{o as C}from"../chunks/CVDCh7bQ.js";import{p as A,c as w,f as l,a as s,d as E,g as r,u as T,b as u,s as f,e as d,r as m,t as G,i as I,h as J}from"../chunks/OOCdeaM4.js";import{s as L,d as K}from"../chunks/DBBHR-3t.js";import{i as H}from"../chunks/BMFH8sZT.js";import{a as F,s as N}from"../chunks/BY6cWyRb.js";import{u as P}from"../chunks/bMdrnNxv.js";import{M as U}from"../chunks/DKcpRBkl.js";import{e as O,i as Q}from"../chunks/80iJqotc.js";import{a as R}from"../chunks/Bfiui_HV.js";import{D as W}from"../chunks/DTyfSRsR.js";import{g as X}from"../chunks/Bd9sQ8Nq.js";import"../chunks/DRxGxY2p.js";import"../chunks/BJMzbe0X.js";import{p as Y}from"../chunks/Zs3ZkE6R.js";import{g as Z}from"../chunks/DqAq5Sus.js";var ee=u('<div class="event svelte-cyscl8"><div class="event-date"> </div> <div class="event-type"> </div> <div class="event-value"> </div></div>'),te=u('<div class="event svelte-cyscl8"><div>Date</div> <div>Type</div> <div>Value</div></div> <!>',1),ae=u("<p>Loading events</p>");function re(_,v){A(v,!0);const g=()=>F(P,"$user",h),[h,y]=N();var i=w(),c=l(i);{var b=n=>{var p=w(),t=l(p);R(t,()=>v.events,a=>{var e=ae();s(a,e)},(a,e)=>{var o=te(),x=f(l(o),2);O(x,17,()=>r(e),Q,(V,$)=>{const j=T(()=>W.fromSeconds(r($).eventDateUnix).toLocal().toFormat("dd/MM/yy HH:mm"));var k=ee(),D=d(k),q=d(D,!0);m(D);var M=f(D,2),z=d(M,!0);m(M);var S=f(M,2),B=d(S,!0);m(S),m(k),G(()=>{L(q,r(j)),L(z,r($).type),L(B,r($).value)}),s(V,k)}),s(a,o)},(a,e)=>{{let o=T(()=>({level:"error",header:"Something went wrong getting events",message:r(e)}));U(a,{get item(){return r(o)}})}}),s(n,p)};H(c,n=>{g()&&v.events&&n(b)})}s(_,i),E(),y()}var se=u("<div><button>Add an entry</button></div> <!>",1);function xe(_,v){A(v,!0);const g=()=>F(P,"$user",h),[h,y]=N();let i=J(void 0);Y.set("Personal Tracker"),C(()=>I(i,X(),!0));var c=w(),b=l(c);{var n=t=>{var a=se(),e=l(a),o=d(e);o.__click=()=>Z("/personal-tracker/add"),m(e);var x=f(e,2);re(x,{get events(){return r(i)}}),s(t,a)},p=t=>{U(t,{item:{level:"info",header:"Login to add an entry or see events"}})};H(b,t=>{g()?t(n):t(p,!1)})}s(_,c),E(),y()}K(["click"]);export{xe as component};
