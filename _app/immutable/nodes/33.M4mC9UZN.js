import"../chunks/DsnmJJEf.js";import{p as z,a1 as j,g as t,b as S,a as B,d as K,h as C,e as p,i as h,r as u,s as m,f as R,t as W,C as F,a$ as L,n as G}from"../chunks/BI5tnybL.js";import{s as A,d as I,e as V}from"../chunks/BHBOcJDT.js";import{s as T}from"../chunks/Db8wGxCz.js";import{M as N}from"../chunks/DZoLVZHK.js";import{a as H}from"../chunks/CW6Daupv.js";import{P as J}from"../chunks/CF2y4u_R.js";import{e as O,i as Q}from"../chunks/V4cWF7mx.js";import{T as U}from"../chunks/DP3j-b_7.js";import"../chunks/CbJJCuUa.js";import"../chunks/BAfo2ktg.js";import{p as X}from"../chunks/L3zL1n65.js";/* empty css                */import"../chunks/DKXeG7-1.js";var Y=S('<div id="canvas-container" class="d-flex justify-content-center"><!></div>');function Z(_,l){z(l,!0);let r=C(void 0);const o=a=>{a.setup=()=>{h(r,a,!0),a.createCanvas(600,100)},a.draw=()=>{const e=document.getElementById("canvas-container");if(e){const s=e?.clientWidth||600;a.width!==s&&a.resizeCanvas(s,100);const i=getComputedStyle(document.body),v=i.getPropertyValue("--nc-bg-2")||"white",d=i.getPropertyValue("--nc-tx-1")||"black";a.background(v),a.stroke(d)}const n=Date.now(),w=n-l.keptDuration;for(const s of l.taps){const i=a.map(s,n,w,a.width,0);a.line(i,0,i,a.height)}}};j(()=>{l.pause?t(r)?.noLoop():t(r)?.loop()}),H(()=>{t(r)?.remove()});var c=Y(),g=p(c);J(g,{sketch:o}),u(c),B(_,c),K()}var $=S("<span> </span> <span> </span> <span> </span>",1),ee=S('<div class="container svelte-bqe4u5"><span class="col table-head svelte-bqe4u5">BPM</span> <span class="col table-head svelte-bqe4u5">Tempo</span> <span class="col table-head svelte-bqe4u5">Description</span> <!></div>');function te(_,l){const r=[{name:"Larghissimo",description:"Extremely slow, slowest type of tempo",high:24},{name:"Adagissimo and Grave",description:"Very slow, very slow and solemn",low:24,high:40},{name:"Largo",description:"Slow and broad",low:40,high:66},{name:"Larghetto",description:"Rather slow and broad",low:44,high:66},{name:"Adagio",description:"Slow with great expression",low:44,high:68},{name:"Adagietto",description:"Slower than andante or slightly faster than adagio",low:46,high:80},{name:"Lento",description:"Slow",low:52,high:108},{name:"Andante",description:"At a walking pace, moderately slow",low:56,high:108},{name:"Andantino",description:"Slightly faster than andante, but slower than moderato (although, in some cases, it can be taken to mean slightly slower than andante)",low:80,high:108},{name:"Andante moderato",description:"Between andante and moderato (at a moderate walking speed)",low:80,high:108},{name:"Moderato",description:"At a moderate speed",low:108,high:120},{name:"Allegretto",description:"By the mid-19th century, moderately fast",low:112,high:120},{name:"Allegro moderato",description:"Close to, but not quite allegro",low:116,high:120},{name:"Allegro",description:"Fast and bright",low:120,high:156},{name:"Molto Allegro or Allegro vivace",description:"At least slightly faster and livelier than allegro, but always at its range (and no faster than vivace)",low:124,high:156},{name:"Vivace",description:"Lively and fast",low:156,high:176},{name:"Vivacissimo and Allegrissimo",description:"Very fast, lively and bright",low:172,high:176},{name:"Presto",description:"Very fast",low:168,high:200},{name:"Prestissimo",description:"Extremely fast (At this tempo, cut common time is often used)",low:200}],o=(e,n)=>e>(n.low??0)&&e<=(n.high??9999),c=e=>{if(e.high&&e.low)return`${e.low} - ${e.high}`;if(e.low)return`>${e.low}`;if(e.high)return`<${e.high}`};var g=ee(),a=m(p(g),6);O(a,17,()=>r,Q,(e,n)=>{var w=$(),s=R(w);let i;var v=p(s,!0);u(s);var d=m(s,2);let P;var k=p(d,!0);u(d);var b=m(d,2);let y;var E=p(b,!0);u(b),W((x,M,f,q)=>{i=T(s,1,"col svelte-bqe4u5",null,i,x),A(v,M),P=T(d,1,"col svelte-bqe4u5",null,P,f),A(k,t(n).name),y=T(b,1,"col svelte-bqe4u5",null,y,q),A(E,t(n).description)},[()=>({selected:o(l.currentBpm,t(n))}),()=>c(t(n)),()=>({selected:o(l.currentBpm,t(n))}),()=>({selected:o(l.currentBpm,t(n))})]),B(e,w)}),u(g),B(_,g)}var ae=S('<!> <div class="container svelte-1w445lz"><div>Press the space bar or click/tap anywhere on the page to get a bpm.</div> <div> <br/>BPM</div> <div class="controls svelte-1w445lz"><button class="control-button svelte-1w445lz">Reset (c)</button> <button class="control-button svelte-1w445lz"> </button></div> <!> <!></div>',1);function be(_,l){z(l,!0);const r={name:"Tap Tempo",description:"Tap Tempo Metronome",iconPath:"/tap_tempo.png"};X.set(r);let o=C(F(new U)),c=C(!1);const g=()=>{t(e)||(t(o).addBeat(),h(o,t(o),!0),h(c,!0),setTimeout(()=>h(c,!1),100))},a=()=>{t(o).reset(),h(e,!1)};let e=C(!1);const n=f=>{const D="Enter";if([" ",D,"c"].includes(f.key)){if(f.preventDefault(),f.key===" "){h(e,!1),g();return}if(f.key===D){h(e,!t(e));return}f.key==="c"&&(a(),h(o,t(o),!0))}};var w=ae();V("keydown",L,n),V("pointerdown",L,g);var s=R(w);N(s,{get title(){return r.name},get description(){return r.description},get iconPath(){return r.iconPath}});var i=m(s,2),v=m(p(i),2);let d;var P=p(v,!0);G(2),u(v);var k=m(v,2),b=p(k);b.__click=a;var y=m(b,2);y.__click=()=>h(e,!t(e));var E=p(y);u(y),u(k);var x=m(k,2);Z(x,{get taps(){return t(o).taps},get keptDuration(){return t(o).keptDuration},get pause(){return t(e)}});var M=m(x,2);te(M,{get currentBpm(){return t(o).bpm}}),u(i),W(()=>{d=T(v,1,"bpm svelte-1w445lz",null,d,{tapped:t(c)}),A(P,t(o).bpm),A(E,`${t(e)?"Play":"Pause"} (Enter)`)}),B(_,w),K()}I(["click"]);export{be as component};
