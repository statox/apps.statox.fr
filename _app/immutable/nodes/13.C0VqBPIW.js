import{s as te,e as T,c as C,b as S,f as u,m as A,i as $,n as z,N as nt,a as B,A as Y,z as X,g as L,h as w,E as ee,y as ot,t as K,d as q,G as it,B as Z,D as Ie,a1 as ae,O as $e,j as rt,a0 as Ne}from"../chunks/scheduler.B3gxbuV4.js";import{S as fe,i as de,b as he,d as ue,m as ge,a as R,t as F,e as me,g as ye,c as we}from"../chunks/index.D4Ghn6ud.js";import{e as G}from"../chunks/each.BG3x12hU.js";import{P as st}from"../chunks/P5.Cve-Pft3.js";import{c as at,o as ct}from"../chunks/store.9BnpkKOj.js";const U=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Te=s=>{if(s<1||s>7)throw new Error(`Unkown degree ${s}`);return["I","II","III","IV","V","VI","VII"][s-1]};function ft(s){let e,l,t;return l=new st({props:{sketch:s[0]}}),{c(){e=T("div"),he(l.$$.fragment),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=S(e);ue(l.$$.fragment,o),o.forEach(u),this.h()},h(){A(e,"class","d-flex justify-content-center")},m(n,o){$(n,e,o),ge(l,e,null),t=!0},p:z,i(n){t||(R(l.$$.fragment,n),t=!0)},o(n){F(l.$$.fragment,n),t=!1},d(n){n&&u(e),me(l)}}}const ke=14;function dt(s,e,l){let t,{labelMode:n="name"}=e,{notesToDisplay:o}=e;const d=["C","D","E","F","G","A","B"],m=["C#","D#","F#","G#","A#"],h=i=>{const r=[80,70,60,150],f=[80,70,60],c=i.width/ke;for(let _=0;_<ke;_++){const I=d[_%d.length];i.strokeWeight(1),i.stroke(r),i.noFill(),i.rect(c*_,0,c,i.height);const E=I+"#";m.includes(E)&&(i.fill(f),i.rect(c*_+2*c/3,0,c/2,i.height*.65))}},D=(i,r,f)=>{if(f==="name")return r;const c=i.indexOf(r);if(c===-1)throw new Error("note not in scale");return Te(c+1)},y=i=>{const r=i.width/ke;for(let f=0;f<ke;f++){const c=d[f%d.length],_=o.indexOf(c);if(_>=0){_===0?i.fill([250,80,80]):i.fill("black");const p=r*f+r/2,g=i.height*.8;i.circle(p,g,20),i.noStroke(),i.fill("white");const k=D(o,c,n);i.text(k,p-i.textWidth(k)/2,g+i.textSize()/2)}const I=c+"#",E=o.indexOf(I);if(E>=0){E===0?i.fill([250,80,80]):i.fill("black");const p=r*f+r,g=i.height*.5;i.circle(p,g,20),i.noStroke(),i.fill("white");const k=D(o,I,n);i.text(k,p-i.textWidth(k)/2,g+i.textSize()/2)}}},b=i=>{i.setup=()=>{l(3,t=i),i.createCanvas(900,300),i.textStyle(i.BOLD)},i.draw=()=>{i.background([200,190,170]),h(i),y(i),i.noLoop()}};return nt(()=>{t==null||t.remove()}),s.$$set=i=>{"labelMode"in i&&l(1,n=i.labelMode),"notesToDisplay"in i&&l(2,o=i.notesToDisplay)},s.$$.update=()=>{s.$$.dirty&14&&(o||n)&&(t==null||t.draw())},[b,n,o,t]}class ht extends fe{constructor(e){super(),de(this,e,dt,ft,te,{labelMode:1,notesToDisplay:2})}}function ut(s){let e,l,t;return l=new st({props:{sketch:s[0]}}),{c(){e=T("div"),he(l.$$.fragment),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=S(e);ue(l.$$.fragment,o),o.forEach(u),this.h()},h(){A(e,"class","d-flex justify-content-center")},m(n,o){$(n,e,o),ge(l,e,null),t=!0},p:z,i(n){t||(R(l.$$.fragment,n),t=!0)},o(n){F(l.$$.fragment,n),t=!1},d(n){n&&u(e),me(l)}}}const He=15,ce=30;function gt(s,e,l){let t,{labelMode:n="name"}=e,{notesToDisplay:o}=e;const d=["E","A","D","G","B","E"],m=d.map(r=>{const f=U.indexOf(r);if(f===-1)throw new Error(`Base ${r} not found`);const c=[r];for(let _=1;_<He;_++){const I=U[(f+_)%U.length];c.push(I)}return c}),h=r=>{const f=[80,70,60,150],c=r.height/6;for(let p=0;p<m.length;p++){const g=d[p],k=c*p+c/2;r.strokeWeight(1),r.stroke(f),r.noFill(),r.line(ce,k,r.width,k),r.noStroke(),r.fill(f),r.text(g,5,r.height-k+r.textSize()/2)}r.strokeWeight(5),r.stroke(f),r.noFill(),r.line(ce,c/2,ce,r.height-c/2),r.strokeWeight(1);const _=r.width/m[0].length;for(let p=1;p<He;p++){const g=ce+_*p;r.line(g,c/2,g,r.height-c/2)}const I=[3,5,7,9,15];for(const p of I){let{x:g,y:k}=b({string:2,fret:p});k-=c/2,r.fill(f),r.circle(g,k,10)}const E=[1,3];for(const p of E){let{x:g,y:k}=b({string:p,fret:12});k-=c/2,r.fill(f),r.circle(g,k,10)}},D=(r,f,c)=>{if(c==="name")return f;const _=r.indexOf(f);if(_===-1)throw new Error("note not in scale");return Te(_+1)},y=r=>{for(let f=0;f<6;f++){const c=m[f];for(let _=0;_<c.length;_++){const I=c[_];if(!o.includes(I))continue;const E={string:f,fret:_},{x:p,y:g}=b(E);o.indexOf(I)===0?r.fill([250,80,80]):r.fill("black"),r.circle(p,g,20),r.noStroke(),r.fill("white");const k=D(o,I,n);r.text(k,p-r.textWidth(k)/2,g+r.textSize()/2)}}},b=r=>{const{string:f,fret:c}=r,_=t.height/6,I=_*(5-f)+_/2;if(c===0)return{x:ce,y:I};const E=t.width/m[0].length;return{x:ce+E*(c-1)+E*.5,y:I}},i=r=>{r.setup=()=>{l(3,t=r),r.createCanvas(900,300),r.textStyle(r.BOLD)},r.draw=()=>{r.background([200,190,170]),h(r),y(r),r.noLoop()}};return nt(()=>{t==null||t.remove()}),s.$$set=r=>{"labelMode"in r&&l(1,n=r.labelMode),"notesToDisplay"in r&&l(2,o=r.notesToDisplay)},s.$$.update=()=>{s.$$.dirty&14&&(o||n)&&(t==null||t.draw())},[i,n,o,t]}class mt extends fe{constructor(e){super(),de(this,e,gt,ut,te,{labelMode:1,notesToDisplay:2})}}function Pe(s){let e,l;return e=new mt({props:{notesToDisplay:s[0],labelMode:s[1]}}),{c(){he(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,n){ge(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.notesToDisplay=t[0]),n&2&&(o.labelMode=t[1]),e.$set(o)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){me(e,t)}}}function Ve(s){let e,l;return e=new ht({props:{notesToDisplay:s[0],labelMode:s[1]}}),{c(){he(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,n){ge(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.notesToDisplay=t[0]),n&2&&(o.labelMode=t[1]),e.$set(o)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){me(e,t)}}}function _t(s){let e,l="Instrument",t,n,o,d="C / IV",m,h,D='<i class="fas fa-guitar"></i> / <i class="fas fa-keyboard"></i>',y,b=["neck","both"].includes(s[3][s[2]]),i,r=["keyboard","both"].includes(s[3][s[2]]),f,c,_,I,E=b&&Pe(s),p=r&&Ve(s);return{c(){e=T("h3"),e.textContent=l,t=B(),n=T("div"),o=T("button"),o.textContent=d,m=B(),h=T("button"),h.innerHTML=D,y=B(),E&&E.c(),i=B(),p&&p.c(),f=Y()},l(g){e=C(g,"H3",{"data-svelte-h":!0}),X(e)!=="svelte-r64p2h"&&(e.textContent=l),t=L(g),n=C(g,"DIV",{});var k=S(n);o=C(k,"BUTTON",{"data-svelte-h":!0}),X(o)!=="svelte-16iriab"&&(o.textContent=d),m=L(k),h=C(k,"BUTTON",{"data-svelte-h":!0}),X(h)!=="svelte-1rhgwvu"&&(h.innerHTML=D),k.forEach(u),y=L(g),E&&E.l(g),i=L(g),p&&p.l(g),f=Y()},m(g,k){$(g,e,k),$(g,t,k),$(g,n,k),w(n,o),w(n,m),w(n,h),$(g,y,k),E&&E.m(g,k),$(g,i,k),p&&p.m(g,k),$(g,f,k),c=!0,_||(I=[ee(o,"click",s[4]),ee(h,"click",s[5])],_=!0)},p(g,[k]){k&4&&(b=["neck","both"].includes(g[3][g[2]])),b?E?(E.p(g,k),k&4&&R(E,1)):(E=Pe(g),E.c(),R(E,1),E.m(i.parentNode,i)):E&&(ye(),F(E,1,1,()=>{E=null}),we()),k&4&&(r=["keyboard","both"].includes(g[3][g[2]])),r?p?(p.p(g,k),k&4&&R(p,1)):(p=Ve(g),p.c(),R(p,1),p.m(f.parentNode,f)):p&&(ye(),F(p,1,1,()=>{p=null}),we())},i(g){c||(R(E),R(p),c=!0)},o(g){F(E),F(p),c=!1},d(g){g&&(u(e),u(t),u(n),u(y),u(i),u(f)),E&&E.d(g),p&&p.d(g),_=!1,ot(I)}}}function vt(s,e,l){let{notesToDisplay:t}=e,n="name";const o=["neck","keyboard","both"];let d=0;const m=()=>l(1,n=n==="name"?"degree":"name"),h=()=>l(2,d=(d+1)%o.length);return s.$$set=D=>{"notesToDisplay"in D&&l(0,t=D.notesToDisplay)},[t,n,d,o,m,h]}class bt extends fe{constructor(e){super(),de(this,e,vt,_t,te,{notesToDisplay:0})}}function Re(s){let e,l,t,n,o,d="Close",m,h,D=`This is a list of chord progressions I took from David Benett&#39;s videos and elsewhere
                too

                <ul><li><a href="https://www.youtube.com/watch?v=Vyc8lezaa9g" rel="noopener noreferrer" target="_blank">David Benett - 7 super common chord progressions and why they work</a></li> <li><a href="https://www.youtube.com/watch?v=v3YbEL-_eoI" rel="noopener noreferrer" target="_blank">David Benett - 6 more common chord progressions and why they work</a></li></ul>

                The user can change the tonic note in the &quot;Scales&quot; section and the progressions will
                change the actual chords to play.`,y,b;return{c(){e=T("div"),l=T("div"),t=T("h4"),n=K(`Chord Progressions
                `),o=T("button"),o.textContent=d,m=B(),h=T("div"),h.innerHTML=D,this.h()},l(i){e=C(i,"DIV",{role:!0,class:!0});var r=S(e);l=C(r,"DIV",{class:!0});var f=S(l);t=C(f,"H4",{class:!0});var c=S(t);n=q(c,`Chord Progressions
                `),o=C(c,"BUTTON",{"data-svelte-h":!0}),X(o)!=="svelte-2m9p61"&&(o.textContent=d),c.forEach(u),m=L(f),h=C(f,"DIV",{"data-svelte-h":!0}),X(h)!=="svelte-wthkhb"&&(h.innerHTML=D),f.forEach(u),r.forEach(u),this.h()},h(){A(t,"class","title-bar svelte-mmovoq"),A(l,"class","contents svelte-mmovoq"),A(e,"role","dialog"),A(e,"class","modal svelte-mmovoq")},m(i,r){$(i,e,r),w(e,l),w(l,t),w(t,n),w(t,o),w(l,m),w(l,h),y||(b=ee(o,"click",at),y=!0)},d(i){i&&u(e),y=!1,b()}}}function pt(s){let e,l=s[0]&&Re();return{c(){l&&l.c(),e=Y()},l(t){l&&l.l(t),e=Y()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,[n]){t[0]?l||(l=Re(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:z,o:z,d(t){t&&u(e),l&&l.d(t)}}}function kt(s,e,l){let{isOpen:t}=e;return s.$$set=n=>{"isOpen"in n&&l(0,t=n.isOpen)},[t]}class yt extends fe{constructor(e){super(),de(this,e,kt,pt,te,{isOpen:0})}}const We=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}];function Fe(s,e,l){const t=s.slice();return t[4]=e[l],t}function Ge(s,e,l){const t=s.slice();return t[7]=e[l],t}function wt(s){let e,l,t="Examples:",n,o=s[4].examples.join(", ")+"",d;return{c(){e=T("span"),l=T("b"),l.textContent=t,n=B(),d=K(o)},l(m){e=C(m,"SPAN",{});var h=S(e);l=C(h,"B",{"data-svelte-h":!0}),X(l)!=="svelte-1jvpsk3"&&(l.textContent=t),n=L(h),d=q(h,o),h.forEach(u)},m(m,h){$(m,e,h),w(e,l),w(e,n),w(e,d)},d(m){m&&u(e)}}}function ze(s){let e,l,t=s[0](s[7])+"",n,o,d,m=s[1](s[7])+"",h,D;return{c(){e=T("div"),l=T("div"),n=K(t),o=B(),d=T("div"),h=K(m),D=B(),this.h()},l(y){e=C(y,"DIV",{class:!0});var b=S(e);l=C(b,"DIV",{class:!0});var i=S(l);n=q(i,t),i.forEach(u),o=L(b),d=C(b,"DIV",{class:!0});var r=S(d);h=q(r,m),r.forEach(u),D=L(b),b.forEach(u),this.h()},h(){A(l,"class","step-degree svelte-1p3ym4z"),A(d,"class","step-value svelte-1p3ym4z"),A(e,"class","progression-step")},m(y,b){$(y,e,b),w(e,l),w(l,n),w(e,o),w(e,d),w(d,h),w(e,D)},p:z,d(y){y&&u(e)}}}function Ke(s){let e,l,t=s[4].name+"",n,o,d,m,h,D,y=s[4].examples&&wt(s),b=G(s[4].chords),i=[];for(let r=0;r<b.length;r+=1)i[r]=ze(Ge(s,b,r));return{c(){e=T("div"),l=T("h4"),n=K(t),o=B(),y&&y.c(),d=B(),m=T("div");for(let r=0;r<i.length;r+=1)i[r].c();h=B(),D=T("br"),this.h()},l(r){e=C(r,"DIV",{});var f=S(e);l=C(f,"H4",{});var c=S(l);n=q(c,t),c.forEach(u),o=L(f),y&&y.l(f),d=L(f),m=C(f,"DIV",{class:!0});var _=S(m);for(let I=0;I<i.length;I+=1)i[I].l(_);_.forEach(u),f.forEach(u),h=L(r),D=C(r,"BR",{}),this.h()},h(){A(m,"class","progression-table svelte-1p3ym4z")},m(r,f){$(r,e,f),w(e,l),w(l,n),w(e,o),y&&y.m(e,null),w(e,d),w(e,m);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(m,null);$(r,h,f),$(r,D,f)},p(r,f){if(f&3){b=G(r[4].chords);let c;for(c=0;c<b.length;c+=1){const _=Ge(r,b,c);i[c]?i[c].p(_,f):(i[c]=ze(_),i[c].c(),i[c].m(m,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=b.length}},d(r){r&&(u(e),u(h),u(D)),y&&y.d(),Z(i,r)}}}function Tt(s){let e,l,t,n,o='<i class="fa fa-info-circle" aria-hidden="true"></i>',d,m,h,D,y=G(We),b=[];for(let i=0;i<y.length;i+=1)b[i]=Ke(Fe(s,y,i));return{c(){e=T("h3"),l=K(`Chord Progressions
    `),t=T("span"),n=T("button"),n.innerHTML=o,d=B();for(let i=0;i<b.length;i+=1)b[i].c();m=Y(),this.h()},l(i){e=C(i,"H3",{});var r=S(e);l=q(r,`Chord Progressions
    `),t=C(r,"SPAN",{});var f=S(t);n=C(f,"BUTTON",{"data-svelte-h":!0}),X(n)!=="svelte-1r24cmf"&&(n.innerHTML=o),f.forEach(u),r.forEach(u),d=L(i);for(let c=0;c<b.length;c+=1)b[c].l(i);m=Y(),this.h()},h(){it(n,"position","relative")},m(i,r){$(i,e,r),w(e,l),w(e,t),w(t,n),$(i,d,r);for(let f=0;f<b.length;f+=1)b[f]&&b[f].m(i,r);$(i,m,r),h||(D=ee(n,"click",s[3]),h=!0)},p(i,[r]){if(r&3){y=G(We);let f;for(f=0;f<y.length;f+=1){const c=Fe(i,y,f);b[f]?b[f].p(c,r):(b[f]=Ke(c),b[f].c(),b[f].m(m.parentNode,m))}for(;f<b.length;f+=1)b[f].d(1);b.length=y.length}},i:z,o:z,d(i){i&&(u(e),u(d),u(m)),Z(b,i),h=!1,D()}}}function Ct(s,e,l){let{scaleNotes:t=[]}=e;const n=m=>{let h=Te(m.degree);return m.minor&&(h=h.toLowerCase()),m.flat&&(h="b"+h),h},o=m=>{const h=t[m.degree-1];let D=U.indexOf(h);m.flat&&(D--,D===-1&&(D=U.length-1));let y=U[D];return m.minor&&(y+="m"),y},d=()=>ct(yt);return s.$$set=m=>{"scaleNotes"in m&&l(2,t=m.scaleNotes)},[n,o,t,d]}class Dt extends fe{constructor(e){super(),de(this,e,Ct,Tt,te,{scaleNotes:2})}}function qe(s,e,l){const t=s.slice();t[12]=e[l],t[15]=l;const n=t[1].chords[t[15]];return t[13]=n,t}function Ue(s,e,l){const t=s.slice();return t[16]=e[l],t[15]=l,t}function Ye(s,e,l){const t=s.slice();return t[2]=e[l],t}function Je(s,e,l){const t=s.slice();return t[1]=e[l],t}function Et(s,e,l){const t=s.slice();return t[12]=e[l],t}function It(s){let e,l,t;return{c(){e=T("option"),l=K(s[12]),t=B(),this.h()},l(n){e=C(n,"OPTION",{});var o=S(e);l=q(o,s[12]),t=L(o),o.forEach(u),this.h()},h(){e.__value=s[12],$e(e,e.__value)},m(n,o){$(n,e,o),w(e,l),w(e,t)},p:z,d(n){n&&u(e)}}}function Xe(s){let e,l=s[1].name+"",t,n;return{c(){e=T("option"),t=K(l),n=B(),this.h()},l(o){e=C(o,"OPTION",{});var d=S(e);t=q(d,l),n=L(d),d.forEach(u),this.h()},h(){e.__value=s[1],$e(e,e.__value)},m(o,d){$(o,e,d),w(e,t),w(e,n)},p:z,d(o){o&&u(e)}}}function Qe(s){let e,l=s[2].name+"",t,n;return{c(){e=T("option"),t=K(l),n=B(),this.h()},l(o){e=C(o,"OPTION",{});var d=S(e);t=q(d,l),n=L(d),d.forEach(u),this.h()},h(){e.__value=s[2],$e(e,e.__value)},m(o,d){$(o,e,d),w(e,t),w(e,n)},p:z,d(o){o&&u(e)}}}function Ze(s){let e,l=s[6](s[15]+1,s[16])+"",t;return{c(){e=T("th"),t=K(l),this.h()},l(n){e=C(n,"TH",{class:!0});var o=S(e);t=q(o,l),o.forEach(u),this.h()},h(){A(e,"class","svelte-gg3pfu")},m(n,o){$(n,e,o),w(e,t)},p(n,o){o&2&&l!==(l=n[6](n[15]+1,n[16])+"")&&rt(t,l)},d(n){n&&u(e)}}}function et(s){let e,l=s[7](s[12],s[13])+"",t;return{c(){e=T("td"),t=K(l),this.h()},l(n){e=C(n,"TD",{class:!0});var o=S(e);t=q(o,l),o.forEach(u),this.h()},h(){A(e,"class","svelte-gg3pfu")},m(n,o){$(n,e,o),w(e,t)},p(n,o){o&10&&l!==(l=n[7](n[12],n[13])+"")&&rt(t,l)},d(n){n&&u(e)}}}function tt(s){let e=s[3],l,t,n=lt(s);return{c(){n.c(),l=Y()},l(o){n.l(o),l=Y()},m(o,d){n.m(o,d),$(o,l,d),t=!0},p(o,d){d&8&&te(e,e=o[3])?(ye(),F(n,1,1,z),we(),n=lt(o),n.c(),R(n,1),n.m(l.parentNode,l)):n.p(o,d)},i(o){t||(R(n),t=!0)},o(o){F(n),t=!1},d(o){o&&u(l),n.d(o)}}}function lt(s){let e,l;return e=new Dt({props:{scaleNotes:s[3]}}),{c(){he(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,n){ge(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.scaleNotes=t[3]),e.$set(o)},i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){me(e,t)}}}function Nt(s){let e,l="Scales",t,n,o,d='<th class="svelte-gg3pfu"><label for="tonicInput">Tonic</label></th> <th class="svelte-gg3pfu"><label for="scaleInput">Scale</label></th> <th class="svelte-gg3pfu"><label for="modeInput">mode</label></th>',m,h,D,y,b,i,r,f,c,_,I,E,p,g,k,Ce,le,_e,Q,ve,De=["Major","Natural minor"].includes(s[1].name),ne,be,Ee,Me,Se=G(U),J=[];for(let a=0;a<Se.length;a+=1)J[a]=It(Et(s,Se,a));let oe=G(s[4]),j=[];for(let a=0;a<oe.length;a+=1)j[a]=Xe(Je(s,oe,a));let re=G(s[5]),H=[];for(let a=0;a<re.length;a+=1)H[a]=Qe(Ye(s,re,a));let se=G(s[1].chords),P=[];for(let a=0;a<se.length;a+=1)P[a]=Ze(Ue(s,se,a));let ie=G(s[3]),V=[];for(let a=0;a<ie.length;a+=1)V[a]=et(qe(s,ie,a));Q=new bt({props:{notesToDisplay:s[3]}});let x=De&&tt(s);return{c(){e=T("h2"),e.textContent=l,t=B(),n=T("table"),o=T("tr"),o.innerHTML=d,m=B(),h=T("tr"),D=T("td"),y=T("select");for(let a=0;a<J.length;a+=1)J[a].c();b=B(),i=T("td"),r=T("select");for(let a=0;a<j.length;a+=1)j[a].c();f=B(),c=T("td"),_=T("select");for(let a=0;a<H.length;a+=1)H[a].c();I=B(),E=T("br"),p=B(),g=T("table"),k=T("tr");for(let a=0;a<P.length;a+=1)P[a].c();Ce=B(),le=T("tr");for(let a=0;a<V.length;a+=1)V[a].c();_e=B(),he(Q.$$.fragment),ve=B(),x&&x.c(),ne=Y(),this.h()},l(a){e=C(a,"H2",{"data-svelte-h":!0}),X(e)!=="svelte-b2sc71"&&(e.textContent=l),t=L(a),n=C(a,"TABLE",{});var M=S(n);o=C(M,"TR",{"data-svelte-h":!0}),X(o)!=="svelte-1edz06s"&&(o.innerHTML=d),m=L(M),h=C(M,"TR",{});var N=S(h);D=C(N,"TD",{class:!0});var v=S(D);y=C(v,"SELECT",{id:!0});var W=S(y);for(let O=0;O<J.length;O+=1)J[O].l(W);W.forEach(u),v.forEach(u),b=L(N),i=C(N,"TD",{class:!0});var Be=S(i);r=C(Be,"SELECT",{id:!0});var Le=S(r);for(let O=0;O<j.length;O+=1)j[O].l(Le);Le.forEach(u),Be.forEach(u),f=L(N),c=C(N,"TD",{class:!0});var xe=S(c);_=C(xe,"SELECT",{id:!0});var Oe=S(_);for(let O=0;O<H.length;O+=1)H[O].l(Oe);Oe.forEach(u),xe.forEach(u),N.forEach(u),M.forEach(u),I=L(a),E=C(a,"BR",{}),p=L(a),g=C(a,"TABLE",{});var pe=S(g);k=C(pe,"TR",{});var Ae=S(k);for(let O=0;O<P.length;O+=1)P[O].l(Ae);Ae.forEach(u),Ce=L(pe),le=C(pe,"TR",{});var je=S(le);for(let O=0;O<V.length;O+=1)V[O].l(je);je.forEach(u),pe.forEach(u),_e=L(a),ue(Q.$$.fragment,a),ve=L(a),x&&x.l(a),ne=Y(),this.h()},h(){A(y,"id","tonicInput"),s[0]===void 0&&Ie(()=>s[8].call(y)),A(D,"class","svelte-gg3pfu"),A(r,"id","scaleInput"),s[1]===void 0&&Ie(()=>s[9].call(r)),A(i,"class","svelte-gg3pfu"),A(_,"id","modeInput"),s[2]===void 0&&Ie(()=>s[10].call(_)),A(c,"class","svelte-gg3pfu")},m(a,M){$(a,e,M),$(a,t,M),$(a,n,M),w(n,o),w(n,m),w(n,h),w(h,D),w(D,y);for(let N=0;N<J.length;N+=1)J[N]&&J[N].m(y,null);ae(y,s[0],!0),w(h,b),w(h,i),w(i,r);for(let N=0;N<j.length;N+=1)j[N]&&j[N].m(r,null);ae(r,s[1],!0),w(h,f),w(h,c),w(c,_);for(let N=0;N<H.length;N+=1)H[N]&&H[N].m(_,null);ae(_,s[2],!0),$(a,I,M),$(a,E,M),$(a,p,M),$(a,g,M),w(g,k);for(let N=0;N<P.length;N+=1)P[N]&&P[N].m(k,null);w(g,Ce),w(g,le);for(let N=0;N<V.length;N+=1)V[N]&&V[N].m(le,null);$(a,_e,M),ge(Q,a,M),$(a,ve,M),x&&x.m(a,M),$(a,ne,M),be=!0,Ee||(Me=[ee(y,"change",s[8]),ee(r,"change",s[9]),ee(_,"change",s[10])],Ee=!0)},p(a,[M]){if(M&1&&ae(y,a[0]),M&16){oe=G(a[4]);let v;for(v=0;v<oe.length;v+=1){const W=Je(a,oe,v);j[v]?j[v].p(W,M):(j[v]=Xe(W),j[v].c(),j[v].m(r,null))}for(;v<j.length;v+=1)j[v].d(1);j.length=oe.length}if(M&18&&ae(r,a[1]),M&32){re=G(a[5]);let v;for(v=0;v<re.length;v+=1){const W=Ye(a,re,v);H[v]?H[v].p(W,M):(H[v]=Qe(W),H[v].c(),H[v].m(_,null))}for(;v<H.length;v+=1)H[v].d(1);H.length=re.length}if(M&36&&ae(_,a[2]),M&66){se=G(a[1].chords);let v;for(v=0;v<se.length;v+=1){const W=Ue(a,se,v);P[v]?P[v].p(W,M):(P[v]=Ze(W),P[v].c(),P[v].m(k,null))}for(;v<P.length;v+=1)P[v].d(1);P.length=se.length}if(M&138){ie=G(a[3]);let v;for(v=0;v<ie.length;v+=1){const W=qe(a,ie,v);V[v]?V[v].p(W,M):(V[v]=et(W),V[v].c(),V[v].m(le,null))}for(;v<V.length;v+=1)V[v].d(1);V.length=ie.length}const N={};M&8&&(N.notesToDisplay=a[3]),Q.$set(N),M&2&&(De=["Major","Natural minor"].includes(a[1].name)),De?x?(x.p(a,M),M&2&&R(x,1)):(x=tt(a),x.c(),R(x,1),x.m(ne.parentNode,ne)):x&&(ye(),F(x,1,1,()=>{x=null}),we())},i(a){be||(R(Q.$$.fragment,a),R(x),be=!0)},o(a){F(Q.$$.fragment,a),F(x),be=!1},d(a){a&&(u(e),u(t),u(n),u(I),u(E),u(p),u(g),u(_e),u(ve),u(ne)),Z(J,a),Z(j,a),Z(H,a),Z(P,a),Z(V,a),me(Q,a),x&&x.d(a),Ee=!1,ot(Me)}}}function $t(s,e,l){const t=[{name:"Major",intervals:[2,2,1,2,2,2,1],chords:["major","minor","minor","diminished","major","minor","major"]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2],chords:["minor","diminished","major","minor","major","major","minor"]},{name:"Pentatonic major",intervals:[2,2,3,2,3],chords:["major","minor","minor","major","minor"]},{name:"Pentatonic minor",intervals:[3,2,2,3,2],chords:["minor","major","minor","major","major"]}],n=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let o="C",d=t[0],m=n[0],h=[];const D=(c,_,I)=>{const{intervals:E}=_;l(3,h=[c]);const p=U.indexOf(c);if(p===-1)throw new Error(`Tonic ${c} not found`);let g=p;for(const k of E)g=(g+k)%U.length,h.push(U[g]);h.pop();for(let k=1;k<I.degree;k++)h.push(h.shift())},y=(c,_)=>{let I=Te(c);return _==="minor"?I=I.toLowerCase():_==="diminished"&&(I+="°"),I},b=(c,_)=>{let I=c;return _==="minor"?I+="m":_==="diminished"&&(I+="°"),I};function i(){o=Ne(this),l(0,o)}function r(){d=Ne(this),l(1,d),l(4,t)}function f(){m=Ne(this),l(2,m),l(5,n)}return s.$$.update=()=>{s.$$.dirty&7&&D(o,d,m)},[o,d,m,h,t,n,y,b,i,r,f]}class Ot extends fe{constructor(e){super(),de(this,e,$t,Nt,te,{})}}export{Ot as component};
