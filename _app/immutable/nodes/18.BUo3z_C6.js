import{s as Be,A as ue,i as I,f as _,k as Qe,K as St,e as d,t as pe,a as E,c as p,b as y,d as _e,z as P,g as z,l as f,P as se,D as yt,h as u,Q as rt,E as ie,a4 as $t,B as Xe,y as It,S as Lt,n as ce,o as Ye,p as Ut,G as Ke,j as $e,a5 as At}from"../chunks/scheduler.BO3y7xWz.js";import{h as ot,u as Pt}from"../chunks/await_block.vjURO2PQ.js";import{S as Me,i as We,a as N,g as Ne,t as V,c as De,f as Nt,b as be,d as ge,m as Ce,e as ke}from"../chunks/index.B50URdbp.js";import{c as Et,o as Dt}from"../chunks/store.BQHXY7q4.js";import{u as Ze,U as Tt}from"../chunks/service.BLt_mUGN.js";import{M as zt,t as wt}from"../chunks/Main.B7Wqfkn0.js";import{r as Bt,a as et,A as Mt}from"../chunks/index.uuPfrGPX.js";import{e as Pe}from"../chunks/each.BRii_a9x.js";import{M as Wt,a as xt,b as Ot}from"../chunks/Main.DQ4jXLMq.js";import{D as Vt}from"../chunks/datetime.BvUHwVSq.js";const Ht=!1,Sl=Object.freeze(Object.defineProperty({__proto__:null,ssr:Ht},Symbol.toStringTag,{value:"Module"})),it=async()=>Bt({path:"/webWatcher/getAllWatchers"}),ct=async a=>et({path:"/webWatcher/createWatcher",data:a}),qt=async a=>et({path:"/webWatcher/deleteWatcher",data:{id:a}}),Ft=async a=>et({path:"/webWatcher/toggleWatcherEnabled",data:a});function ut(a,e,n){const t=a.slice();return t[17]=e[n],t}function ft(a){let e,n,t,l,s,o="Close",r,i,c,h,v="Name",C,b,m,g,k="Check interval",$,x,X,L,q,Ee="Notification message (the @mention is automatically added)",ze,G,fe,re,Y="Watcher type",Z,F,ee,Ie="CSS",R,ve="HASH",me,te,Le="URL",we,J,le,ne,Ue,Se,ae,ye,oe,K=Pe(a[1]),U=[];for(let w=0;w<K.length;w+=1)U[w]=ht(ut(a,K,w));const Te=w=>V(U[w],1,1,()=>{U[w]=null});function he(w){a[12](w)}let Ae={allowedUnits:["minutes","hours","days"],defaultDuration:{value:1,unit:"hours"}};a[6]!==void 0&&(Ae.valueInSeconds=a[6]),x=new Wt({props:Ae}),St.push(()=>Nt(x,"valueInSeconds",he));let O=a[7]==="CSS"&&dt(a);function de(w,A){return w[8]?jt:Rt}let Q=de(a),j=Q(a);return{c(){e=d("div"),n=d("div"),t=d("h4"),l=pe(`Add a new clipboard entry
                `),s=d("button"),s.textContent=o,r=E();for(let w=0;w<U.length;w+=1)U[w].c();i=E(),c=d("form"),h=d("label"),h.textContent=v,C=E(),b=d("input"),m=E(),g=d("label"),g.textContent=k,$=E(),be(x.$$.fragment),L=E(),q=d("label"),q.textContent=Ee,ze=E(),G=d("input"),fe=E(),re=d("label"),re.textContent=Y,Z=E(),F=d("select"),ee=d("option"),ee.textContent=Ie,R=d("option"),R.textContent=ve,me=E(),te=d("label"),te.textContent=Le,we=E(),J=d("input"),le=E(),O&&O.c(),ne=E(),Ue=d("br"),Se=E(),j.c(),this.h()},l(w){e=p(w,"DIV",{role:!0,class:!0});var A=y(e);n=p(A,"DIV",{class:!0});var B=y(n);t=p(B,"H4",{class:!0});var D=y(t);l=_e(D,`Add a new clipboard entry
                `),s=p(D,"BUTTON",{"data-svelte-h":!0}),P(s)!=="svelte-2m9p61"&&(s.textContent=o),D.forEach(_),r=z(B);for(let H=0;H<U.length;H+=1)U[H].l(B);i=z(B),c=p(B,"FORM",{class:!0});var S=y(c);h=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(h)!=="svelte-bs9sy6"&&(h.textContent=v),C=z(S),b=p(S,"INPUT",{type:!0}),m=z(S),g=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(g)!=="svelte-q7xqd"&&(g.textContent=k),$=z(S),ge(x.$$.fragment,S),L=z(S),q=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(q)!=="svelte-1nwvu8o"&&(q.textContent=Ee),ze=z(S),G=p(S,"INPUT",{type:!0}),fe=z(S),re=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(re)!=="svelte-180kuuc"&&(re.textContent=Y),Z=z(S),F=p(S,"SELECT",{id:!0});var M=y(F);ee=p(M,"OPTION",{"data-svelte-h":!0}),P(ee)!=="svelte-x0e7ng"&&(ee.textContent=Ie),R=p(M,"OPTION",{"data-svelte-h":!0}),P(R)!=="svelte-1f1oya6"&&(R.textContent=ve),M.forEach(_),me=z(S),te=p(S,"LABEL",{for:!0,"data-svelte-h":!0}),P(te)!=="svelte-47691s"&&(te.textContent=Le),we=z(S),J=p(S,"INPUT",{type:!0}),le=z(S),O&&O.l(S),ne=z(S),Ue=p(S,"BR",{}),Se=z(S),j.l(S),S.forEach(_),B.forEach(_),A.forEach(_),this.h()},h(){f(t,"class","title-bar svelte-tlh79p"),f(h,"for","name"),f(b,"type","text"),f(g,"for","check-interval"),f(q,"for","notification-message"),f(G,"type","textarea"),f(re,"for","watch-type"),ee.__value="CSS",se(ee,ee.__value),R.__value="HASH",se(R,R.__value),f(F,"id","watch-type"),a[7]===void 0&&yt(()=>a[14].call(F)),f(te,"for","content"),f(J,"type","textarea"),f(c,"class","form-content svelte-tlh79p"),f(n,"class","contents svelte-tlh79p"),f(e,"role","dialog"),f(e,"class","modal svelte-tlh79p")},m(w,A){I(w,e,A),u(e,n),u(n,t),u(t,l),u(t,s),u(n,r);for(let B=0;B<U.length;B+=1)U[B]&&U[B].m(n,null);u(n,i),u(n,c),u(c,h),u(c,C),u(c,b),se(b,a[2]),u(c,m),u(c,g),u(c,$),Ce(x,c,null),u(c,L),u(c,q),u(c,ze),u(c,G),se(G,a[3]),u(c,fe),u(c,re),u(c,Z),u(c,F),u(F,ee),u(F,R),rt(F,a[7],!0),u(c,me),u(c,te),u(c,we),u(c,J),se(J,a[4]),u(c,le),O&&O.m(c,null),u(c,ne),u(c,Ue),u(c,Se),j.m(c,null),ae=!0,ye||(oe=[ie(s,"click",Et),ie(b,"input",a[11]),ie(G,"input",a[13]),ie(F,"change",a[14]),ie(J,"input",a[15])],ye=!0)},p(w,A){if(A&2){K=Pe(w[1]);let D;for(D=0;D<K.length;D+=1){const S=ut(w,K,D);U[D]?(U[D].p(S,A),N(U[D],1)):(U[D]=ht(S),U[D].c(),N(U[D],1),U[D].m(n,i))}for(Ne(),D=K.length;D<U.length;D+=1)Te(D);De()}A&4&&b.value!==w[2]&&se(b,w[2]);const B={};!X&&A&64&&(X=!0,B.valueInSeconds=w[6],$t(()=>X=!1)),x.$set(B),A&8&&se(G,w[3]),A&128&&rt(F,w[7]),A&16&&se(J,w[4]),w[7]==="CSS"?O?O.p(w,A):(O=dt(w),O.c(),O.m(c,ne)):O&&(O.d(1),O=null),Q===(Q=de(w))&&j?j.p(w,A):(j.d(1),j=Q(w),j&&(j.c(),j.m(c,null)))},i(w){if(!ae){for(let A=0;A<K.length;A+=1)N(U[A]);N(x.$$.fragment,w),ae=!0}},o(w){U=U.filter(Boolean);for(let A=0;A<U.length;A+=1)V(U[A]);V(x.$$.fragment,w),ae=!1},d(w){w&&_(e),Xe(U,w),ke(x),O&&O.d(),j.d(),ye=!1,It(oe)}}}function ht(a){let e,n;return e=new zt({props:{item:a[17]}}),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,l){Ce(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.item=t[17]),e.$set(s)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){ke(e,t)}}}function dt(a){let e,n="CSS selector",t,l,s,o;return{c(){e=d("label"),e.textContent=n,t=E(),l=d("input"),this.h()},l(r){e=p(r,"LABEL",{for:!0,"data-svelte-h":!0}),P(e)!=="svelte-1ib74yx"&&(e.textContent=n),t=z(r),l=p(r,"INPUT",{type:!0}),this.h()},h(){f(e,"for","css-selector"),f(l,"type","textarea")},m(r,i){I(r,e,i),I(r,t,i),I(r,l,i),se(l,a[5]),s||(o=ie(l,"input",a[16]),s=!0)},p(r,i){i&32&&se(l,r[5])},d(r){r&&(_(e),_(t),_(l)),s=!1,o()}}}function Rt(a){let e,n="Login to upload an entry";return{c(){e=d("span"),e.textContent=n,this.h()},l(t){e=p(t,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-4ab4io"&&(e.textContent=n),this.h()},h(){f(e,"class","form-action svelte-tlh79p")},m(t,l){I(t,e,l)},p:ce,d(t){t&&_(e)}}}function jt(a){let e,n="Submit",t,l;return{c(){e=d("button"),e.textContent=n,this.h()},l(s){e=p(s,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1nfv1d"&&(e.textContent=n),this.h()},h(){f(e,"class","form-action svelte-tlh79p")},m(s,o){I(s,e,o),t||(l=ie(e,"click",a[9]),t=!0)},p:ce,d(s){s&&_(e),t=!1,l()}}}function Gt(a){let e,n,t=a[0]&&ft(a);return{c(){t&&t.c(),e=ue()},l(l){t&&t.l(l),e=ue()},m(l,s){t&&t.m(l,s),I(l,e,s),n=!0},p(l,[s]){l[0]?t?(t.p(l,s),s&1&&N(t,1)):(t=ft(l),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(Ne(),V(t,1,1,()=>{t=null}),De())},i(l){n||(N(t),n=!0)},o(l){V(t),n=!1},d(l){l&&_(e),t&&t.d(l)}}}function Jt(a,e,n){let t;Qe(a,Ze,L=>n(8,t=L));let{isOpen:l}=e,{onUpload:s}=e,o=[],r,i,c,h,v,C;const b=async()=>{n(1,o=[]),r!=null&&r.length||o.push({level:"error",header:"name must be defined"}),i||o.push({level:"error",header:"notification message must be defined"}),C==="CSS"&&!h&&o.push({level:"error",header:"A CSS watcher must have a css selector defined"}),v<15*60&&o.push({level:"error",header:"Check interval too small. Must be >= 15mn"});try{new URL(c)}catch{o.push({level:"error",header:"The URL is invalid"})}if(!o.length)try{C==="CSS"?await ct({name:r,notificationMessage:i,url:c,cssSelector:h,checkIntervalSeconds:v,watchType:C}):C==="HASH"&&await ct({name:r,notificationMessage:i,url:c,checkIntervalSeconds:v,watchType:C}),s(),Et()}catch(L){let q=L.message;L instanceof Mt&&L.code===401?q="Invalid logged in user":L instanceof Tt&&(q="User is logged out");const Ee=`<strong>Entry not created</strong><br/> ${q}`;wt.push(Ee,{theme:{"--toastBarBackground":"#FF0000"}})}};function m(){r=this.value,n(2,r)}function g(L){v=L,n(6,v)}function k(){i=this.value,n(3,i)}function $(){C=Lt(this),n(7,C)}function x(){c=this.value,n(4,c)}function X(){h=this.value,n(5,h)}return a.$$set=L=>{"isOpen"in L&&n(0,l=L.isOpen),"onUpload"in L&&n(10,s=L.onUpload)},[l,o,r,i,c,h,v,C,t,b,s,m,g,k,$,x,X]}class Kt extends Me{constructor(e){super(),We(this,e,Jt,Gt,Be,{isOpen:0,onUpload:10})}}function pt(a,e,n){const t=a.slice();return t[11]=e[n],t}function Qt(a){let e,n,t,l,s,o=Pe(a[3]),r=[];for(let i=0;i<o.length;i+=1)r[i]=_t(pt(a,o,i));return{c(){e=d("div"),n=d("div"),t=d("div"),l=pe(a[1]),s=E();for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0});var c=y(e);n=p(c,"DIV",{role:!0,class:!0,"aria-labelledby":!0,style:!0,id:!0});var h=y(n);t=p(h,"DIV",{class:!0,id:!0});var v=y(t);l=_e(v,a[1]),v.forEach(_),s=z(h);for(let C=0;C<r.length;C+=1)r[C].l(h);h.forEach(_),c.forEach(_),this.h()},h(){f(t,"class","legend"),f(t,"id",`label-${a[6]}`),f(n,"role","radiogroup"),f(n,"class","group-container svelte-1n7axnp"),f(n,"aria-labelledby",`label-${a[6]}`),Ke(n,"font-size",a[4]+"px"),f(n,"id",`group-${a[6]}`),f(e,"class","s s--multi svelte-1n7axnp")},m(i,c){I(i,e,c),u(e,n),u(n,t),u(t,l),u(n,s);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(n,null)},p(i,c){if(c&2&&$e(l,i[1]),c&73){o=Pe(i[3]);let h;for(h=0;h<o.length;h+=1){const v=pt(i,o,h);r[h]?r[h].p(v,c):(r[h]=_t(v),r[h].c(),r[h].m(n,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=o.length}c&16&&Ke(n,"font-size",i[4]+"px")},d(i){i&&_(e),Xe(r,i)}}}function Xt(a){let e,n,t,l,s,o,r;return{c(){e=d("div"),n=d("span"),t=pe(a[1]),l=E(),s=d("button"),this.h()},l(i){e=p(i,"DIV",{class:!0,style:!0});var c=y(e);n=p(c,"SPAN",{id:!0});var h=y(n);t=_e(h,a[1]),h.forEach(_),l=z(c),s=p(c,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var v=y(s);v.forEach(_),c.forEach(_),this.h()},h(){f(n,"id",`switch-${a[6]}`),f(s,"role","switch"),f(s,"aria-checked",a[5]),f(s,"aria-labelledby",`switch-${a[6]}`),f(s,"class","svelte-1n7axnp"),f(e,"class","s s--slider svelte-1n7axnp"),Ke(e,"font-size",a[4]+"px")},m(i,c){I(i,e,c),u(e,n),u(n,t),u(e,l),u(e,s),o||(r=ie(s,"click",a[7]),o=!0)},p(i,c){c&2&&$e(t,i[1]),c&32&&f(s,"aria-checked",i[5]),c&16&&Ke(e,"font-size",i[4]+"px")},d(i){i&&_(e),o=!1,r()}}}function Yt(a){let e,n,t,l,s,o,r="on",i,c,h="off",v,C;return{c(){e=d("div"),n=d("span"),t=pe(a[1]),l=E(),s=d("button"),o=d("span"),o.textContent=r,i=E(),c=d("span"),c.textContent=h,this.h()},l(b){e=p(b,"DIV",{class:!0});var m=y(e);n=p(m,"SPAN",{id:!0,class:!0});var g=y(n);t=_e(g,a[1]),g.forEach(_),l=z(m),s=p(m,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var k=y(s);o=p(k,"SPAN",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-oik0f3"&&(o.textContent=r),i=z(k),c=p(k,"SPAN",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-10sksj5"&&(c.textContent=h),k.forEach(_),m.forEach(_),this.h()},h(){f(n,"id",`switch-${a[6]}`),f(n,"class","svelte-1n7axnp"),f(o,"class","svelte-1n7axnp"),f(c,"class","svelte-1n7axnp"),f(s,"role","switch"),f(s,"aria-checked",a[5]),f(s,"aria-labelledby",`switch-${a[6]}`),f(s,"class","svelte-1n7axnp"),f(e,"class","s s--inner svelte-1n7axnp")},m(b,m){I(b,e,m),u(e,n),u(n,t),u(e,l),u(e,s),u(s,o),u(s,i),u(s,c),v||(C=ie(s,"click",a[7]),v=!0)},p(b,m){m&2&&$e(t,b[1]),m&32&&f(s,"aria-checked",b[5])},d(b){b&&_(e),v=!1,C()}}}function _t(a){let e,n,t,l=!1,s,o,r=a[11]+"",i,c,h,v,C,b;return v=At(a[9][0]),{c(){e=d("input"),s=E(),o=d("label"),i=pe(r),c=E(),this.h()},l(m){e=p(m,"INPUT",{type:!0,id:!0,class:!0}),s=z(m),o=p(m,"LABEL",{for:!0,class:!0});var g=y(o);i=_e(g,r),c=z(g),g.forEach(_),this.h()},h(){f(e,"type","radio"),f(e,"id",n=`${a[11]}-${a[6]}`),e.__value=t=a[11],se(e,e.__value),f(e,"class","svelte-1n7axnp"),f(o,"for",h=`${a[11]}-${a[6]}`),f(o,"class","svelte-1n7axnp"),v.p(e)},m(m,g){I(m,e,g),e.checked=e.__value===a[0],I(m,s,g),I(m,o,g),u(o,i),u(o,c),C||(b=ie(e,"change",a[8]),C=!0)},p(m,g){g&8&&n!==(n=`${m[11]}-${m[6]}`)&&f(e,"id",n),g&8&&t!==(t=m[11])&&(e.__value=t,se(e,e.__value),l=!0),(l||g&9)&&(e.checked=e.__value===m[0]),g&8&&r!==(r=m[11]+"")&&$e(i,r),g&8&&h!==(h=`${m[11]}-${m[6]}`)&&f(o,"for",h)},d(m){m&&(_(e),_(s),_(o)),v.r(),C=!1,b()}}}function Zt(a){let e;function n(s,o){return s[2]=="inner"?Yt:s[2]=="slider"?Xt:Qt}let t=n(a),l=t(a);return{c(){l.c(),e=ue()},l(s){l.l(s),e=ue()},m(s,o){l.m(s,o),I(s,e,o)},p(s,[o]){t===(t=n(s))&&l?l.p(s,o):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},i:ce,o:ce,d(s){s&&_(e),l.d(s)}}}function el(a,e,n){let{label:t}=e,{design:l="inner label"}=e,{options:s=[]}=e,{fontSize:o=16}=e,{value:r="on"}=e,i=!0;const c=Math.floor(Math.random()*100),h=Ye();function v(m){const g=m.target,k=g==null?void 0:g.getAttribute("aria-checked");n(5,i=k!=="true"),n(0,r=i===!0?"on":"off"),h("change",r)}Ut(()=>{n(5,i=r==="on")});const C=[[]];function b(){r=this.__value,n(0,r)}return a.$$set=m=>{"label"in m&&n(1,t=m.label),"design"in m&&n(2,l=m.design),"options"in m&&n(3,s=m.options),"fontSize"in m&&n(4,o=m.fontSize),"value"in m&&n(0,r=m.value)},[r,t,l,s,o,i,c,v,b,C]}class tl extends Me{constructor(e){super(),We(this,e,el,Zt,Be,{label:1,design:2,options:3,fontSize:4,value:0})}}function vt(a){let e,n,t,l=a[0].name+"",s,o,r,i,c,h,v,C,b,m,g="Check interval",k,$,x,X,L,q,Ee="Notification message",ze,G,fe,re,Y,Z,F,ee="URL",Ie,R,ve=a[0].url+"",me,te,Le,we,J,le,ne,Ue="Last check",Se,ae,ye,oe,K,U="Last content change",Te,he,Ae,O,de,Q,j,w="Last content",A,B,D,S;i=new tl({props:{value:a[8],label:"Enabled",design:"slider"}}),i.$on("change",a[7]),h=new xt({}),h.$on("delete",a[6]);let M=a[0].watchType==="CSS"&&mt(a),H=a[0].lastErrorDateUnix&&bt(a);return{c(){e=d("div"),n=d("h4"),t=d("div"),s=pe(l),o=E(),r=d("div"),be(i.$$.fragment),c=E(),be(h.$$.fragment),v=E(),C=d("div"),b=d("p"),m=d("label"),m.textContent=g,k=E(),$=d("input"),x=E(),X=d("div"),L=d("p"),q=d("label"),q.textContent=Ee,ze=E(),G=d("input"),re=E(),Y=d("div"),Z=d("p"),F=d("label"),F.textContent=ee,Ie=E(),R=d("a"),me=pe(ve),Le=E(),M&&M.c(),we=E(),J=d("div"),le=d("p"),ne=d("label"),ne.textContent=Ue,Se=E(),ae=d("input"),ye=E(),oe=d("p"),K=d("label"),K.textContent=U,Te=E(),he=d("input"),Ae=E(),H&&H.c(),O=E(),de=d("div"),Q=d("p"),j=d("label"),j.textContent=w,A=E(),B=d("input"),this.h()},l(W){e=p(W,"DIV",{class:!0});var T=y(e);n=p(T,"H4",{class:!0});var xe=y(n);t=p(xe,"DIV",{class:!0});var tt=y(t);s=_e(tt,l),tt.forEach(_),o=z(xe),r=p(xe,"DIV",{class:!0});var Oe=y(r);ge(i.$$.fragment,Oe),c=z(Oe),ge(h.$$.fragment,Oe),Oe.forEach(_),xe.forEach(_),v=z(T),C=p(T,"DIV",{class:!0});var lt=y(C);b=p(lt,"P",{class:!0});var Ve=y(b);m=p(Ve,"LABEL",{for:!0,"data-svelte-h":!0}),P(m)!=="svelte-q7xqd"&&(m.textContent=g),k=z(Ve),$=p(Ve,"INPUT",{type:!0,class:!0}),Ve.forEach(_),lt.forEach(_),x=z(T),X=p(T,"DIV",{class:!0});var nt=y(X);L=p(nt,"P",{class:!0});var He=y(L);q=p(He,"LABEL",{for:!0,"data-svelte-h":!0}),P(q)!=="svelte-1rjok9v"&&(q.textContent=Ee),ze=z(He),G=p(He,"INPUT",{type:!0,class:!0}),He.forEach(_),nt.forEach(_),re=z(T),Y=p(T,"DIV",{class:!0});var qe=y(Y);Z=p(qe,"P",{class:!0});var Fe=y(Z);F=p(Fe,"LABEL",{for:!0,"data-svelte-h":!0}),P(F)!=="svelte-47691s"&&(F.textContent=ee),Ie=z(Fe),R=p(Fe,"A",{target:!0,rel:!0,href:!0});var at=y(R);me=_e(at,ve),at.forEach(_),Fe.forEach(_),Le=z(qe),M&&M.l(qe),qe.forEach(_),we=z(T),J=p(T,"DIV",{class:!0});var Re=y(J);le=p(Re,"P",{class:!0});var je=y(le);ne=p(je,"LABEL",{for:!0,"data-svelte-h":!0}),P(ne)!=="svelte-l58ce3"&&(ne.textContent=Ue),Se=z(je),ae=p(je,"INPUT",{type:!0,class:!0}),je.forEach(_),ye=z(Re),oe=p(Re,"P",{class:!0});var Ge=y(oe);K=p(Ge,"LABEL",{for:!0,"data-svelte-h":!0}),P(K)!=="svelte-r6rd2z"&&(K.textContent=U),Te=z(Ge),he=p(Ge,"INPUT",{type:!0,class:!0}),Ge.forEach(_),Re.forEach(_),Ae=z(T),H&&H.l(T),O=z(T),de=p(T,"DIV",{class:!0});var st=y(de);Q=p(st,"P",{class:!0});var Je=y(Q);j=p(Je,"LABEL",{for:!0,"data-svelte-h":!0}),P(j)!=="svelte-1hxqr7r"&&(j.textContent=w),A=z(Je),B=p(Je,"INPUT",{type:!0,class:!0}),Je.forEach(_),st.forEach(_),T.forEach(_),this.h()},h(){f(t,"class","item-name svelte-zz97hg"),f(r,"class","item-actions svelte-zz97hg"),f(n,"class","item-title svelte-zz97hg"),f(m,"for","check-interval"),$.disabled=!0,f($,"type","textarea"),$.value=a[5],f($,"class","svelte-zz97hg"),f(b,"class","section-1-item svelte-zz97hg"),f(C,"class","section svelte-zz97hg"),f(q,"for","notification-message"),G.disabled=!0,f(G,"type","textarea"),G.value=fe=a[0].notificationMessage,f(G,"class","svelte-zz97hg"),f(L,"class","section-2-item svelte-zz97hg"),f(X,"class","section svelte-zz97hg"),f(F,"for","content"),f(R,"target","_blank"),f(R,"rel","noopener noreferrer"),f(R,"href",te=a[0].url),f(Z,"class","section-3-item svelte-zz97hg"),f(Y,"class","section svelte-zz97hg"),f(ne,"for","last-check"),ae.disabled=!0,f(ae,"type","textarea"),ae.value=a[3],f(ae,"class","svelte-zz97hg"),f(le,"class","section-4-item svelte-zz97hg"),f(K,"for","last-update"),he.disabled=!0,f(he,"type","textarea"),he.value=a[4],f(he,"class","svelte-zz97hg"),f(oe,"class","section-4-item svelte-zz97hg"),f(J,"class","section svelte-zz97hg"),f(j,"for","last-update"),B.disabled=!0,f(B,"type","textarea"),B.value=D=a[0].lastContent,f(B,"class","svelte-zz97hg"),f(Q,"class","section-3-item svelte-zz97hg"),f(de,"class","section svelte-zz97hg"),f(e,"class","item svelte-zz97hg")},m(W,T){I(W,e,T),u(e,n),u(n,t),u(t,s),u(n,o),u(n,r),Ce(i,r,null),u(r,c),Ce(h,r,null),u(e,v),u(e,C),u(C,b),u(b,m),u(b,k),u(b,$),u(e,x),u(e,X),u(X,L),u(L,q),u(L,ze),u(L,G),u(e,re),u(e,Y),u(Y,Z),u(Z,F),u(Z,Ie),u(Z,R),u(R,me),u(Y,Le),M&&M.m(Y,null),u(e,we),u(e,J),u(J,le),u(le,ne),u(le,Se),u(le,ae),u(J,ye),u(J,oe),u(oe,K),u(oe,Te),u(oe,he),u(e,Ae),H&&H.m(e,null),u(e,O),u(e,de),u(de,Q),u(Q,j),u(Q,A),u(Q,B),S=!0},p(W,T){(!S||T&1)&&l!==(l=W[0].name+"")&&$e(s,l),(!S||T&1&&fe!==(fe=W[0].notificationMessage)&&G.value!==fe)&&(G.value=fe),(!S||T&1)&&ve!==(ve=W[0].url+"")&&$e(me,ve),(!S||T&1&&te!==(te=W[0].url))&&f(R,"href",te),W[0].watchType==="CSS"?M?(M.p(W,T),T&1&&N(M,1)):(M=mt(W),M.c(),N(M,1),M.m(Y,null)):M&&(Ne(),V(M,1,1,()=>{M=null}),De()),W[0].lastErrorDateUnix?H?H.p(W,T):(H=bt(W),H.c(),H.m(e,O)):H&&(H.d(1),H=null),(!S||T&1&&D!==(D=W[0].lastContent)&&B.value!==D)&&(B.value=D)},i(W){S||(N(i.$$.fragment,W),N(h.$$.fragment,W),N(M),S=!0)},o(W){V(i.$$.fragment,W),V(h.$$.fragment,W),V(M),S=!1},d(W){W&&_(e),ke(i),ke(h),M&&M.d(),H&&H.d()}}}function mt(a){let e,n,t,l,s,o,r,i;return l=new Ot({props:{content:a[0].cssSelector}}),{c(){e=d("p"),n=d("label"),t=pe(`CSS selector
                        `),be(l.$$.fragment),s=E(),o=d("input"),this.h()},l(c){e=p(c,"P",{class:!0});var h=y(e);n=p(h,"LABEL",{for:!0});var v=y(n);t=_e(v,`CSS selector
                        `),ge(l.$$.fragment,v),v.forEach(_),s=z(h),o=p(h,"INPUT",{type:!0,class:!0}),h.forEach(_),this.h()},h(){f(n,"for","css-selector"),o.disabled=!0,f(o,"type","textarea"),o.value=r=a[0].cssSelector,f(o,"class","svelte-zz97hg"),f(e,"class","section-3-item svelte-zz97hg")},m(c,h){I(c,e,h),u(e,n),u(n,t),Ce(l,n,null),u(e,s),u(e,o),i=!0},p(c,h){const v={};h&1&&(v.content=c[0].cssSelector),l.$set(v),(!i||h&1&&r!==(r=c[0].cssSelector)&&o.value!==r)&&(o.value=r)},i(c){i||(N(l.$$.fragment,c),i=!0)},o(c){V(l.$$.fragment,c),i=!1},d(c){c&&_(e),ke(l)}}}function bt(a){let e,n,t,l="Last error",s,o,r,i,c,h,v="Last error message",C,b,m;return{c(){e=d("div"),n=d("p"),t=d("label"),t.textContent=l,s=E(),o=d("input"),i=E(),c=d("p"),h=d("label"),h.textContent=v,C=E(),b=d("input"),this.h()},l(g){e=p(g,"DIV",{class:!0});var k=y(e);n=p(k,"P",{class:!0});var $=y(n);t=p($,"LABEL",{for:!0,"data-svelte-h":!0}),P(t)!=="svelte-1h8ip7h"&&(t.textContent=l),s=z($),o=p($,"INPUT",{type:!0,class:!0}),$.forEach(_),i=z(k),c=p(k,"P",{class:!0});var x=y(c);h=p(x,"LABEL",{for:!0,"data-svelte-h":!0}),P(h)!=="svelte-x18p73"&&(h.textContent=v),C=z(x),b=p(x,"INPUT",{type:!0,class:!0}),x.forEach(_),k.forEach(_),this.h()},h(){f(t,"for","last-check"),o.disabled=!0,f(o,"type","textarea"),o.value=r=a[2](a[0].lastErrorDateUnix),f(o,"class","svelte-zz97hg"),f(n,"class","section-4-item svelte-zz97hg"),f(h,"for","last-update"),b.disabled=!0,f(b,"type","textarea"),b.value=m=a[0].lastErrorMessage,f(b,"class","svelte-zz97hg"),f(c,"class","section-4-item svelte-zz97hg"),f(e,"class","section error-section svelte-zz97hg")},m(g,k){I(g,e,k),u(e,n),u(n,t),u(n,s),u(n,o),u(e,i),u(e,c),u(c,h),u(c,C),u(c,b)},p(g,k){k&1&&r!==(r=g[2](g[0].lastErrorDateUnix))&&o.value!==r&&(o.value=r),k&1&&m!==(m=g[0].lastErrorMessage)&&b.value!==m&&(b.value=m)},d(g){g&&_(e)}}}function ll(a){let e,n,t=a[1]&&vt(a);return{c(){t&&t.c(),e=ue()},l(l){t&&t.l(l),e=ue()},m(l,s){t&&t.m(l,s),I(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&N(t,1)):(t=vt(l),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(Ne(),V(t,1,1,()=>{t=null}),De())},i(l){n||(N(t),n=!0)},o(l){V(t),n=!1},d(l){l&&_(e),t&&t.d(l)}}}function nl(a,e,n){let t;Qe(a,Ze,b=>n(1,t=b));const l=Ye();let{watcher:s}=e;const o=b=>{const m=new Date(b*1e3);return m.toLocaleDateString()+" "+m.toLocaleTimeString()},r=s.lastCheckDateUnix===0?"Never checked before":o(s.lastCheckDateUnix),i=s.lastUpdateDateUnix===0?"Never changed":o(s.lastUpdateDateUnix),c=Vt.fromMillis(s.checkIntervalSeconds*1e3).rescale().toHuman(),h=async()=>{if(!s.id){console.error("id must be defined");return}try{await qt(s.id),l("delete")}catch(b){const m=`<strong>Watcher not deleted</strong><br/> ${b.message}`;wt.push(m,{theme:{"--toastBarBackground":"#FF0000"}})}},v=async b=>{await Ft({watcherId:s.id,setToEnabled:b.detail==="on"}),l("update")};let C=s.archivalDateUnix?"off":"on";return a.$$set=b=>{"watcher"in b&&n(0,s=b.watcher)},[s,t,o,r,i,c,h,v,C]}class al extends Me{constructor(e){super(),We(this,e,nl,ll,Be,{watcher:0})}}function gt(a,e,n){const t=a.slice();return t[4]=e[n],t}function Ct(a){let e,n;return e=new al({props:{watcher:a[4]}}),e.$on("delete",a[2]),e.$on("update",a[3]),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,l){Ce(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.watcher=t[4]),e.$set(s)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){ke(e,t)}}}function sl(a){let e,n,t=Pe(a[0].sort(kt)),l=[];for(let o=0;o<t.length;o+=1)l[o]=Ct(gt(a,t,o));const s=o=>V(l[o],1,1,()=>{l[o]=null});return{c(){e=d("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var r=y(e);for(let i=0;i<l.length;i+=1)l[i].l(r);r.forEach(_),this.h()},h(){f(e,"class","container svelte-c8nodu")},m(o,r){I(o,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);n=!0},p(o,[r]){if(r&3){t=Pe(o[0].sort(kt));let i;for(i=0;i<t.length;i+=1){const c=gt(o,t,i);l[i]?(l[i].p(c,r),N(l[i],1)):(l[i]=Ct(c),l[i].c(),N(l[i],1),l[i].m(e,null))}for(Ne(),i=t.length;i<l.length;i+=1)s(i);De()}},i(o){if(!n){for(let r=0;r<t.length;r+=1)N(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)V(l[r]);n=!1},d(o){o&&_(e),Xe(l,o)}}}const kt=(a,e)=>e.id-a.id;function rl(a,e,n){let{watchers:t}=e;const l=Ye(),s=()=>l("delete"),o=()=>l("update");return a.$$set=r=>{"watchers"in r&&n(0,t=r.watchers)},[t,l,s,o]}class ol extends Me{constructor(e){super(),We(this,e,rl,sl,Be,{watchers:0})}}function il(a){let e,n;return e=new zt({props:{item:{level:"info",header:"Login to list the watchers"}}}),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,l){Ce(e,t,l),n=!0},p:ce,i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){ke(e,t)}}}function cl(a){let e,n="Create a new watcher",t,l,s="Add an entry",o,r,i="Watchers",c,h,v,C,b,m,g={ctx:a,current:null,token:null,hasCatch:!0,pending:hl,then:fl,catch:ul,value:4,error:5,blocks:[,,,]};return ot(v=a[0],g),{c(){e=d("h3"),e.textContent=n,t=E(),l=d("button"),l.textContent=s,o=E(),r=d("h3"),r.textContent=i,c=E(),h=ue(),g.block.c()},l(k){e=p(k,"H3",{"data-svelte-h":!0}),P(e)!=="svelte-1mwl5rt"&&(e.textContent=n),t=z(k),l=p(k,"BUTTON",{"data-svelte-h":!0}),P(l)!=="svelte-10yn9w3"&&(l.textContent=s),o=z(k),r=p(k,"H3",{"data-svelte-h":!0}),P(r)!=="svelte-1d5313d"&&(r.textContent=i),c=z(k),h=ue(),g.block.l(k)},m(k,$){I(k,e,$),I(k,t,$),I(k,l,$),I(k,o,$),I(k,r,$),I(k,c,$),I(k,h,$),g.block.m(k,g.anchor=$),g.mount=()=>h.parentNode,g.anchor=h,C=!0,b||(m=ie(l,"click",a[3]),b=!0)},p(k,$){a=k,g.ctx=a,$&1&&v!==(v=a[0])&&ot(v,g)||Pt(g,a,$)},i(k){C||(N(g.block),C=!0)},o(k){for(let $=0;$<3;$+=1){const x=g.blocks[$];V(x)}C=!1},d(k){k&&(_(e),_(t),_(l),_(o),_(r),_(c),_(h)),g.block.d(k),g.token=null,g=null,b=!1,m()}}}function ul(a){let e,n="Something went wrong",t,l,s=JSON.stringify(a[5])+"",o;return{c(){e=d("p"),e.textContent=n,t=E(),l=d("p"),o=pe(s)},l(r){e=p(r,"P",{"data-svelte-h":!0}),P(e)!=="svelte-171fb2d"&&(e.textContent=n),t=z(r),l=p(r,"P",{});var i=y(l);o=_e(i,s),i.forEach(_)},m(r,i){I(r,e,i),I(r,t,i),I(r,l,i),u(l,o)},p(r,i){i&1&&s!==(s=JSON.stringify(r[5])+"")&&$e(o,s)},i:ce,o:ce,d(r){r&&(_(e),_(t),_(l))}}}function fl(a){let e,n;return e=new ol({props:{watchers:a[4]}}),e.$on("delete",a[2]),e.$on("update",a[2]),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,l){Ce(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.watchers=t[4]),e.$set(s)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){ke(e,t)}}}function hl(a){let e,n="Loading data";return{c(){e=d("p"),e.textContent=n},l(t){e=p(t,"P",{"data-svelte-h":!0}),P(e)!=="svelte-ezyzhc"&&(e.textContent=n)},m(t,l){I(t,e,l)},p:ce,i:ce,o:ce,d(t){t&&_(e)}}}function dl(a){let e,n="Web Watchers",t,l,s,o,r;const i=[cl,il],c=[];function h(v,C){return v[1]?0:1}return l=h(a),s=c[l]=i[l](a),{c(){e=d("h2"),e.textContent=n,t=E(),s.c(),o=ue()},l(v){e=p(v,"H2",{"data-svelte-h":!0}),P(e)!=="svelte-1xt9l7p"&&(e.textContent=n),t=z(v),s.l(v),o=ue()},m(v,C){I(v,e,C),I(v,t,C),c[l].m(v,C),I(v,o,C),r=!0},p(v,[C]){let b=l;l=h(v),l===b?c[l].p(v,C):(Ne(),V(c[b],1,1,()=>{c[b]=null}),De(),s=c[l],s?s.p(v,C):(s=c[l]=i[l](v),s.c()),N(s,1),s.m(o.parentNode,o))},i(v){r||(N(s),r=!0)},o(v){V(s),r=!1},d(v){v&&(_(e),_(t),_(o)),c[l].d(v)}}}function pl(a,e,n){let t;Qe(a,Ze,r=>n(1,t=r));let l=it();const s=()=>n(0,l=it());return[l,t,s,()=>Dt(Kt,{onUpload:s})]}class yl extends Me{constructor(e){super(),We(this,e,pl,dl,Be,{})}}export{yl as component,Sl as universal};
